{"version":3,"sources":["components/common/index.js","components/Input/CommandInput/dndFunc.js","components/common/function/localStorageEffect.js","components/recoil.js","style/index.js","components/BottomHeader.js","components/BottomTabBar.js","components/Btn/CreateBtn.js","components/PathInfo.js","components/NMap.js","components/common/function/getPath.js","components/common/Icon.js","components/Input/index.js","components/SearchPosition.js","components/card/PositionCard.js","components/SelectMapModal.js","components/Input/switch.js","components/Input/radio.js","components/common/Tag.js","components/common/prettyDate.js","components/card/RoomCard.js","components/BottomModal.js","screen/HomeScreen.js","screen/SearchScreen.js","components/Btn/BookmarkBtn.js","components/Icon/ProfileIcon.js","components/card/ProfileCard.js","components/Input/CommandInput/CImage.js","components/Input/CourseImage.js","components/BackHeader.js","screen/CourseDetailScreen.js","components/card/CourseCard.js","components/list/CouseList.js","components/CourseArea.js","components/Btn/CreateBtnCourse.js","components/Input/InputImage.js","components/FadeDiv/index.js","components/Input/CommandInput/CommandListRenderItem.js","components/Input/CommandInput/CPlace.js","components/Input/CommandInput/CTextarea.js","components/common/function/getPlatform.js","components/Input/CommandInput/CH.js","components/Input/CommandInput/CTag.js","components/Input/CommandInput/CContour.js","components/modal/CourseProductModal.js","components/Input/CommandInput/CProduct.js","components/Input/CommandInput/CItem.js","components/Icon/Rowdot.js","components/Input/CommandArea.js","components/modal/CourseCreateModal.js","components/common/function/getCroppedImg.js","components/modal/CropScreen.js","components/Dialog/AlertDialog.js","screen/CourseScreen.js","screen/ShopScreen.js","screen/MyChatScreen.js","screen/MyScreen.js","App.js","reportWebVitals.js","index.js"],"names":["API_URL","postfetch","url","params","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","Promise","resolve","reject","fetch","method","headers","body","then","d","json","catch","e","getfetch","posInit","address_name","category_group_code","category_group_name","category_name","distance","id","phone","place_name","place_url","road_address_name","x","y","ChatRoomInit","departureTime","created_at","deleted_at","disable_at","end_route","gender","path","person_limit","start_at","start_route","taxiFare","title","NAVER_API_KEY","getItems","count","offset","type","content","Array","from","length","v","k","map","Date","getTime","contentEditable","suppressContentEditableWarning","getItemStyle","isDragging","draggableStyle","translate","transform","Number","split","slice","userSelect","onDragEnd","result","list","setList","destination","arr","startIndex","endIndex","splice","removed","reorder","source","index","localStorageEffect","key","setSelf","onSet","savedValue","localStorage","getItem","JSON","parse","newValue","setItem","stringify","commandInputColorState","atom","default","commandInputListState","effects_UNSTABLE","loadingState","commandWindowState","visible","top","left","height","pathState","duration","alertDialogInit","text","handleConfirm","alertDialogState","deleteModePosState","placePosState","endPosState","startPosState","ChatRoomSeletedState","ChatRoomListState","SearchPosResultState","documents","meta","is_end","pageable_count","total_count","SearchPositionState","position","FilePathInit","file","previewURL","FilePathState","CropInit","CropState","CourseProductModalState","CreateRouteBottomModalState","CreateBottomModalState","BottomModalState","MyPosState","lat","lng","homeTabIndexState","bottomTabIndexState","GRAY2","GRAY3","GRAY4","GRAY6","GRAY7","GRAY8","GRAY9","ORANGE","SCREEN_HEIGHT","window","innerHeight","SCREEN_WIDTH","innerWidth","textOverflowHidden","overflow","textOverflow","display","WebkitLineClamp","WebkitBoxOrient","BottomHeader","history","useHistory","useRecoilState","homeTabIndex","setHomeTabIndex","onClick","style","inlineStyle","barInner","flex","barFlexInner","flexL","noStyleBtnActive","noStyleBtn","alignItems","justifyContent","marginRight","border","borderRadius","backgroundColor","width","alt","src","float","fontSize","fontWeight","BtnProfile","BottomTabBar","setVisible","bottomTabIndex","setBottomTabIndex","replace","barTxt","icon","far","fal","size","opacity","color","bottom","boxShadow","marginLeft","textAlign","CreateBtn","right","faEdit","PathInfo","data","flexDirection","paddingTop","paddingBottom","margin","NMAP","ncpClientId","error","loading","NaverMapAPI","visibleSearch","setVisibleSearch","searchResult","setSearchResult","visibleCreate","setVisibleCreate","myPos","startPos","setStartPos","endPos","setEndPos","setPath","navermaps","naver","maps","useState","LatLngBounds","LatLng","bounds","setBounds","chatRoomList","setChatRoomList","naverMapRef","useRef","chatRoomSeleted","setChatRoomSeleted","useEffect","room","_","chunk","x1","y1","x2","y2","route","traoptimal","summary","toFixed","getPath","Pos","current","ref","mapDivId","defaultCenter","onBoundsChanged","i","ImageMarker","toString","strokeColor","strokeOpacity","strokeWeight","pos","animation","onClickMarker","line","strokeStyle","strokeLineCap","strokeLineJoin","startIcon","startIconSize","endIcon","endIconSize","props","Size","anchor","Point","Icon","name","iconList","fas","Input","forwardRef","onChange","placeholder","inputMode","readOnly","disabled","defaultValue","target","value","padding","outline","Textarea","maxrows","rowIndex","setRowIndex","onChangeInput","useCallback","scrollHeight","maxHeight","maxRows","resize","fontFamily","InputSearch","autoFocus","InputMap","SearchPosition","zIndex","t","Authorization","PositionCard","desc","address","img","onClickDelete","imgWidth","alignSelf","PositionCardReverse","SelectMapModal","setPlacePos","goBackPlace","onDismiss","blocking","open","snapPoints","minHeight","defaultSnap","lastSnap","header","expandOnContentDrag","Switch","defalutValue","clicked","setClicked","className","checked","b","Radio","defaultIndex","item","borderStyle","borderColor","Tag","borderWidth","lineHeight","prototype","toJSON","timezoneOffsetInHours","this","getTimezoneOffset","sign","leadingZero","Math","abs","correctedDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setHours","toISOString","RoomCard","enterTag","chat_user","tags","dateString","str","YMD","HMS","day","getDay","YMD_today","prettyDate","isSeleted","onClickRoom","marginTop","marginBottom","tag","alert","minWidth","BottomModal","chatRoomListFilterd","setChatRoomListFilterd","filterSearchTxt","bottomRef","onChangeFilterSearchTxt","a","filter","includes","LIST","createRef","snapTo","velocity","scrollIntoView","behavior","block","defaultValueDate","CreateBottomModal","setTitle","date","setDate","personLimit","setPersonLimit","genderLimit","setGenderLimit","closeCondition","useMemo","postCondition","postCreateChatRoom","creator_id","__component","naver_id","response","statusCode","errors","console","debug","HomeScreen","SearchScreen","BookmarkBtn","disable","ProfileIcon","togglerFollow","my_user_id","your_user_id","ProfileCard","background","loadXHR","xhr","XMLHttpRequest","responseType","onerror","onload","status","send","err","CImage","commandInputList","setCommandInputList","crop","setCrop","isCrop","setIsCrop","filepath","f","backgroundImage","backgroundSize","backgroundRepeat","inputFileCSSNone","inputFileCSS","htmlFor","accept","preventDefault","reader","FileReader","files","onloadend","readAsDataURL","cursor","CourseImage","setFilepath","BackHeader","goBack","CourseDetailScreen","paddingRight","TagBlack","CourseCard","courseId","VirtualizeSwipeableViews","virtualize","SwipeableViews","CourseList","slidesPerView","direction","speed","Title","beforeTxt","afterTxt","favorite","enterCount","이벤트","데이트","여행","힐링","문화","놀이","CourseArea","rankedCourseList","setRankedCourseList","Object","keys","sort","unshift","slideRenderer","p","mod","CreateBtnCourse","setVisibleRoute","InputImage","box_active","transition","box_hidden","FadeDiv","children","select","setSelect","setDisable","commandWindow","handleClick","setTimeout","CommandListRenderItem","setCommandWindow","setCommandInputColor","setVisibleRouteProduct","tagList","inputValue","CPlace","platform","test","navigator","userAgent","CTextarea","setPlaceHolder","beforeInput","setBeforeInput","rootRef","log","nativeEvent","heightCommand","onFocus","onBlur","CH","KeyCodes","delimiters","CTag","suggestionList","ReactTags","maxLength","allowDeleteFromEmptyInput","inline","suggestions","handleDelete","handleAddition","handleInputChange","renderSuggestion","query","CContour","numberWithCommas","noTags","procductInfoInit","items","brand","category1","category2","category3","category4","image","link","lprice","maker","mallName","productId","productType","start","total","lastBuildDate","CourseProductModal","visibleRouteProduct","procductInfo","setProcductInfo","Accept","product","CProduct","CItem","Rowdot","CommandArea","deleteMode","setDeleteMode","alertDialogInfo","setAlertDialogInfo","placePos","CommandRect","r","droppableId","provided","snapshot","innerRef","isDraggingOver","draggableId","draggableProps","dragHandleProps","justifyItems","DeleteBlock","Button","textTransform","variant","CourseCreateModal","setLoading","visibleRoute","BtnColor","CloseData","setCloseData","titleRef","descRef","onScrollCapture","outerText","createImage","Image","addEventListener","setAttribute","getRadianAngle","degreeValue","PI","getCroppedImg","imageSrc","pixelCrop","rotation","canvas","document","createElement","ctx","getContext","maxSize","max","safeArea","sqrt","rotate","drawImage","getImageData","putImageData","round","toBlob","URL","createObjectURL","CropScreen","cropXY","setCropXY","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","setCroppedImage","onCropComplete","croppedArea","showCroppedImage","croppedImage","paddingLeft","aspect","onCropChange","onZoomChange","AlertDialog","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","CourseScreen","ShopScreen","MyChatScreen","MyScreen","resetServerContext","LoadingPage","LinearProgress","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8eea8811.chunk.js","sourcesContent":["export const API_URL = \"https://www.campus-taxi.com\";\r\n\r\n/**\r\n * Example\r\n * await fetchWithTimeout('/games', {timeout:6000})\r\n * @param {string} resource \r\n * @param {object} options \r\n * @returns \r\n */\r\nexport const fetchWithTimeout = async ({ resource, options = {} }) => {\r\n  const { timeout = 8000 } = options;\r\n  const controller = new AbortController();\r\n  const id = setTimeout(() => controller.abort(), timeout);\r\n  const response = await fetch(resource, {\r\n    ...options,\r\n    signal: controller.signal,\r\n  });\r\n  clearTimeout(id);\r\n  return response;\r\n};\r\n\r\nexport const postfetch = (url, params) => {\r\n  let formBody = [];\r\n  for (let property in params) {\r\n    let encodedKey = encodeURIComponent(property);\r\n    let encodedValue = encodeURIComponent(params[property]);\r\n    formBody.push(encodedKey + \"=\" + encodedValue);\r\n  }\r\n  formBody = formBody.join(\"&\");\r\n\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${API_URL}${url}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\r\n      },\r\n      body: formBody,\r\n    })\r\n      .then((d) => d.json())\r\n      .then((d) => resolve(d))\r\n      .catch((e) => reject(e));\r\n  });\r\n};\r\n\r\nexport const getfetch = (url, params) => {\r\n  let formBody = [];\r\n  for (let property in params) {\r\n    let encodedKey = encodeURIComponent(property);\r\n    let encodedValue = encodeURIComponent(params[property]);\r\n    formBody.push(encodedKey + \"=\" + encodedValue);\r\n  }\r\n  formBody = formBody.join(\"&\");\r\n\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${API_URL}${url}${formBody}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\r\n      },\r\n    })\r\n      .then((d) => d.json())\r\n      .then((d) => resolve(d))\r\n      .catch((e) => reject(e));\r\n  });\r\n};\r\n\r\nexport const getfetchCommon = (url, params, headers) => {\r\n  let formBody = [];\r\n  for (let property in params) {\r\n    let encodedKey = encodeURIComponent(property);\r\n    let encodedValue = encodeURIComponent(params[property]);\r\n    formBody.push(encodedKey + \"=\" + encodedValue);\r\n  }\r\n  formBody = formBody.join(\"&\");\r\n\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${url}${formBody}`, {\r\n      method: \"GET\",\r\n      headers,\r\n    })\r\n      .then((d) => d.json())\r\n      .then((d) => resolve(d))\r\n      .catch((e) => reject(e));\r\n  });\r\n};\r\n\r\nexport const posInit = {\r\n  address_name: \"\",\r\n  category_group_code: \"\",\r\n  category_group_name: \"\",\r\n  category_name: \"\",\r\n  distance: \"\",\r\n  id: -1,\r\n  phone: \"\",\r\n  place_name: \"\",\r\n  place_url: \"\",\r\n  road_address_name: \"\",\r\n  x: \"\", //127.036586636975\r\n  y: \"\", //37.5090312068588\r\n};\r\n\r\nexport const ChatRoomInit = {\r\n  ...posInit,\r\n  departureTime: \"\",\r\n  created_at: \"\",\r\n  deleted_at: \"\",\r\n  disable_at: \"\",\r\n  distance: \"\",\r\n  end_route: [],\r\n  gender: \"\",\r\n  path: [],\r\n  person_limit: -1,\r\n  start_at: \"\",\r\n  start_route: [],\r\n  taxiFare: -1,\r\n  title: \"\",\r\n};\r\n\r\nexport const NAVER_API_KEY = \"lxll2d6397\";\r\nexport const NAVER_API_SECRET_KEY = \"cqaiGWouBEzt1W2A1re3KJb50znmMmx0qwBx8KpU\";\r\n","//#region CommandArea Functions\r\n// fake data generator\r\nexport const getItems = (count, offset = 0, type = \"text\", content = \"\") =>\r\n  Array.from({ length: count }, (v, k) => k).map((k) => ({\r\n    id: `item-${k + offset + new Date().getTime()}`,\r\n    content: type===\"text\" ? ()=><span contentEditable={\"true\"} suppressContentEditableWarning>여기</span>  : content,\r\n    type: type,\r\n  }));\r\n// a little function to help us with reordering the result\r\nconst reorder = (list, startIndex, endIndex) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n\r\n  return result;\r\n};\r\n\r\nexport const getItemStyle = (isDragging, draggableStyle) => {\r\n  let translate = draggableStyle.transform;\r\n  if (isDragging && typeof draggableStyle.transform == \"string\") {\r\n    let y = Number(translate.split(\",\")[1].split(\"x\")[0].slice(1, -1));\r\n    translate = translate.split(\",\")[0] + `, ${y - 40}px)`;\r\n    draggableStyle.transform = translate;\r\n  }\r\n  return {\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: \"none\",\r\n    // change background colour if dragging\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n    // transform: `translate(${draggableStyle.style.transform.x}px, ${draggableStyle.style.transform.y}px)`,\r\n  };\r\n};\r\nexport const getListStyle = () => ({\r\n  flex: 1,\r\n});\r\nexport const onDragEnd = (result, list, setList) => {\r\n  if (!result.destination) return;\r\n  const arr = reorder(list, result.source.index, result.destination.index);\r\n  setList(arr);\r\n};\r\n//#endregion\r\n","export const localStorageEffect =\r\n  (key) =>\r\n  ({ setSelf, onSet }) => {\r\n    const savedValue = localStorage.getItem(key);\r\n    if (savedValue != null) {\r\n      setSelf(JSON.parse(savedValue));\r\n    }\r\n\r\n    onSet((newValue) => {\r\n      localStorage.setItem(key, JSON.stringify(newValue));\r\n    });\r\n  };\r\n","// import { User } from \"./model/User\";\r\nimport { atom } from \"recoil\";\r\nimport { ChatRoomInit, posInit } from \"./common\";\r\nimport { getItems } from \"./Input/CommandInput/dndFunc\";\r\nimport { localStorageEffect } from \"./common/function/localStorageEffect\";\r\n//#region userData token\r\n/**\r\n * 유저 데이터 Badge, user 포함\r\n * localForageEffect(key) ; key 이름으로 저장 = AscnyStorage(key, data)\r\n */\r\n// export const userState = atom({\r\n//   key: \"recoil/user\",\r\n//   default: new User(),\r\n//   // effects_UNSTABLE: [localForageEffectObject(\"recoil/user\", \"object\")],\r\n// });\r\n\r\n/**\r\n *\r\n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\r\n */\r\nexport const commandInputColorState = atom({\r\n  key: \"recoil/commandInputColor\",\r\n  default: 'black',\r\n});\r\n/**\r\n *\r\n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\r\n */\r\nexport const commandInputListState = atom({\r\n  key: \"recoil/commandInputList\",\r\n  default: getItems(1),\r\n  effects_UNSTABLE: [localStorageEffect(\"recoil/cache/commandInputList\")],\r\n});\r\n\r\nexport const loadingState = atom({\r\n  key: \"recoil/loading\",\r\n  default: false,\r\n});\r\nexport const commandWindowState = atom({\r\n  key: \"recoil/commandWindow\",\r\n  default: { visible: false, top: 0, left: 0, index: -1, height: 0 },\r\n});\r\n\r\n/**\r\n *  출발지/도착지 선택 후 도착 장소 결과\r\n */\r\nexport const SearchEndPosState = atom({\r\n  key: \"recoil/searchEndPos\",\r\n  default: {\r\n    address_name: \"\",\r\n    category_group_code: \"\",\r\n    category_group_name: \"\",\r\n    category_name: \"\",\r\n    distance: -1,\r\n    id: -1,\r\n    phone: \"\",\r\n    place_name: \"\",\r\n    place_url: \"\",\r\n    x: -1,\r\n    y: -1,\r\n  },\r\n});\r\n/**\r\n *  출발지/도착지 선택 후 출발 장소 결과\r\n */\r\nexport const SearchStartPosState = atom({\r\n  key: \"recoil/searchStartPos\",\r\n  default: {\r\n    address_name: \"\",\r\n    category_group_code: \"\",\r\n    category_group_name: \"\",\r\n    category_name: \"\",\r\n    distance: -1,\r\n    id: -1,\r\n    phone: \"\",\r\n    place_name: \"\",\r\n    place_url: \"\",\r\n    x: -1,\r\n    y: -1,\r\n  },\r\n});\r\n\r\n/**\r\n *  도착지\r\n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\r\n */\r\nexport const pathState = atom({\r\n  key: \"recoil/path\",\r\n  default: { path: [], distance: -1, duration: -1, taxiFare: -1, departureTime: \"2020-01-01T00:00:00\" },\r\n});\r\n/**\r\n *  AlertDialog 띄우기\r\n *  { visible: false, text: \"\" }\r\n */\r\nexport const alertDialogInit = { visible: false, title: \"\", text: \"\", handleConfirm: () => {} };\r\nexport const alertDialogState = atom({\r\n  key: \"recoil/alertDialog\",\r\n  default: alertDialogInit,\r\n});\r\n/**\r\n *  코스 생성시 삭제모드\r\n * {visible: false, index: -1, isDialog: false}\r\n */\r\nexport const deleteModePosState = atom({\r\n  key: \"recoil/deleteMode\",\r\n  default: { visible: false, index: -1 },\r\n});\r\n/**\r\n *  코스 생성시 장소 선택\r\n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\r\n */\r\nexport const placePosState = atom({\r\n  key: \"recoil/placePos\",\r\n  default: posInit,\r\n});\r\n/**\r\n *  도착지\r\n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\r\n */\r\nexport const endPosState = atom({\r\n  key: \"recoil/endPos\",\r\n  default: posInit,\r\n});\r\n/**\r\n * 출발지\r\n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\r\n */\r\nexport const startPosState = atom({\r\n  key: \"recoil/startPos\",\r\n  default: posInit,\r\n});\r\n/**\r\n *  검색 후 고른 채팅방 1개\r\n * address_name* / category_group_code / category_group_name / category_name*\r\n * distance / id / phone* / place_name* / place_url / x* / y*\r\n */\r\nexport const ChatRoomSeletedState = atom({\r\n  key: \"recoil/chatRoomSeleted\",\r\n  default: ChatRoomInit,\r\n});\r\n/**\r\n *  DB에 있는 모든 채팅방\r\n * address_name* / category_group_code / category_group_name / category_name*\r\n * distance / id / phone* / place_name* / place_url / x* / y*\r\n */\r\nexport const ChatRoomListState = atom({\r\n  key: \"recoil/chatRoomList\",\r\n  default: [],\r\n});\r\n\r\n/**\r\n *  출발지/도착지 선택 후 장소 검색 결과\r\n * address_name* / category_group_code / category_group_name / category_name*\r\n * distance / id / phone* / place_name* / place_url / x* / y*\r\n */\r\nexport const SearchPosResultState = atom({\r\n  key: \"recoil/searchPosResult\",\r\n  default: { documents: [posInit], meta: { is_end: true, pageable_count: -1, total_count: -1 } },\r\n});\r\n\r\n/**\r\n *  출발지/도착지 선택 시 지도에서 검색하기\r\n *  position : \"start\" | \"end\" | \"place\"\r\n */\r\nexport const SearchPositionState = atom({\r\n  key: \"recoil/searchPosition\",\r\n  default: { visible: false, position: \"\" },\r\n});\r\n//#region bttomTabIndex\r\n\r\nexport const FilePathInit = { file: \"\", previewURL: \"\", type: \"\" };\r\n/**\r\n * type : \"\" | \"CourseCreateMainImg\"\r\n */\r\nexport const FilePathState = atom({\r\n  key: \"recoil/filepath\",\r\n  default: FilePathInit,\r\n  effects_UNSTABLE: [localStorageEffect(\"recoil/cache/filepath\")],\r\n});\r\n/**\r\n *  이미지 수정 crop\r\n */\r\nexport const CropInit = { visible: false, file: \"\", previewURL: \"\" };\r\nexport const CropState = atom({\r\n  key: \"recoil/crop\",\r\n  default: CropInit,\r\n});\r\n/**\r\n *  코스에 새 상품 추가\r\n */\r\nexport const CourseProductModalState = atom({\r\n  key: \"recoil/CourseProductModalState\",\r\n  default: false,\r\n});\r\n/**\r\n *  새Route 만들기\r\n */\r\nexport const CreateRouteBottomModalState = atom({\r\n  key: \"recoil/createRouteBottomModal\",\r\n  default: false,\r\n});\r\n/**\r\n *  새채팅방 만들기\r\n */\r\nexport const CreateBottomModalState = atom({\r\n  key: \"recoil/createBottomModal\",\r\n  default: false,\r\n});\r\nexport const BottomModalState = atom({\r\n  key: \"recoil/bottomModal\",\r\n  default: false,\r\n});\r\n//#endregion\r\n//#region bttomTabIndex\r\n/**\r\n *  지도옮길시 내 위치 저장\r\n */\r\nexport const MyPosState = atom({\r\n  key: \"recoil/myPosState\",\r\n  default: { lat: 37.554722, lng: 126.970833 },\r\n});\r\n//#endregion\r\n//#region bttomTabIndex\r\n/**\r\n *  코스 / 지도 전환 2개 탭 인덱스\r\n */\r\nexport const homeTabIndexState = atom({\r\n  key: \"recoil/homeTabIndex\",\r\n  default: 1,\r\n});\r\n//#endregion\r\n//#region bttomTabIndex\r\n/**\r\n *  바텀탭 4개 인덱스\r\n */\r\nexport const bottomTabIndexState = atom({\r\n  key: \"recoil/bottomTabIndex\",\r\n  default: 0,\r\n});\r\n//#endregion\r\n","export const GRAY0 = \"#f8f9fa\";\r\nexport const GRAY1 = \"#f1f3f5\";\r\nexport const GRAY2 = \"#E8ECEF\";\r\nexport const GRAY3 = \"#dee2e6\";\r\nexport const GRAY4 = \"#CED4DA\";\r\nexport const GRAY5 = \"#adb5bd\";\r\nexport const GRAY6 = \"#868E96\";\r\nexport const GRAY7 = \"#495057\";\r\nexport const GRAY8 = \"#343A40\";\r\nexport const GRAY9 = \"#212529\";\r\nexport const RED = \"#ff0000\";\r\nexport const WHITE = \"#ffffff\";\r\nexport const BLACK = \"#000000\";\r\nexport const PINK = \"#f50057\";\r\nexport const ORANGE = \"#ff5e00\";\r\nexport const TRANS = \"transparent\";\r\nexport const BGN = \"#ADB5BD\";\r\nexport const ADV = \"#FCC419\";\r\nexport const SEN = \"#5C7CFA\";\r\nexport const SPR = \"#CC5DE8\";\r\nexport const PRO = \"#ff5e00\";\r\nexport const SUB_BLUE = \"#0075FF\";\r\nexport const MAIN_BLUE = \"#0052B3\";\r\nexport const KAKAO_BG = \"#FDEA4E\";\r\nexport const FACEBOOK_BG = \"#4469B0\";\r\nexport const BLUE01 = \"#2f8ded\";\r\nexport const RED01 = \"#eb5757\";\r\nexport const SCREEN_HEIGHT = window.innerHeight;\r\nexport const SCREEN_WIDTH = window.innerWidth;\r\nexport const HEADER_HEIGHT = 72;\r\nexport const textOverflowHidden = {\r\n  overflow: \"hidden\",\r\n  textOverflow: \"ellipsis\",\r\n  display: \"-webkit-box\",\r\n  WebkitLineClamp: 1, //줄수\r\n  WebkitBoxOrient: \"vertical\",\r\n};\r\n","import { homeTabIndexState } from \"../components/recoil\";\r\nimport { HEADER_HEIGHT, SCREEN_WIDTH } from \"./../style/index\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const BottomHeader = () => {\r\n  const history = useHistory();\r\n  const [homeTabIndex, setHomeTabIndex] = useRecoilState(homeTabIndexState);\r\n  const onClick = (index) => {\r\n\t\tif (homeTabIndex !== index) {\r\n\t\t\tif (index === 1) history.push(\"/\");\r\n\t\t\telse if ( index === 0) history.push(\"/course\");\r\n\t\t\tsetHomeTabIndex(index);\r\n\t\t}\r\n  };\r\n  const goToUser = () => {\r\n    history.push(\"/my\");\r\n  };\r\n  return (\r\n    <div style={inlineStyle.barInner}>\r\n      <div style={inlineStyle.flex}></div>\r\n      <div style={inlineStyle.barFlexInner}>\r\n        <div style={inlineStyle.flexL}>\r\n          <button\r\n            style={homeTabIndex === 0 ? inlineStyle.noStyleBtnActive : inlineStyle.noStyleBtn}\r\n            onClick={() => onClick(0)}\r\n          >\r\n            코스\r\n          </button>\r\n        </div>\r\n        <div style={inlineStyle.flexL}>&nbsp;|&nbsp;</div>\r\n        <div style={inlineStyle.flexL}>\r\n          <button\r\n            style={homeTabIndex === 1 ? inlineStyle.noStyleBtnActive : inlineStyle.noStyleBtn}\r\n            onClick={() => onClick(1)}\r\n          >\r\n            지도\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div style={inlineStyle.flex}>\r\n        <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"end\", marginRight: SCREEN_WIDTH * 0.05 }}>\r\n          <button\r\n            onClick={goToUser}\r\n            style={{\r\n              ...inlineStyle.noStyleBtn,\r\n              border: `3px solid #F1F3F5`,\r\n              borderRadius: 200,\r\n              backgroundColor: \"#F1F3F5\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              display: \"flex\",\r\n              width: 44,\r\n              height: 44,\r\n            }}\r\n          >\r\n            <img\r\n              alt={' '}\r\n              width={32}\r\n              height={32}\r\n              style={{ borderRadius: 200 }}\r\n              src={\"https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg\"}\r\n            ></img>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst inlineStyle = {\r\n  barInner: { height: HEADER_HEIGHT, width: SCREEN_WIDTH, display: \"flex\", alignItems: \"center\" },\r\n  barFlexInner: { flex: 1, display: \"flex\", justifyContent: \"center\", alignItems: \"baseline\" },\r\n  flex: { flex: 1 },\r\n  flexL: { float: \"left\" },\r\n  noStyleBtnActive: { backgroundColor: \"transparent\", border: \"none\", fontSize: 17, fontWeight: \"bold\", width: \"3em\" },\r\n  noStyleBtn: { backgroundColor: \"transparent\", border: \"none\", fontSize: 15, fontWeight: \"normal\", width: \"3em\" },\r\n  BtnProfile: {},\r\n};\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport * as fal from \"@fortawesome/pro-light-svg-icons\";\r\nimport * as  far from \"@fortawesome/pro-regular-svg-icons\";\r\n\r\nimport { useRecoilState } from \"recoil\";\r\nimport { BottomModalState, bottomTabIndexState, homeTabIndexState } from \"./recoil\";\r\nimport { GRAY9 } from \"../style\";\r\nimport { SCREEN_WIDTH } from \"./../style/index\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const BottomTabBar = () => {\r\n  const history = useHistory();\r\n  const [homeTabIndex] = useRecoilState(homeTabIndexState);\r\n  const [, setVisible] = useRecoilState(BottomModalState);\r\n  const [bottomTabIndex, setBottomTabIndex] = useRecoilState(bottomTabIndexState);\r\n  \r\n  const onClick = (index) => {\r\n    if (bottomTabIndex !== index) {\r\n      if (homeTabIndex === 1 && index === 1) {\r\n        setVisible(true)\r\n        return;\r\n      }\r\n      if (homeTabIndex === 1 && index === 0) history.replace(\"/\");\r\n      else if (homeTabIndex === 0 && index === 0) history.replace(\"/course\");\r\n      else if (homeTabIndex === 0 && index === 1) history.replace(\"/search\");\r\n      else if (index === 2) history.replace(\"/shop\");\r\n      else if (index === 3) history.replace(\"/chat/my\");\r\n      setBottomTabIndex(index);\r\n    }\r\n  };\r\n  return (\r\n    \r\n    <div style={inlineStyle.barInner}>\r\n      <div style={inlineStyle.barFlexInner}>\r\n        <div style={inlineStyle.barTxt}>\r\n          <button style={inlineStyle.noStyleBtn} onClick={() => onClick(0)}>\r\n            <FontAwesomeIcon\r\n              icon={bottomTabIndex === 0 ? far.faHome : fal.faHome}\r\n              size={\"lg\"}\r\n              opacity={bottomTabIndex === 0 ? 1 : 0.3}\r\n              color={GRAY9}\r\n            />\r\n          </button>\r\n        </div>\r\n        <div style={inlineStyle.barTxt}>\r\n          <button style={inlineStyle.noStyleBtn} onClick={() => onClick(1)}>\r\n            <FontAwesomeIcon\r\n              icon={\r\n                homeTabIndex === 1\r\n                  ? bottomTabIndex === 1\r\n                    ? far.faSearchLocation\r\n                    : fal.faSearchLocation\r\n                  : bottomTabIndex === 1\r\n                  ? far.faTelescope\r\n                  : fal.faTelescope\r\n              }\r\n              size={\"lg\"}\r\n              opacity={bottomTabIndex === 1 ? 1 : 0.3}\r\n              color={GRAY9}\r\n            />\r\n          </button>\r\n        </div>\r\n        <div style={inlineStyle.barTxt}>\r\n          <button style={inlineStyle.noStyleBtn} onClick={() => onClick(2)}>\r\n            <FontAwesomeIcon\r\n              icon={bottomTabIndex === 2 ? far.faShoppingBag : fal.faShoppingBag}\r\n              size={\"lg\"}\r\n              opacity={bottomTabIndex === 2 ? 1 : 0.3}\r\n              color={GRAY9}\r\n            />\r\n          </button>\r\n        </div>\r\n        <div style={inlineStyle.barTxt}>\r\n          <button style={inlineStyle.noStyleBtn} onClick={() => onClick(3)}>\r\n            <FontAwesomeIcon\r\n              icon={bottomTabIndex === 3 ? far.faEnvelope : fal.faEnvelope}\r\n              size={\"lg\"}\r\n              opacity={bottomTabIndex === 3 ? 1 : 0.3}\r\n              color={GRAY9}\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst inlineStyle = {\r\n  barInner: {\r\n    position: \"fixed\",\r\n    bottom: 48,\r\n    height: 42,\r\n    boxShadow: \"0.2px 0.2px 0 0 gray\",\r\n    borderRadius: 10,\r\n    width: SCREEN_WIDTH * 0.8,\r\n    marginLeft: SCREEN_WIDTH * 0.1,\r\n    backgroundColor: \"white\",\r\n  },\r\n  barFlexInner: {\r\n    display: \"flex\",\r\n    height: 42,\r\n    alignItems: \"center\",\r\n  },\r\n  barTxt: {\r\n    flex: 1,\r\n    textAlign: \"center\",\r\n  },\r\n  noStyleBtn: { backgroundColor: \"transparent\", border: \"none\" },\r\n};\r\n","import { faEdit } from \"@fortawesome/pro-light-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { SCREEN_WIDTH } from \"../../style\";\r\nimport { CreateBottomModalState } from \"../recoil\";\r\n\r\nexport const CreateBtn = () => {\r\n  const [, setVisible] = useRecoilState(CreateBottomModalState);\r\n  const onClick = () => {\r\n    setVisible(true);\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        width: 48,\r\n        height: 48,\r\n        borderRadius: 200,\r\n        backgroundColor: \"white\",\r\n        bottom: 96 + 24,\r\n        right: SCREEN_WIDTH * 0.125,\r\n        boxShadow: \"0.2px 0.2px 0 0 gray\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      onClick={onClick}\r\n    >\r\n      <FontAwesomeIcon icon={faEdit} size={\"sm\"} />\r\n    </div>\r\n  );\r\n};\r\n","import { GRAY8 } from \"./../style/index\";\r\n\r\nexport const PathInfo = ({ data }) => {\r\n  if (typeof data.distance != \"number\" || data.distance < 1) return <div></div>;\r\n  return (\r\n    <div style={{ width: \"100%\", height: 40, top: 10, position: \"absolute\", display: \"flex\", alignItems: \"center\" }}>\r\n      <div\r\n        style={{\r\n          flex: 1,\r\n          justifyContent: \"center\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          backgroundColor: \"rgba(222, 226, 230,0.8)\",\r\n          paddingTop: 4,\r\n          paddingBottom: 4,\r\n          margin: 10,\r\n          borderRadius: 10,\r\n        }}\r\n      >\r\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 11 }}>택시 거리</div>\r\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 15 }}>{data.distance}km</div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          flex: 1,\r\n          justifyContent: \"center\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          backgroundColor: \"rgba(222, 226, 230,0.8)\",\r\n          paddingTop: 4,\r\n          paddingBottom: 4,\r\n          margin: 10,\r\n          borderRadius: 10,\r\n        }}\r\n      >\r\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 11 }}>예상 시간</div>\r\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 15 }}>{data.duration}분</div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          flex: 1,\r\n          justifyContent: \"center\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          backgroundColor: \"rgba(222, 226, 230,0.8)\",\r\n          paddingTop: 4,\r\n          paddingBottom: 4,\r\n          margin: 10,\r\n          borderRadius: 10,\r\n        }}\r\n      >\r\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 11 }}>택시 요금</div>\r\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 15 }}>{data.taxiFare}원</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  RenderAfterNavermapsLoaded,\r\n  NaverMap,\r\n  Marker,\r\n  // Circle,\r\n  // GroundOverlay,\r\n  // Ellipse,\r\n  Polyline,\r\n} from \"react-naver-maps\";\r\n\r\nimport { HEADER_HEIGHT, SCREEN_HEIGHT } from \"./../style\";\r\nimport { SCREEN_WIDTH } from \"./../style/index\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport {\r\n  BottomModalState,\r\n  ChatRoomListState,\r\n  ChatRoomSeletedState,\r\n  CreateBottomModalState,\r\n  endPosState,\r\n  MyPosState,\r\n  pathState,\r\n  SearchPositionState,\r\n  SearchPosResultState,\r\n  startPosState,\r\n} from \"./recoil\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { NAVER_API_KEY, posInit } from \"./common\";\r\nimport { getfetch } from \"./common/index\";\r\nimport { getPath } from \"./common/function/getPath\";\r\nimport { PathInfo } from \"./PathInfo\";\r\nimport _ from \"lodash\";\r\n\r\nexport const NMAP = () => {\r\n  return (\r\n    <RenderAfterNavermapsLoaded\r\n      ncpClientId={NAVER_API_KEY} // 자신의 네이버 계정에서 발급받은 Client ID\r\n      error={<p>Maps Load Error</p>}\r\n      loading={<p>Maps Loading...</p>}\r\n    >\r\n      <NaverMapAPI />\r\n    </RenderAfterNavermapsLoaded>\r\n  );\r\n};\r\nfunction NaverMapAPI() {\r\n  //#region 방생성 state\r\n  const [visibleSearch, setVisibleSearch] = useRecoilState(SearchPositionState);\r\n  const [searchResult, setSearchResult] = useRecoilState(SearchPosResultState);\r\n  const [visibleCreate, setVisibleCreate] = useRecoilState(CreateBottomModalState);\r\n  const [visible, setVisible] = useRecoilState(BottomModalState);\r\n\r\n  const [myPos, setMyPos] = useRecoilState(MyPosState);\r\n  const [startPos, setStartPos] = useRecoilState(startPosState);\r\n  const [endPos, setEndPos] = useRecoilState(endPosState);\r\n  const [path, setPath] = useRecoilState(pathState);\r\n\r\n  //# 기본 데이터\r\n  const navermaps = window.naver.maps;\r\n  const [bounds, setBounds] = useState(\r\n    new navermaps.LatLngBounds(\r\n      new navermaps.LatLng(37.5391768, 126.9980514),\r\n      new navermaps.LatLng(37.5591768, 126.9780514)\r\n    )\r\n  );\r\n  const [chatRoomList, setChatRoomList] = useRecoilState(ChatRoomListState);\r\n  const naverMapRef = useRef();\r\n\r\n  //# 방검색 데이터\r\n  const [chatRoomSeleted, setChatRoomSeleted] = useRecoilState(ChatRoomSeletedState);\r\n\r\n  //# useEffect\r\n  useEffect(() => {\r\n    getfetch(\"/chat-rooms\").then((d) =>\r\n      setChatRoomList(\r\n        d.map((room) => {\r\n          return { ...room, path: _.chunk(_.split(room.path, \",\"), 2) };\r\n        })\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (endPos.place_name && startPos.place_name) {\r\n      let x1 = Number(startPos.x);\r\n      let y1 = Number(startPos.y);\r\n      let x2 = Number(endPos.x);\r\n      let y2 = Number(endPos.y);\r\n      setBounds(new navermaps.LatLngBounds(new navermaps.LatLng(y1 - 0.04, x1), new navermaps.LatLng(y2 + 0.02, x2)));\r\n      getPath(x1, y1, x2, y2).then((d) => {\r\n        if (typeof d.distance === \"number\" && d.distance > 0) setPath(d);\r\n      });\r\n    } else if (startPos.place_name.length > 0 || endPos.place_name.length > 0) {\r\n      const Pos = startPos.place_name.length > 0 ? startPos : endPos;\r\n      setBounds(\r\n        new navermaps.LatLngBounds(\r\n          new navermaps.LatLng(Number(Pos.y) - 0.02, Number(Pos.x)),\r\n          new navermaps.LatLng(Number(Pos.y) + 0.02, Number(Pos.x))\r\n        )\r\n      );\r\n    }\r\n  }, [startPos.place_name, endPos.place_name]);\r\n\r\n  useEffect(() => {\r\n    if (chatRoomSeleted.id !== -1 && naverMapRef.current) {\r\n      let x1 = Number(chatRoomSeleted.start_route[0].x);\r\n      let y1 = Number(chatRoomSeleted.start_route[0].y);\r\n      let x2 = Number(chatRoomSeleted.end_route[0].x);\r\n      let y2 = Number(chatRoomSeleted.end_route[0].y);\r\n      setBounds(new navermaps.LatLngBounds(new navermaps.LatLng(y1 - 0.08, x1), new navermaps.LatLng(y2 + 0.02, x2)));\r\n    }\r\n  }, [chatRoomSeleted]);\r\n\r\n  //# 함수\r\n  const onClickMarker = (pos) => {\r\n    if (visibleSearch.position === \"start\") setStartPos(pos);\r\n    else setEndPos(pos);\r\n    setSearchResult({ documents: [posInit], meta: { is_end: true, pageable_count: -1, total_count: -1 } });\r\n    setVisibleCreate(true);\r\n    setVisibleSearch({ visible: false, position: \"\" });\r\n  };\r\n  //#endregion\r\n  return (\r\n    <NaverMap\r\n      ref={naverMapRef}\r\n      mapDivId={\"maps-getting-started-uncontrolled\"} // default: react-naver-map\r\n      style={{\r\n        width: SCREEN_WIDTH, // 네이버지도 가로 길이\r\n        height: SCREEN_HEIGHT - HEADER_HEIGHT, // 네이버지도 세로 길이\r\n      }}\r\n      defaultCenter={myPos} // 지도 초기 위치\r\n      // onDrag={onDrag} // TEST CODE\r\n      bounds={bounds}\r\n      onBoundsChanged={setBounds}\r\n    >\r\n      {chatRoomList.length > 0 &&\r\n        chatRoomList.map((room, i) => (\r\n          <div key={i.toString()}>\r\n            {/* DB 모든 출발지 */}\r\n            <ImageMarker\r\n              color={\"#FF6F6F\"}\r\n              onClick={() => {\r\n                setChatRoomSeleted(room);\r\n                setVisible(true);\r\n              }}\r\n              position={new navermaps.LatLng(Number(room.start_route[0].y), Number(room.start_route[0].x))}\r\n              navermaps={navermaps}\r\n            />\r\n            {/* DB 모든 도착지 */}\r\n            <ImageMarker\r\n              onClick={() => {\r\n                setChatRoomSeleted(room);\r\n                setVisible(true);\r\n              }}\r\n              position={new navermaps.LatLng(Number(room.end_route[0].y), Number(room.end_route[0].x))}\r\n              navermaps={navermaps}\r\n            />\r\n          </div>\r\n        ))}\r\n      {/* 출->도 직선경로 */}\r\n      {chatRoomList.length > 0 &&\r\n        chatRoomList\r\n          // .map((room) => room.end_route[0])\r\n          .map((room, i) => (\r\n            <Polyline\r\n              key={i.toString()}\r\n              path={[\r\n                new navermaps.LatLng(Number(room.start_route[0].y), Number(room.start_route[0].x)),\r\n                new navermaps.LatLng(Number(room.end_route[0].y), Number(room.end_route[0].x)),\r\n              ]}\r\n              strokeColor={\"#FF6E6E\"}\r\n              strokeOpacity={0.2}\r\n              strokeWeight={3}\r\n            />\r\n          ))}\r\n      {/* 검색결과 */}\r\n      {visibleSearch.visible &&\r\n        searchResult.documents.map((pos, i) => (\r\n          <Marker\r\n            key={i.toString()}\r\n            position={new navermaps.LatLng(Number(pos.y), Number(pos.x))}\r\n            animation={1}\r\n            onClick={() => onClickMarker(pos)}\r\n          />\r\n        ))}\r\n      {/* 방 생성 시 출/도 표시 */}\r\n      {(visibleCreate || visibleSearch.position === \"end\") && startPos.place_name ? (\r\n        <ImageMarker\r\n          url={\"/images/startPosIcon.png\"}\r\n          position={new navermaps.LatLng(Number(startPos.y), Number(startPos.x))}\r\n          navermaps={navermaps}\r\n        />\r\n      ) : (\r\n        false\r\n      )}\r\n      {(visibleCreate || visibleSearch.position === \"start\") && endPos.place_name ? (\r\n        <ImageMarker\r\n          url={\"/images/endPosIcon.png\"}\r\n          position={new navermaps.LatLng(Number(endPos.y), Number(endPos.x))}\r\n          navermaps={navermaps}\r\n        />\r\n      ) : (\r\n        false\r\n      )}\r\n      {/* 출->도 실제 택시경로 */}\r\n      {(startPos.place_name.length > 0 && endPos.place_name.length > 0 && path.distance > 0 && visibleCreate) ||\r\n      (chatRoomSeleted.path.length > 0 && visible) ? (\r\n        <>\r\n          <PathInfo data={path.distance > 0 && visibleCreate ? path : chatRoomSeleted} />\r\n          <Polyline\r\n            path={\r\n              path.distance > 0 && visibleCreate\r\n                ? path.path.map((line) => new navermaps.LatLng(Number(line[1]), Number(line[0])))\r\n                : chatRoomSeleted.path.map((line) => new navermaps.LatLng(Number(line[1]), Number(line[0])))\r\n            }\r\n            strokeColor={\"red\"}\r\n            strokeOpacity={1}\r\n            strokeWeight={5}\r\n            strokeStyle={\"solid\"}\r\n            strokeLineCap={\"round\"}\r\n            strokeLineJoin={\"round\"}\r\n            startIcon={3}\r\n            startIconSize={20}\r\n            endIcon={1}\r\n            endIconSize={20}\r\n          />\r\n        </>\r\n      ) : (\r\n        false\r\n      )}\r\n    </NaverMap>\r\n  );\r\n}\r\n\r\nfunction ImageMarker(props) {\r\n  const navermaps = props.navermaps;\r\n  const icon = {\r\n    content: `<div onClick=\\\"${props.onClick}\\\"><img alt=\\\" \\\" style=\\\"${\r\n      !props.url ? \"border-radius:30px;border-style:solid;\" : \"\"\r\n    }border-color:${props.color ?? \"#535353\"};border-width:3px\\\" width=37 height=${props.url ? 48 : 37} src=${\r\n      props.url ?? \"https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg\"\r\n    } /></div>`,\r\n    size: new navermaps.Size(20, 20),\r\n    anchor: new navermaps.Point(20, 20),\r\n  };\r\n\r\n  return <Marker title=\"Green\" icon={icon} {...props} />;\r\n}\r\n","import { NAVER_API_KEY, NAVER_API_SECRET_KEY } from \"..\";\r\n\r\nexport const getPath = (x1, y1, x2, y2) => {\r\n  //&option={탐색옵션}\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`/map-direction/v1/driving?start=${x1},${y1}&goal=${x2},${y2}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"X-NCP-APIGW-API-KEY-ID\": NAVER_API_KEY,\r\n        \"X-NCP-APIGW-API-KEY\": NAVER_API_SECRET_KEY,\r\n      },\r\n    })\r\n      .then((d) => d.json())\r\n      .then((d) =>\r\n        resolve({\r\n          path: d.route.traoptimal[0].path,\r\n          distance: Number(Number(d.route.traoptimal[0].summary.distance / 1000).toFixed(1)),\r\n          duration: Number(Number(d.route.traoptimal[0].summary.duration / 60000).toFixed(0)),\r\n          departureTime: d.route.traoptimal[0].summary.departureTime,\r\n          taxiFare: d.route.traoptimal[0].summary.taxiFare,\r\n        })\r\n      )\r\n      .catch((e) => reject(e));\r\n  });\r\n};\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport * as fal from \"@fortawesome/pro-light-svg-icons\";\r\nimport * as fas from \"@fortawesome/free-solid-svg-icons\";\r\nimport * as far from \"@fortawesome/pro-regular-svg-icons\";\r\nimport { GRAY9 } from \"../../style\";\r\n\r\n/**\r\n * 아이콘 기본형: 'solid'\r\n * @param {{icon:string ,size:'lg' | 'sm' | 'xs' | '2x', opacity: number, color: string, type:'light' | 'regular' | 'solid'}} params\r\n */\r\nexport const Icon = ({ name, size, opacity, color, type }) => {\r\n\tconst iconList = type === \"light\" ? fal : type === 'regular' ? far : fas;\r\n  return <FontAwesomeIcon icon={iconList[name ?? \"faHome\"]} size={size ?? \"lg\"} opacity={opacity ?? 1} color={color ?? GRAY9} />;\r\n};\r\n","import { GRAY2, GRAY7, GRAY9, SCREEN_WIDTH } from \"../../style\";\r\nimport { forwardRef, useState, useCallback } from \"react\";\r\nimport { CreateBottomModalState, SearchPositionState } from \"../recoil\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { Icon } from \"../common/Icon\";\r\nimport TextareaAutosize from \"react-autosize-textarea\";\r\n\r\nexport const Input = forwardRef(({ onChange, placeholder, inputMode, type, readOnly, disabled, defaultValue, }, ref) => {\r\n  const onChangeInupt = (e) => {\r\n    if (onChange) onChange(e.target.value);\r\n  };\r\n  return (\r\n    <input\r\n      ref={ref}\r\n      defaultValue={defaultValue}\r\n      onChange={onChangeInupt}\r\n      readOnly={readOnly ?? false}\r\n      inputMode={inputMode ?? \"text\"}\r\n      placeholder={placeholder}\r\n      type={type ?? \"\"}\r\n      disabled={disabled ?? false}\r\n      style={{\r\n        width: SCREEN_WIDTH - 60,\r\n        backgroundColor: GRAY2,\r\n        border: \"none\",\r\n        padding: 10,\r\n        borderRadius: 10,\r\n        fontSize: 15,\r\n        color: GRAY7,\r\n        outline:'none',\r\n      }}\r\n    />\r\n  );\r\n});\r\n\r\nexport const Textarea = forwardRef(({ placeholder, style, maxrows },ref) => {\r\n  const [rowIndex, setRowIndex] = useState({ height: 0, index: 0 });\r\n  const onChangeInput = useCallback(\r\n    (e) => {\r\n      // if (!!onChange) onChange(e.target.value);\r\n      if (!!maxrows) {\r\n        if (rowIndex.index < maxrows && rowIndex.height < e.target.scrollHeight)\r\n          setRowIndex({ index: rowIndex.index + 1, height: e.target.scrollHeight });\r\n        else if (rowIndex.height < e.target.scrollHeight) e.target.value = e.target.value.slice(0, -1);\r\n        e.target.style.maxHeight = rowIndex.height - 4 + \"px\";\r\n        e.target.style.height = rowIndex.height - 4 + \"px\";\r\n      }\r\n    },\r\n    [rowIndex, maxrows]\r\n  );\r\n  return (\r\n    <TextareaAutosize\r\n      ref={ref}\r\n      // rows={rows ?? 1}\r\n      onChange={onChangeInput}\r\n      placeholder={placeholder}\r\n      maxRows={maxrows}\r\n      // onResize={onResizeInput}\r\n      // defaultValue={defaultValue}\r\n      style={\r\n        style\r\n          ? style\r\n          : {\r\n              width: SCREEN_WIDTH - 60,\r\n              height: \"20px\",\r\n              backgroundColor: GRAY2,\r\n              border: \"none\",\r\n              padding: 10,\r\n              borderRadius: 10,\r\n              fontSize: 15,\r\n              color: GRAY7,\r\n              resize: \"none\",\r\n              fontFamily: \"AppleSDGothic\",\r\n              overflow: \"hidden\",\r\n              outline: \"none\",\r\n            }\r\n      }\r\n    />\r\n  );\r\n});\r\n\r\nexport const InputSearch = ({ value, placeholder, onChange, autoFocus=false }) => {\r\n  const onChangeInput = (e) => {\r\n    value.current = e.target.value;\r\n    onChange(e.target.value);\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        width: SCREEN_WIDTH - 60,\r\n        backgroundColor: GRAY2,\r\n        border: \"none\",\r\n        padding: 10,\r\n        borderRadius: 10,\r\n      }}\r\n    >\r\n      <Icon type={\"regular\"} name={\"faSearch\"} size={\"lg\"} />\r\n      <input\r\n        autoFocus={autoFocus}\r\n        onChange={onChangeInput}\r\n        style={{\r\n          marginLeft: 6,\r\n          height: \"100%\",\r\n          backgroundColor: GRAY2,\r\n          border: \"none\",\r\n          width: SCREEN_WIDTH - 100,\r\n          fontSize: 15,\r\n          color: GRAY9,\r\n          outline: \"none\",\r\n        }}\r\n        placeholder={placeholder}\r\n      ></input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const InputMap = ({ placeholder, position }) => {\r\n  const [, setVisible] = useRecoilState(CreateBottomModalState);\r\n  const [, setVisibleSearch] = useRecoilState(SearchPositionState); //visibleSearch\r\n  return (\r\n    <div\r\n      style={{\r\n        width: SCREEN_WIDTH - 60,\r\n        backgroundColor: GRAY2,\r\n        border: \"none\",\r\n        padding: 10,\r\n        borderRadius: 10,\r\n      }}\r\n      onClick={() => {\r\n        setVisible(false);\r\n        setVisibleSearch({ visible: true, position: position });\r\n      }}\r\n    >\r\n      <div style={{ float: \"left\", justifyContent: \"center\", alignItems: \"center\", display: \"flex\", marginRight: 6 }}>\r\n        <Icon type={\"regular\"} name={\"faSearch\"} size={\"lg\"} />\r\n      </div>\r\n      <div style={{ color: \"#63717f\", fontSize: 15 }}>{placeholder}</div>\r\n    </div>\r\n  );\r\n};\r\n","import { useRef } from \"react\";\r\nimport { InputSearch } from \"./Input\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { SearchPositionState, SearchPosResultState } from \"./recoil\";\r\n\r\nexport const KakaoNativeKey = \"KakaoAK 2ffd2e667110415efb87f207cb33b8be\";\r\nexport const SearchPosition = () => {\r\n  const [, setSearchResult] = useRecoilState(SearchPosResultState); //searchResult\r\n  const [visibleSearch] = useRecoilState(SearchPositionState); //setVisibleSearch\r\n  const title = useRef(\"\");\r\n\r\n  const onChange = (t) => {\r\n    if (t !== \"\")\r\n      fetch(`https://dapi.kakao.com/v2/local/search/keyword.json?query=${t}`, {\r\n        headers: {\r\n          Authorization: KakaoNativeKey,\r\n        },\r\n      })\r\n        .then((d) => d.json())\r\n        .then((d) => setSearchResult(d));\r\n  };\r\n  return (\r\n    <>\r\n      {visibleSearch.visible ? (\r\n        <div style={{ position: \"absolute\", top: 72 + 12, left: 20, zIndex: 1 }}>\r\n          <InputSearch value={title} placeholder={\"검색 장소를 입력해주세요.\"} autoFocus onChange={onChange} />\r\n        </div>\r\n      ) : (\r\n        false\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { GRAY6, GRAY7, GRAY8, textOverflowHidden } from \"../../style\";\r\nimport { Icon } from \"../common/Icon\";\r\nimport { GRAY4 } from \"./../../style/index\";\r\n\r\nexport const PositionCard = ({\r\n  title,\r\n  desc,\r\n  address,\r\n  url,\r\n  img,\r\n  onClick,\r\n  onClickDelete,\r\n  imgWidth = \"100%\",\r\n  padding = \"16px 16px 0 16px\",\r\n}) => {\r\n  return (\r\n    <div style={{ padding: padding, display: \"flex\", flex: 1 }} onClick={onClick ? onClick : () => {}}>\r\n      <div style={{ flex: 1, display: \"flex\",justifyContent:'center',alignItems:'center' }}>\r\n        <img alt={' '} src={img} width={imgWidth} style={{ borderRadius: 20 }}></img>\r\n      </div>\r\n      <div style={{ flex: 4, marginLeft: 16, alignSelf: \"center\" }}>\r\n        <div style={{ ...textOverflowHidden, fontSize: 12, color: GRAY7 }}>{address}</div>\r\n        <div style={{ ...textOverflowHidden, fontSize: 15, color: GRAY8 }}>{title}</div>\r\n        <div style={{ ...textOverflowHidden, fontSize: 13, color: GRAY6 }}>{desc}</div>\r\n      </div>\r\n      {typeof onClickDelete === \"function\" ? (\r\n        <div style={{ position: \"relative\", width: 16, height: 28, top: -8 }} onClick={onClickDelete}>\r\n          <Icon type={\"regular\"} name={\"faTrashAlt\"} size={\"sm\"} color={GRAY4} />\r\n        </div>\r\n      ) : (\r\n        false\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport const PositionCardReverse = ({ title, desc, address, url, img }) => {\r\n  // onClick={onClick ? onClick : () => {}}\r\n  return (\r\n    <div style={{ padding: \"8px 16px 0 16px\", display: \"flex\" }}>\r\n      <div style={{ flex: 4, marginRight: 16, alignSelf: \"center\" }}>\r\n        <div style={{ ...textOverflowHidden, fontSize: 12, color: GRAY7 }}>{address}</div>\r\n        <div style={{ ...textOverflowHidden, fontSize: 15, color: GRAY8 }}>{title}</div>\r\n        <div style={{ ...textOverflowHidden, fontSize: 13, color: GRAY6 }}>{desc}</div>\r\n      </div>\r\n      <div style={{ flex: 1 }}>\r\n        <img alt={' '} src={img} width={\"100%\"} style={{ borderRadius: 20 }}></img>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { BottomSheet } from \"react-spring-bottom-sheet\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport {\r\n  CreateBottomModalState,\r\n  endPosState,\r\n  homeTabIndexState,\r\n  placePosState,\r\n  SearchPositionState,\r\n  SearchPosResultState,\r\n  startPosState,\r\n} from \"../components/recoil\";\r\nimport \"react-spring-bottom-sheet/dist/style.css\";\r\nimport \"../style/switch.css\";\r\nimport { SCREEN_HEIGHT } from \"../style\";\r\nimport { GRAY8, GRAY6 } from \"./../style/index\";\r\nimport { posInit } from \"./common\";\r\nimport { PositionCard } from \"./card/PositionCard\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const SelectMapModal = () => {\r\n  // const title = useRef(\"\");\r\n  const [searchResult, setSearchResult] = useRecoilState(SearchPosResultState);\r\n  const [visibleSearch, setVisibleSearch] = useRecoilState(SearchPositionState);\r\n  const [, setVisibleCreate] = useRecoilState(CreateBottomModalState); //visibleCreate\r\n  const [, setStartPos] = useRecoilState(startPosState); //startPos\r\n  const [, setEndPos] = useRecoilState(endPosState); //endPos\r\n  const [, setPlacePos] = useRecoilState(placePosState); //placePos\r\n  const [, setHomeTabIndex] = useRecoilState(homeTabIndexState); //homeTabIndex\r\n  const history = useHistory();\r\n\r\n  const goBackPlace = (pos) => {\r\n    if (visibleSearch.position === \"place\") {\r\n      if (pos) setPlacePos(pos);\r\n      else setPlacePos(posInit);\r\n      setHomeTabIndex(0);\r\n      history.push(\"/course\");\r\n    }\r\n  };\r\n  const onDismiss = () => {\r\n    setSearchResult({ documents: [posInit], meta: { is_end: true, pageable_count: -1, total_count: -1 } });\r\n    setVisibleSearch({ visible: false, position: \"\" });\r\n    setVisibleCreate(true);\r\n    goBackPlace();\r\n  };\r\n\r\n  const onClick = (pos) => {\r\n    if (visibleSearch.position === \"start\") setStartPos(pos);\r\n    else if (visibleSearch.position === \"end\") setEndPos(pos);\r\n    setSearchResult({ documents: [posInit], meta: { is_end: true, pageable_count: -1, total_count: -1 } });\r\n    setVisibleSearch({ visible: false, position: \"\" });\r\n    setVisibleCreate(true);\r\n    goBackPlace(pos);\r\n  };\r\n  return (\r\n    <>\r\n      <BottomSheet\r\n        blocking={false}\r\n        open={visibleSearch.visible}\r\n        onDismiss={onDismiss}\r\n        snapPoints={({ minHeight, maxHeight }) => [maxHeight * 0.3, maxHeight * 0.5, maxHeight * 0.7, maxHeight * 0.9]}\r\n        defaultSnap={({ lastSnap, snapPoints }) => [SCREEN_HEIGHT * 0.4]}\r\n        header={\r\n          <div>\r\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 17, color: GRAY8, float: \"left\" }}>\r\n              검색 결과\r\n            </div>\r\n            <div\r\n              style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY6, float: \"right\" }}\r\n              onClick={onDismiss}\r\n            >\r\n              닫기\r\n            </div>\r\n          </div>\r\n        }\r\n        expandOnContentDrag={true}\r\n      >\r\n        <div style={{ padding: \"12px 20px\" }}>\r\n          <div>\r\n            {searchResult.documents[0] !== posInit &&\r\n              searchResult.documents.map((pos, i) => (\r\n                <PositionCard\r\n                  key={i.toString()}\r\n                  address={pos.address_name}\r\n                  title={pos.place_name}\r\n                  desc={pos.category_name}\r\n                  url={pos.place_url}\r\n                  img={\"https://picsum.photos/200\"}\r\n                  onClick={() => onClick(pos)}\r\n                />\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </BottomSheet>\r\n    </>\r\n  );\r\n};\r\n","import \"../../style/switch.css\";\r\nimport { useState } from 'react';\r\nimport { GRAY6, GRAY9 } from \"../../style\";\r\n\r\nexport const Switch = ({ defalutValue, title, onChange }) => {\r\n  const [clicked, setClicked] = useState(defalutValue);\r\n  const onChangeInput = (b) => {\r\n    if (onChange) onChange(b);\r\n    setClicked(b);\r\n  };\r\n  return (\r\n    <div style={{ display: \"flex\" }}>\r\n      <div>\r\n        <label className=\"switch\">\r\n          <input type=\"checkbox\" checked={clicked || false} readOnly onClick={()=>onChangeInput(!clicked)} />\r\n          <span className=\"slider round\"></span>\r\n        </label>\r\n      </div>\r\n      <div style={{ color: clicked ? GRAY9 : GRAY6, marginLeft: 8 }}>{title}</div>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { GRAY2 } from \"../../style\";\r\n\r\nexport const Radio = ({ data, title, defaultIndex, onClick }) => {\r\n  const [clicked, setClicked] = useState(defaultIndex);\r\n  const onChangeInput = (i) => {\r\n    setClicked(i);\r\n    if (onClick) onClick(i);\r\n  };\r\n  return (\r\n    <div style={{ flex: 1, display: \"flex\", justifyContent: \"space-evenly\" }}>\r\n      {data.map((item, i) => (\r\n        <div key={i.toString()}>\r\n          <div\r\n            onClick={() => onChangeInput(i)}\r\n            style={{\r\n              backgroundColor: clicked === i ? \"white\" : GRAY2,\r\n              borderStyle: \"solid\",\r\n              borderColor: clicked === i ? GRAY2 : \"white\",\r\n              padding: \"12px 16px\",\r\n              borderRadius: 10,\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            {item}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import { GRAY2, GRAY3, GRAY7, textOverflowHidden } from \"../../style\";\r\nimport \"../../index.css\";\r\nexport const Tag = ({ text, index }) => {\r\n  const marginLeft = index === 0 ? 0 : 4;\r\n  return (\r\n    <div\r\n      style={{\r\n        ...textOverflowHidden,\r\n        fontSize: 12,\r\n        color: GRAY7,\r\n        borderStyle: \"solid\",\r\n        borderColor: GRAY2,\r\n        borderWidth: 1,\r\n        borderRadius: 10,\r\n        lineHeight: 2,\r\n        height: 20,\r\n        padding: \"0px 6px 4px\",\r\n        backgroundColor: GRAY3,\r\n        marginLeft: marginLeft,\r\n      }}\r\n    >\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n","// 로컬 시간을 감안하여 toJSON으로 변환.\r\nDate.prototype.toJSON = function () {\r\n  var timezoneOffsetInHours = -(this.getTimezoneOffset() / 60); //UTC minus local time\r\n  var sign = timezoneOffsetInHours >= 0 ? \"+\" : \"-\";\r\n  var leadingZero = Math.abs(timezoneOffsetInHours) < 10 ? \"0\" : \"\";\r\n  var correctedDate = new Date(\r\n    this.getFullYear(),\r\n    this.getMonth(),\r\n    this.getDate(),\r\n    this.getHours(),\r\n    this.getMinutes(),\r\n    this.getSeconds(),\r\n    this.getMilliseconds()\r\n  );\r\n  correctedDate.setHours(this.getHours() + timezoneOffsetInHours);\r\n  var iso = correctedDate.toISOString().replace(\"Z\", \"\");\r\n  return iso + sign + leadingZero + Math.abs(timezoneOffsetInHours).toString() + \":00\";\r\n};\r\n\r\nexport const prettyDate = (dateString) => {\r\n  const str = dateString;\r\n  const list = str.split(\".\")[0].split(\"T\");\r\n  const YMD = list[0].split(\"-\"); //[0]년[1]월[2]일\r\n  const HMS = list[1].split(\":\"); //[0]시[1]분[2]초\r\n  const day = [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"][new Date(str).getDay()];\r\n\r\n  const today = new Date().toJSON();\r\n  const list_today = today.split(\".\")[0].split(\"T\");\r\n  const YMD_today = list_today[0].split(\"-\"); //[0]년[1]월[2]일\r\n  // const HMS_today = list_today[1].split(\":\"); //[0]시[1]분[2]초\r\n\r\n  if (YMD[0] !== YMD_today[0] || YMD[1] !== YMD_today[1] || Number(YMD[2]) < Number(YMD_today[2]))\r\n    return `${Number(YMD[0])}년${Number(YMD[1])}월${Number(YMD[2])}일`;\r\n  else if (YMD[2] === YMD_today[2]) return `오늘 ${Number(HMS[0])}시${Number(HMS[1])}분`;\r\n  else if (Number(YMD[2]) === Number(YMD_today[2]) + 1) return `내일 ${Number(HMS[0])}시${Number(HMS[1])}분`;\r\n  else if (Number(YMD[2]) === Number(YMD_today[2]) + 2)\r\n    return `모레 ${Number(YMD[2])}일 ${Number(HMS[0])}시${Number(HMS[1])}분`;\r\n  else return `이번주 ${day}요일 ${Number(HMS[0])}시${Number(HMS[1])}분`;\r\n};\r\n","import { GRAY1, GRAY3, GRAY5, GRAY8 } from \"../../style\";\r\nimport { Tag } from \"../common/Tag\";\r\nimport { PositionCard, PositionCardReverse } from \"./PositionCard\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { ChatRoomSeletedState } from \"../recoil\";\r\nimport { prettyDate } from \"../common/prettyDate\";\r\nimport { ChatRoomInit } from \"../common\";\r\n\r\nexport const RoomCard = ({ room, onClick }) => {\r\n  const [chatRoomSeleted, setChatRoomSeleted] = useRecoilState(ChatRoomSeletedState);\r\n\r\n  const enterTag = (room.chat_user ? room.chat_user.length : 0) + \"/\" + (room.person_limit + 2);\r\n  const genderTag = room.gender !== \"None\" ? (room.gender === \"M\" ? \"남자만\" : \"여자만\") : \"무관\";\r\n  // const dtmTag = new Date(room.start_at).toLocaleString() + \"에 출발\";\r\n  const dtmTag = prettyDate(room.start_at) + \"에 출발\";\r\n  \r\n  const tags = [genderTag, enterTag, dtmTag];\r\n\r\n  const isSeleted = chatRoomSeleted.id === room.id;\r\n  const onClickRoom = (room) => {\r\n    onClick();\r\n    if (isSeleted) setChatRoomSeleted(ChatRoomInit);\r\n    else setChatRoomSeleted(room);\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        borderWidth: 1,\r\n        borderColor: isSeleted ? GRAY5 : \"#E1E3E5\",\r\n        borderStyle: \"solid\",\r\n        paddingBottom: 16,\r\n        borderRadius: 20,\r\n        marginTop: 16,\r\n        backgroundColor: isSeleted ? \"white\" : GRAY1,\r\n      }}\r\n      onClick={() => onClickRoom(room)}\r\n    >\r\n      <PositionCard\r\n        address={room.end_route[0].address_name}\r\n        title={room.end_route[0].place_name}\r\n        desc={room.end_route[0].category_name}\r\n        url={room.end_route[0].place_url}\r\n        img={\"https://picsum.photos/200\"}\r\n      />\r\n      <PositionCardReverse\r\n        address={room.start_route[0].address_name}\r\n        title={room.start_route[0].place_name}\r\n        desc={room.start_route[0].category_name}\r\n        url={room.start_route[0].place_url}\r\n        img={\"https://picsum.photos/200\"}\r\n      />\r\n      <div style={{ display: \"flex\", paddingTop: 6,paddingBottom:6, marginBottom: -17, marginLeft: 16 }}>\r\n        <div style={{ display: \"flex\", flex: 7 }}>\r\n          {tags.map((tag, i) => (\r\n            <Tag key={i.toString()} text={tag} index={i}/>\r\n          ))}\r\n        </div>\r\n        <div\r\n          style={{\r\n            flex: 1,\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n            position: \"relative\",\r\n            bottom: -6.5,\r\n            right: -0.5,\r\n          }}\r\n          onClick={() => {\r\n            alert(\"해당 채팅방으로 입장!\");\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              borderRadius: \"20px 0px 20px 0px\",\r\n              backgroundColor: GRAY3,\r\n              color: GRAY8,\r\n              fontSize: 15,\r\n              fontWeight: \"bold\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              minWidth: 90,\r\n            }}\r\n          >\r\n            바로 입장\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { BottomSheet } from \"react-spring-bottom-sheet\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport {\r\n  BottomModalState,\r\n  ChatRoomListState,\r\n  CreateBottomModalState,\r\n  endPosState,\r\n  pathState,\r\n  startPosState,\r\n} from \"../components/recoil\";\r\nimport \"react-spring-bottom-sheet/dist/style.css\";\r\nimport \"../style/switch.css\";\r\nimport { GRAY7, ORANGE, SCREEN_HEIGHT } from \"../style\";\r\nimport { GRAY8, GRAY6 } from \"./../style/index\";\r\nimport { createRef, useMemo, useRef, useState } from \"react\";\r\nimport { getfetch, posInit, postfetch } from \"./common\";\r\nimport { Input, InputMap, InputSearch } from \"./Input/index\";\r\nimport { Switch } from \"./Input/switch\";\r\nimport { Radio } from \"./Input/radio\";\r\nimport { PositionCard } from \"./card/PositionCard\";\r\nimport { RoomCard } from \"./card/RoomCard\";\r\nimport _ from \"lodash\";\r\n\r\nexport const BottomModal = () => {\r\n  const [visible, setVisible] = useRecoilState(BottomModalState);\r\n\r\n  const [chatRoomList] = useRecoilState(ChatRoomListState); //setChatRoomList\r\n  const [chatRoomListFilterd, setChatRoomListFilterd] = useState([]);\r\n  const filterSearchTxt = useRef(\"\");\r\n  const bottomRef = useRef();\r\n\r\n  const onClickRoom = () => {\r\n    bottomRef.current.snapTo(() => SCREEN_HEIGHT * 0.4 + 30, {\r\n      source: \"custom\",\r\n      velocity: 0,\r\n    });\r\n  };\r\n\r\n  const onChangeFilterSearchTxt = async (t) => {\r\n    if (t.length === 0) {\r\n      setChatRoomListFilterd([]);\r\n    } else {\r\n      const list = await chatRoomList.filter(\r\n        (room) =>\r\n          // 추후 방장이름도 추가\r\n          room.title.includes(t) ||\r\n          room.start_route[0].road_address_name.includes(t) ||\r\n          room.start_route[0].place_name.includes(t) ||\r\n          room.start_route[0].phone.includes(t) ||\r\n          room.start_route[0].address_name.includes(t) ||\r\n          room.start_route[0].category_name.includes(t) ||\r\n          room.end_route[0].road_address_name.includes(t) ||\r\n          room.end_route[0].place_name.includes(t) ||\r\n          room.end_route[0].phone.includes(t) ||\r\n          room.end_route[0].address_name.includes(t) ||\r\n          room.end_route[0].category_name.includes(t)\r\n      );\r\n      setChatRoomListFilterd(list);\r\n    }\r\n  };\r\n  const LIST = filterSearchTxt.current.length > 0 ? chatRoomListFilterd : chatRoomList;\r\n  return (\r\n    <>\r\n      <BottomSheet\r\n        ref={bottomRef}\r\n        blocking={false}\r\n        open={visible}\r\n        onDismiss={() => setVisible(false)}\r\n        snapPoints={({ minHeight, maxHeight }) => [\r\n          maxHeight * 0.4 + 30,\r\n          maxHeight * 0.5,\r\n          maxHeight * 0.7,\r\n          maxHeight * 0.9,\r\n        ]}\r\n        defaultSnap={({ lastSnap, snapPoints }) => [SCREEN_HEIGHT * 0.4]}\r\n        header={\r\n          <div>\r\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY7, float: \"left\" }}>\r\n              더 많은 채팅방을 검색해보세요!\r\n            </div>\r\n            <div\r\n              style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY6, float: \"right\" }}\r\n              onClick={() => setVisible(false)}\r\n            >\r\n              닫기\r\n            </div>\r\n          </div>\r\n        }\r\n        expandOnContentDrag={false}\r\n      >\r\n        <div style={{ padding: \"0 10px 80px 10px\" }}>\r\n          <div style={{ display: \"flex\", justifyContent: \"center\", marginTop: 16 }}>\r\n            <InputSearch\r\n              value={filterSearchTxt}\r\n              placeholder={\"검색 장소를 입력해주세요.\"}\r\n              onChange={onChangeFilterSearchTxt}\r\n            />\r\n          </div>\r\n          {chatRoomList.length > 0 &&\r\n            LIST.map((room, i) => {\r\n              const ref = createRef();\r\n              const handleClick = () => {\r\n                ref.current.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n              };\r\n              return (\r\n                <div key={i.toString()} ref={ref}>\r\n                  {/* DB 모든 채팅방 */}\r\n                  <RoomCard\r\n                    room={room}\r\n                    onClick={() => {\r\n                      onClickRoom();\r\n                      handleClick();\r\n                      // let timerId = setInterval(handleClick, 100);\r\n                      // setTimeout(() => clearInterval(timerId), 1000);\r\n                    }}\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </BottomSheet>\r\n    </>\r\n  );\r\n};\r\n\r\n//2021-10-05T21:50\r\nconst defaultValueDate = new Date().toJSON().split(\".\")[0];\r\nexport const CreateBottomModal = () => {\r\n  const [visible, setVisible] = useRecoilState(CreateBottomModalState);\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [date, setDate] = useState(defaultValueDate);\r\n  const [personLimit, setPersonLimit] = useState(2); //보낼때 +2\r\n  const [genderLimit, setGenderLimit] = useState(false);\r\n\r\n  const [startPos, setStartPos] = useRecoilState(startPosState);\r\n  const [endPos, setEndPos] = useRecoilState(endPosState);\r\n  const [path] = useRecoilState(pathState); //setPath\r\n  const [, setChatRoomList] = useRecoilState(ChatRoomListState);//chatRoomList\r\n\r\n  const closeCondition = useMemo(\r\n    () => title !== \"\" || startPos.place_name !== \"\" || endPos.place_name !== \"\",\r\n    [title, startPos.place_name, endPos.place_name]\r\n  );\r\n  const postCondition = useMemo(\r\n    () => startPos.place_name !== \"\" && endPos.place_name !== \"\" && path.distance > 0,\r\n    [startPos.place_name, endPos.place_name, path.distance]\r\n  );\r\n\r\n  const postCreateChatRoom = async () => {\r\n    if (!postCondition) {\r\n      alert(\"출발지/도착지/출발시간을 확인해주세요.\");\r\n    } else {\r\n      // getfetch(\"/users\").then((d) => console.debug(d));\r\n      const response = await postfetch(\"/chat-rooms\", {\r\n        title: title,\r\n        gender: genderLimit ? \"M\" : \"None\",\r\n        creator_id: \"0\",\r\n        chat_user: [\"0\"],\r\n        \"start_route[]\": JSON.stringify({\r\n          __component: \"route.route\",\r\n          ...startPos,\r\n          naver_id: startPos.id,\r\n          x: Number(startPos.x),\r\n          y: Number(startPos.y),\r\n        }),\r\n        \"end_route[]\": JSON.stringify({\r\n          __component: \"route.route\",\r\n          ...endPos,\r\n          naver_id: endPos.id,\r\n          x: Number(endPos.x),\r\n          y: Number(endPos.y),\r\n        }),\r\n        person_limit: personLimit,\r\n        start_at: date,\r\n        path: path.path,\r\n        taxiFare: path.taxiFare,\r\n        distance: path.distance,\r\n        duration: path.duration,\r\n        departureTime: path.departureTime,\r\n        // course_id: 0,\r\n      });\r\n      if (typeof response.id === \"number\") {\r\n        setTitle(\"\");\r\n        setDate(defaultValueDate);\r\n        setStartPos(posInit);\r\n        setEndPos(posInit);\r\n        setPersonLimit(2);\r\n        setGenderLimit(false);\r\n        setVisible(false);\r\n        // # 새로 방 업데이트\r\n        getfetch(\"/chat-rooms\").then((d) =>\r\n          setChatRoomList(\r\n            d.map((room) => {\r\n              return { ...room, path: _.chunk(_.split(room.path, \",\"), 2) };\r\n            })\r\n          )\r\n        );\r\n      } else if (response.statusCode === 200) {\r\n        try {\r\n          alert(JSON.stringify(response.data.errors));\r\n        } catch (e) {\r\n          console.debug(e);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <BottomSheet\r\n        blocking={false}\r\n        open={visible}\r\n        onDismiss={() => setVisible(false)}\r\n        snapPoints={({ minHeight, maxHeight }) => [maxHeight * 0.3, maxHeight * 0.5, maxHeight * 0.7, maxHeight * 0.9]}\r\n        defaultSnap={({ lastSnap, snapPoints }) => [SCREEN_HEIGHT * 0.7]}\r\n        expandOnContentDrag={true}\r\n      >\r\n        <div style={{ padding: \"12px 20px\" }}>\r\n          <div>\r\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 17, color: GRAY8, float: \"left\" }}>\r\n              채팅방을 만들어보세요!\r\n            </div>\r\n            {closeCondition ? (\r\n              <div\r\n                style={{\r\n                  fontFamily: \"roboto\",\r\n                  fontWeight: \"bold\",\r\n                  fontSize: 15,\r\n                  color: postCondition ? ORANGE : GRAY6,\r\n                  float: \"right\",\r\n                }}\r\n                onClick={postCreateChatRoom}\r\n              >\r\n                생성\r\n              </div>\r\n            ) : (\r\n              <div\r\n                style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY6, float: \"right\" }}\r\n                onClick={() => setVisible(false)}\r\n              >\r\n                닫기\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div style={{ marginTop: 40 }}>\r\n            <div style={{ marginTop: 12 }}>\r\n              <Input defaultValue={title} onChange={setTitle} placeholder=\"채팅방 이름을 입력해주세요. (선택)\" />\r\n            </div>\r\n            <div style={{ marginTop: 12 }}>\r\n              <InputMap value={startPos} placeholder=\"출발지를 선택해주세요.\" position={\"start\"} />\r\n              {startPos.place_name ? (\r\n                <PositionCard\r\n                  address={startPos.address_name}\r\n                  title={startPos.place_name}\r\n                  desc={startPos.category_name}\r\n                  url={startPos.place_url}\r\n                  img={\"https://picsum.photos/200\"}\r\n                  onClickDelete={() => setStartPos(posInit)}\r\n                />\r\n              ) : (\r\n                false\r\n              )}\r\n            </div>\r\n            <div style={{ marginTop: 12 }}>\r\n              <InputMap value={endPos} placeholder=\"도착지를 선택해주세요.\" position={\"end\"} />\r\n              {endPos.place_name ? (\r\n                <PositionCard\r\n                  address={endPos.address_name}\r\n                  title={endPos.place_name}\r\n                  desc={endPos.category_name}\r\n                  url={endPos.place_url}\r\n                  img={\"https://picsum.photos/200\"}\r\n                  onClickDelete={() => setEndPos(posInit)}\r\n                />\r\n              ) : (\r\n                false\r\n              )}\r\n            </div>\r\n            <div style={{ marginTop: 12 }}>\r\n              <div style={{ fontWeight: \"bold\", margin: \"0 12px 12px\", color: GRAY7 }}>출발 시간을 선택해주세요.</div>\r\n              <Input defaultValue={date} onChange={setDate} type=\"datetime-local\" id=\"appt\" name=\"appt\" />\r\n            </div>\r\n            <div style={{ marginTop: 0, padding: 8 }}>\r\n              <Switch\r\n                defaultValue={genderLimit}\r\n                title={genderLimit ? \"성별제한\" : \"성별무관 탑승\"}\r\n                onChange={setGenderLimit}\r\n              />\r\n            </div>\r\n            <div style={{ marginTop: 12, color: GRAY7, padding: \"0 8px\", fontSize: 15 }}>\r\n              인원 제한을 선택해주세요.\r\n              <div style={{ marginTop: 8 }}>\r\n                <Radio data={[2, 3, 4, 5, 6, 7]} defaultIndex={personLimit} onClick={setPersonLimit} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </BottomSheet>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { BottomHeader } from \"../components/BottomHeader\";\r\nimport { BottomTabBar } from \"../components/BottomTabBar\";\r\nimport { CreateBtn } from \"../components/Btn/CreateBtn\";\r\nimport { NMAP } from \"../components/NMap\";\r\nimport { SearchPosition } from \"../components/SearchPosition\";\r\nimport { SelectMapModal } from \"../components/SelectMapModal\";\r\nimport { BottomModal, CreateBottomModal } from './../components/BottomModal';\r\n\r\nconst HomeScreen = () => {\r\n  return (\r\n    <>\r\n      <BottomHeader />\r\n      <SearchPosition/>\r\n      <NMAP />\r\n      <CreateBtn/>\r\n      <BottomModal />\r\n      <CreateBottomModal />\r\n      <SelectMapModal />\r\n      <BottomTabBar />\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nexport default HomeScreen;\r\n","import { BottomTabBar } from \"../components/BottomTabBar\";\r\n\r\nconst SearchScreen = () => {\r\n  return (\r\n    <>\r\n      <BottomTabBar />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchScreen;\r\n","import React from \"react\";\r\nimport { Icon } from './../common/Icon';\r\n\r\nexport const BookmarkBtn = ({disable}) => {\r\n  const onClick = () => {\r\n    if (!disable) {\r\n      alert(\"즐겨찾기!\")\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        fontSize: 13,\r\n        padding: 12,\r\n        margin: \"24px 12px\",\r\n        backgroundColor: disable ? \"rgba(255,102,0,0.3)\" : \"rgba(255,102,0,1)\",\r\n        borderRadius: \"10px\",\r\n        color: \"white\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      onClick={onClick}\r\n    >\r\n      <Icon name={\"faBookmark\"} type={\"regular\"} color={\"white\"} />\r\n      <div style={{ marginLeft: 12 }}>북마크 추가</div>\r\n    </div>\r\n  );\r\n};\r\n","import { Icon } from \"./../common/Icon\";\r\n\r\nexport const ProfileIcon = ({ size, icon }) => (\r\n  <div style={{ height: size == \"sm\" ? 50 : 58 }}>\r\n    <div\r\n      onClick={() => {}}\r\n      style={{\r\n        ...inlineStyle.noStyleBtn,\r\n        border: `3px solid white`,\r\n        borderRadius: 200,\r\n        backgroundColor: \"white\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        display: \"flex\",\r\n        width: size === \"sm\" ? 44 : 52,\r\n        height: size === \"sm\" ? 44 : 52,\r\n      }}\r\n    >\r\n      <img\r\n        alt={' '}\r\n        width={size === \"sm\" ? 40 : 48}\r\n        height={size === \"sm\" ? 40 : 48}\r\n        style={{ borderRadius: 200 }}\r\n        src={\"https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg\"}\r\n      ></img>\r\n    </div>\r\n    {icon ? (\r\n      <div\r\n        style={{\r\n          position: \"relative\",\r\n          marginTop: size === \"sm\" ? 26 : 30,\r\n          marginLeft: size === \"sm\" ? 26 : 30,\r\n          height: size === \"sm\" ? 16 : 18,\r\n          width: size === \"sm\" ? 16 : 18,\r\n          backgroundColor: \"#0075FF\",\r\n          borderStyle: \"solid\",\r\n          borderColor: \"white\",\r\n          borderWidth: 1.5,\r\n          borderRadius: 20,\r\n          alignItems: \"center\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          top: -52,\r\n          left: 8,\r\n        }}\r\n      >\r\n        <Icon name={icon} color={\"white\"} size={\"xs\"} />\r\n      </div>\r\n    ) : (\r\n      false\r\n    )}\r\n  </div>\r\n);\r\nconst inlineStyle = {\r\n  noStyleBtn: { backgroundColor: \"transparent\", border: \"none\", fontSize: 15, fontWeight: \"normal\", width: \"3em\" },\r\n};\r\n","import { GRAY6, GRAY7, SUB_BLUE, textOverflowHidden } from \"../../style\";\r\nimport { Icon } from \"../common/Icon\";\r\nimport { GRAY4 } from \"./../../style/index\";\r\nimport { ProfileIcon } from './../Icon/ProfileIcon';\r\n\r\nexport const togglerFollow = (my_user_id, your_user_id) => {\r\n  alert('팔로우!')\r\n  // postfetch('/follow')\r\n}\r\nexport const ProfileCard = ({ title, desc, address, url, img, onClick, onClickDelete,disable}) => {\r\n  return (\r\n    <div style={{height:80}}>\r\n      <div\r\n        style={{ padding: \"16px 16px 0 16px\", display: \"flex\", alignItems: \"center\" }}\r\n        onClick={onClick ? onClick : () => {}}\r\n      >\r\n        {/* 유저아이콘 */}\r\n        <div style={{ flex: 1, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n          <ProfileIcon icon={\"faCrown\"} />\r\n        </div>\r\n        {/* 상세내용 */}\r\n        <div style={{ flex: 4, marginLeft: 16, alignSelf: \"center\" }}>\r\n          <div style={{ ...textOverflowHidden, fontSize: 14, color: GRAY7, fontWeight: \"bold\" }}>{address}</div>\r\n          <div style={{ ...textOverflowHidden, fontSize: 12, marginTop: 3, color: GRAY6 }}>{title}</div>\r\n          <div style={{ ...textOverflowHidden, fontSize: 12, color: GRAY6 }}>{desc}</div>\r\n        </div>\r\n        {/* 삭제버튼 */}\r\n        {typeof onClickDelete === \"function\" ? (\r\n          <div style={{ position: \"relative\", width: 16, height: 28, top: -8 }} onClick={onClickDelete}>\r\n            <Icon type={\"regular\"} name={\"faTrashAlt\"} size={\"sm\"} color={GRAY4} />\r\n          </div>\r\n        ) : (\r\n          false\r\n        )}\r\n        {/* 팔로우버튼 */}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            fontSize: 12,\r\n            fontWeight: \"bold\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: SUB_BLUE,\r\n            color: \"white\",\r\n            borderRadius: 20,\r\n            padding: \"3px 20px\",\r\n            height: 22,\r\n          }}\r\n          onClick={togglerFollow}\r\n        >\r\n          팔로우\r\n        </div>\r\n      </div>\r\n      {/* 덮개 */}\r\n      {disable ? (\r\n        <div style={{ position: \"relative\", width: \"100%\", height: 70, background: \"rgba(255,255,255,0.6\", top:-70 }} />\r\n      ) : (\r\n        false\r\n      )}\r\n    </div>\r\n  );\r\n};","import { useEffect, useState } from \"react\";\r\nimport { SCREEN_WIDTH } from \"./../../../style/index\";\r\nimport { commandInputListState, CropInit, CropState } from \"./../../recoil\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { Icon } from \"./../../common/Icon\";\r\n\r\nexport const loadXHR = (url)=>{\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open(\"GET\", url);\r\n      xhr.responseType = \"blob\";\r\n      xhr.onerror = () => {\r\n        // reject(`Network error: ${event}`);\r\n        reject();\r\n      };\r\n      xhr.onload = () => {\r\n        if (xhr.status === 200) {\r\n          resolve(xhr.response);\r\n        } else {\r\n          // reject(`XHR load error: ${xhr.statusText}`);\r\n          reject(\"\");\r\n        }\r\n      };\r\n      xhr.send();\r\n    } catch (err) {\r\n      // reject(err.message);\r\n      reject(\"\");\r\n    }\r\n  });\r\n}\r\n\r\nexport const CImage = ({ index }) => {\r\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\r\n  const [crop, setCrop] = useRecoilState(CropState);\r\n  // const [filepath, setFilepath] = useState({ file: \"\", previewURL: \"\" });\r\n  const [isCrop, setIsCrop] = useState(false);\r\n  const filepath = commandInputList[index].content;\r\n\r\n  //#region 앱껏다 키고 캐쉬 초기화 시 이미지 아닌게 들어깄으면 삭제\r\n  useEffect(() => {\r\n    loadXHR(filepath.file)\r\n      .then((f) => {\r\n        try {\r\n          if (typeof f.type === \"string\") console.debug(f.type.includes(\"image\"), f);\r\n        } catch (e) {}\r\n      })\r\n      .catch(() => {\r\n        setCommandInputList([\r\n          ...commandInputList.slice(0, index),\r\n          { ...commandInputList[index], content: { file: \"\", previewURL: \"\" } },\r\n          ...commandInputList.slice(index + 1, 999),\r\n        ]);\r\n      });\r\n  }, []);\r\n  //#endregion\r\n  //#region 편집 후 가져오기\r\n  useEffect(() => {\r\n    if (!crop.visible && isCrop) {\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, index),\r\n        { ...commandInputList[index], content: { file: crop.file, previewURL: crop.previewURL } },\r\n        ...commandInputList.slice(index + 1, 999),\r\n      ]);\r\n      // setFilepath({ file: crop.file, previewURL: crop.previewURL });\r\n      setIsCrop(false);\r\n      setCrop(CropInit);\r\n    }\r\n  }, [crop.visible]);\r\n  //#endregion\r\n  const onDeletePhoto = () => {\r\n    setCommandInputList([\r\n      ...commandInputList.slice(0, index),\r\n      { ...commandInputList[index], content: { file: \"\", previewURL: \"\" } },\r\n      ...commandInputList.slice(index + 1, 999),\r\n    ]);\r\n  };\r\n\r\n  const onChangeInput = (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      let reader = new FileReader();\r\n      let file = e.target.files[0];\r\n      reader.onloadend = () => {\r\n        setIsCrop(true);\r\n        setCrop({ visible: true, file: file, previewURL: reader.result });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    } catch (e) {\r\n      setIsCrop(false);\r\n      setCrop(CropInit);\r\n    }\r\n  };\r\n\r\n  const style =\r\n    filepath.previewURL !== \"\"\r\n      ? {\r\n          backgroundImage: `url(${filepath.previewURL})`,\r\n          backgroundColor: \"transparent\",\r\n        }\r\n      : {\r\n          backgroundColor: \"rgba(0,0,0,0.1)\", //transparent\r\n        };\r\n  return (\r\n    <div>\r\n      <div>\r\n        {/* 바탕사진 및 바탕 임시 회색 */}\r\n        <div\r\n          style={{\r\n            ...style,\r\n            height: ((SCREEN_WIDTH - 64) * 200) / 415,\r\n            width: SCREEN_WIDTH - 64,\r\n            backgroundSize: \"cover\",\r\n            backgroundRepeat: \"no-repeat\",\r\n          }}\r\n        />\r\n        {/* 바탕사진 선택버튼 */}\r\n        <div\r\n          style={{\r\n            position: \"relative\",\r\n            height: 0,\r\n            left: filepath.previewURL == \"\" ? (SCREEN_WIDTH - 175 - 64) / 2 : (SCREEN_WIDTH - 100 - 64) / 2,\r\n            top: -(((SCREEN_WIDTH - 64) * 200) / 415 / 2 + 15),\r\n          }}\r\n        >\r\n          {filepath.previewURL !== \"\" ? (\r\n            <div style={{ display: \"flex\" }}>\r\n              <div\r\n                style={inputFileCSSNone}\r\n                onClick={() => {\r\n                  setCrop({ visible: true, file: filepath.file, previewURL: filepath.previewURL });\r\n                  setIsCrop(true);\r\n                }}\r\n              >\r\n                <Icon name={\"faEdit\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\r\n              </div>\r\n              <div style={{ ...inputFileCSSNone, marginLeft: 5 }} onClick={onDeletePhoto}>\r\n                <Icon name={\"faTrash\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <label style={inputFileCSS} htmlFor={\"input-file\" + index}>\r\n              사진을 선택해주세요.\r\n            </label>\r\n          )}\r\n        </div>\r\n        <input\r\n          type=\"file\"\r\n          id={\"input-file\" + index}\r\n          value={\"\"}\r\n          style={{ display: \"none\" }}\r\n          accept=\"image/*\"\r\n          onChange={onChangeInput}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst inputFileCSSNone = {\r\n  padding: \"6px 12px\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  display: \"flex\",\r\n  backgroundColor: \"rgba(255,255,255,0.8)\",\r\n  borderRadius: \"20px\",\r\n  color: \"white\",\r\n  cursor: \"pointer\",\r\n};\r\nconst inputFileCSS = {\r\n  fontSize: 13,\r\n  padding: \"6px 25px\",\r\n  backgroundColor: \"#FF6600\",\r\n  borderRadius: \"4px\",\r\n  color: \"white\",\r\n  cursor: \"pointer\",\r\n};\r\n","import { SCREEN_WIDTH } from \"../../style\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { CropInit, CropState, FilePathInit, FilePathState } from \"../recoil\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { Icon } from \"../common/Icon\";\r\nimport { loadXHR } from \"./CommandInput/CImage\";\r\n\r\nexport const CourseImage = ({ placeholder }) => {\r\n  const [crop, setCrop] = useRecoilState(CropState);\r\n  const [filepath, setFilepath] = useRecoilState(FilePathState);\r\n  const [isCrop, setIsCrop] = useState(false);\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n        {/* 바탕사진 및 바탕 임시 회색 */}\r\n        <div\r\n          style={{\r\n            width: SCREEN_WIDTH,\r\n            backgroundImage:\r\n              filepath.previewURL != \"\"\r\n                ? `linear-gradient(to bottom,rgba(0,0,0,0),rgba(255,255,255, 1)),url(${filepath.previewURL})`\r\n                : `linear-gradient(to bottom,rgba(200,200,200,1),rgba(200,200,200, 1),rgba(200,200,200, 1),rgba(255,255,255, 0.2))`,\r\n            backgroundSize: \"cover\",\r\n            backgroundRepeat: \"no-repeat\",\r\n            height: (SCREEN_WIDTH * 200) / 415,\r\n          }}\r\n        />\r\n        {/* 바탕사진 */}\r\n        <div style={{ position: \"relative\", top: -125 }}>\r\n          {filepath.previewURL != \"\" ? (\r\n            <div style={{ display: \"flex\" }}>\r\n              <div\r\n                style={inputFileCSSNone}\r\n              >\r\n                <Icon name={\"faEdit\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\r\n              </div>\r\n              <div style={{ ...inputFileCSSNone, marginLeft: 5 }} onClick={() => setFilepath(FilePathInit)}>\r\n                <Icon name={\"faTrash\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <label style={inputFileCSS} />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst inputFileCSSNone = {\r\n  padding: \"6px 12px\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  display: \"flex\",\r\n  backgroundColor: \"rgba(255,255,255,0.8)\",\r\n  borderRadius: \"20px\",\r\n  color: \"white\",\r\n  cursor: \"pointer\",\r\n};\r\nconst inputFileCSS = {\r\n  fontSize: 13,\r\n  padding: \"6px 25px\",\r\n  backgroundColor: \"transparent\",\r\n  borderRadius: \"4px\",\r\n  color: \"white\",\r\n  cursor: \"pointer\",\r\n};\r\n","import { Icon } from \"./common/Icon\";\r\nimport { GRAY8 } from \"./../style/index\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const BackHeader = ({}) => {\r\n  const history = useHistory();\r\n  const goBack = () => history.goBack();\r\n\r\n  return (\r\n    <div onClick={goBack} style={{ position: \"absolute\", padding: 16 }}>\r\n      <Icon name={\"faChevronLeft\"} color={GRAY8} type={\"light\"} />\r\n    </div>\r\n  );\r\n};\r\n"," \r\nimport { Textarea } from '../components/Input';\r\nimport { BookmarkBtn } from './../components/Btn/BookmarkBtn';\r\nimport { ProfileCard } from '../components/card/ProfileCard';\r\nimport { CourseImage } from './../components/Input/CourseImage';\r\nimport { BackHeader } from './../components/BackHeader';\r\n\r\nconst CourseDetailScreen = () => {\r\n  return (\r\n    <>\r\n        <BackHeader/>\r\n        <CourseImage placeholder={\"\"} />\r\n        <div style={{ padding: \"0 16px 80px 16px\" }}>\r\n          <div style={{ marginTop: -40 }}>\r\n            <Textarea\r\n              style={{\r\n                border: \"none\",\r\n                width: \"100%\",\r\n                fontSize: 19,\r\n                paddingRight: 6,\r\n                padding: 2,\r\n                fontFamily: \"AppleSDGothic\",\r\n                backgroundColor: \"transparent\",\r\n                resize: \"none\",\r\n                outline: \"none\",\r\n              }}\r\n            />\r\n            <div style={{ marginTop: 12 }}>\r\n              <Textarea\r\n                style={{\r\n                  border: \"none\",\r\n                  width: \"100%\",\r\n                  fontSize: 15,\r\n                  paddingRight: 6,\r\n                  fontFamily: \"AppleSDGothic\",\r\n                  backgroundColor: \"transparent\",\r\n                  resize: \"none\",\r\n                  overflow: \"hidden\",\r\n                  outline: \"none\",\r\n                }}\r\n              />\r\n            </div>\r\n            <BookmarkBtn />\r\n            <ProfileCard address={\"캠퍼스택시\"} title={\"서울시 강남구\"} desc={\"팔로워 3,456명\"} img={\"img\"} />\r\n          </div>\r\n        </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CourseDetailScreen;\r\n","import { GRAY2, GRAY7, SCREEN_WIDTH, textOverflowHidden } from \"../../style\";\r\nimport { Icon } from \"../common/Icon\";\r\nimport { ProfileIcon } from './../Icon/ProfileIcon';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport const TagBlack = ({ title }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        ...textOverflowHidden,\r\n        padding: \"6px 12px\",\r\n        backgroundColor: GRAY7,\r\n        color: \"white\",\r\n        fontSize: 10,\r\n        borderRadius: 20,\r\n        fontWeight: \"bold\",\r\n      }}\r\n    >\r\n      {title}\r\n    </div>\r\n  );\r\n};\r\nexport const CourseCard = ({courseId}) => {\r\n  const history = useHistory();\r\n  return (\r\n    <div style={{ margin: SCREEN_WIDTH > 340 ? \"16px 24px\" : \"16px 12px\" }}>\r\n      <div\r\n        onClick={() => history.push(`/course/detail?id=${courseId}`)}\r\n        style={{\r\n          width: \"100%\",\r\n          backgroundColor: GRAY2,\r\n          borderRadius: 10,\r\n        }}\r\n      >\r\n        <div style={{ padding: 16 }}>\r\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n            {/* 좌우 태그 */}\r\n            <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n              <div style={{ flex: 3, display: \"flex\", flexDirection: \"row\" }}>\r\n                <TagBlack title={\"EVENT\"} />\r\n              </div>\r\n              <div style={{ flex: 1, minWidth: 120, display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                <TagBlack title={\"매주 커피 3잔!\"} />\r\n              </div>\r\n            </div>\r\n            {/* 타이틀/상세내용 */}\r\n            <div style={{ fontSize: 18, marginTop: 12, fontWeight: \"bold\", color: GRAY7 }}>서울 한강 공원 명소</div>\r\n            <div\r\n              style={{\r\n                ...textOverflowHidden,\r\n                WebkitLineClamp: 3,\r\n                padding: 6,\r\n                marginTop: 6,\r\n                color: GRAY7,\r\n                fontSize: 13,\r\n                maxHeight: 48,\r\n              }}\r\n            >\r\n              서울에 있는 한강 공원의 명소로 택시를 타고 이동해요. 주변에 ㅇㅇ맛집, ㅁㅁ식당 등이 있고, 주문 배달할 때는\r\n              02-0000-0000로 전화하...\r\n            </div>\r\n            {/* 유저사진, 댓글, 북마크수 */}\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", marginTop: 12, alignItems: \"flex-end\" }}>\r\n              <div style={{ flex: 1, display: \"flex\", flexDirection: \"row\", alignItems: \"baseline\" }}>\r\n                <ProfileIcon icon={\"faCrown\"} />\r\n                <div style={{ marginLeft: 3 }}>\r\n                  <ProfileIcon size={\"sm\"} />\r\n                </div>\r\n                {SCREEN_WIDTH > 340 ? (\r\n                  <div style={{ marginLeft: 3 }}>\r\n                    <ProfileIcon size={\"sm\"} />\r\n                  </div>\r\n                ) : (\r\n                  false\r\n                )}\r\n              </div>\r\n              <div\r\n                style={{\r\n                  backgroundColor: \"white\",\r\n                  padding: \"6px 12px\",\r\n                  borderRadius: 10,\r\n                  display: \"flex\",\r\n                  maxHeight: 20,\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    flex: 1,\r\n                    display: \"flex\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"flex-end\",\r\n                  }}\r\n                >\r\n                  <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                    <Icon name={\"faBookmark\"} type={\"regular\"} size={\"sm\"} color={GRAY7} />\r\n                    <div style={{ marginLeft: 6, color: GRAY7, fontSize: 11 }}>45</div>\r\n                  </div>\r\n                  <div style={{ marginLeft: 12, display: \"flex\", alignItems: \"center\" }}>\r\n                    <Icon name={\"faComment\"} type={\"regular\"} size={\"sm\"} color={GRAY7} />\r\n                    <div style={{ marginLeft: 6, color: GRAY7, fontSize: 11 }}>244565</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { CourseCard } from \"../card/CourseCard\";\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport { virtualize } from \"react-swipeable-views-utils\";\r\nimport { mod } from \"react-swipeable-views-core\";\r\nimport { Icon } from \"./../common/Icon\";\r\nimport { GRAY8, GRAY4, GRAY6, SCREEN_HEIGHT } from \"./../../style/index\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport \"swiper/swiper-bundle.min.css\";\r\nimport \"swiper/swiper.min.css\";\r\nimport { Navigation, Pagination, Scrollbar, A11y } from \"swiper\";\r\n// Import Swiper styles\r\n// import 'swiper/';\r\n// import 'swiper/css/pagination';\r\n// import 'swiper/css/scrollbar';\r\n\r\nexport const VirtualizeSwipeableViews = virtualize(SwipeableViews);\r\n\r\nexport const slideRenderer = ({ key, index }, list = []) => {\r\n  return (\r\n    <div key={key}>\r\n      <Title\r\n        beforeTxt={mod(index, list.length) === 0 ? list[list.length - 1] : list[mod(index, list.length) - 1]}\r\n        text={`${list[mod(index, list.length)]} 코스`}\r\n        afterTxt={mod(index, list.length) === list.length - 1 ? list[0] : list[mod(index, list.length) + 1]}\r\n      />\r\n      <CourseList />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CourseList = ({ title }) => {\r\n  const Child = ()=>(\r\n    <SwiperSlide>\r\n        <CourseCard />\r\n    </SwiperSlide>\r\n  );\r\n  return (\r\n    <>\r\n      <Swiper slidesPerView={1} direction={\"vertical\"} speed={500} height={250}>\r\n        <SwiperSlide>\r\n          <CourseCard />\r\n        </SwiperSlide>\r\n        <SwiperSlide>\r\n          <CourseCard />\r\n        </SwiperSlide>\r\n        <SwiperSlide>\r\n          <CourseCard />\r\n        </SwiperSlide>\r\n        <SwiperSlide>\r\n          <CourseCard />\r\n        </SwiperSlide>\r\n        <SwiperSlide>\r\n          <CourseCard />\r\n        </SwiperSlide>\r\n        <SwiperSlide>\r\n          <CourseCard />\r\n        </SwiperSlide>\r\n        <SwiperSlide>\r\n          <CourseCard />\r\n        </SwiperSlide>\r\n      </Swiper>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Title = ({ beforeTxt, text, afterTxt }) => {\r\n  return (\r\n    <div style={{ fontSize: 20, fontWeight: \"bold\", display: \"flex\", alignItems: \"center\" }}>\r\n      <div\r\n        style={{\r\n          flex: 1,\r\n          padding: \"16px 0 16px 24px\",\r\n          display: \"flex\",\r\n          position: \"sticky\",\r\n          top: 0,\r\n          left: 0,\r\n        }}\r\n      >\r\n        <Icon name={\"faChevronLeft\"} color={GRAY4} type={\"light\"} size={\"sm\"} />\r\n        <div\r\n          style={{\r\n            fontSize: 13,\r\n            fontWeight: \"normal\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            color: GRAY6,\r\n            padding: \"0 8px\",\r\n          }}\r\n        >\r\n          {beforeTxt}\r\n        </div>\r\n      </div>\r\n      <div style={{ flex: 1, display: \"flex\", justifyContent: \"center\" }}>{text}</div>\r\n      <div style={{ flex: 1, padding: \"16px 24px 16px 0\", display: \"flex\", justifyContent: \"flex-end\" }}>\r\n        <div\r\n          style={{\r\n            fontSize: 13,\r\n            fontWeight: \"normal\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            color: GRAY6,\r\n            padding: \"0 8px\",\r\n          }}\r\n        >\r\n          {afterTxt}\r\n        </div>\r\n        <Icon name={\"faChevronRight\"} color={GRAY4} type={\"light\"} size={\"sm\"} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { VirtualizeSwipeableViews, slideRenderer } from \"./list/CouseList\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\nconst favorite = {\r\n  enterCount: { 이벤트: 3, 데이트: 2, 여행: 1, 힐링: 10, 문화: 20, 놀이: 10 },\r\n  index: { 이벤트: 1, 데이트: 0, 여행: 1, 힐링: 1, 문화: 1, 놀이: 0 },\r\n};\r\nexport const CourseArea = () => {\r\n  const [rankedCourseList, setRankedCourseList] = useState([]);\r\n  //#region 많이 본 순서로 정렬, 이벤트는 무조건 처음.\r\n  // 많이 클릭한 순서 => ['문화', '힐링', '놀이', '이벤트', '데이트', '여행']\r\n  useEffect(() => {\r\n    let list = Object.keys(favorite.enterCount)\r\n      .sort((a, b) => favorite.enterCount[b] - favorite.enterCount[a])\r\n      .filter((t) => t !== \"이벤트\");\r\n    list.unshift(\"이벤트\");\r\n    setRankedCourseList(list);\r\n  }, [favorite.enterCount]);\r\n  //#endregion\r\n\r\n  return (\r\n    <div>\r\n      <VirtualizeSwipeableViews slideRenderer={(p) => slideRenderer(p, rankedCourseList)} />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { GRAY7, SCREEN_WIDTH } from \"../../style\";\r\nimport { CreateRouteBottomModalState } from \"../recoil\";\r\nimport { Icon } from './../common/Icon';\r\nimport { GRAY8 } from './../../style/index';\r\n\r\nexport const CreateBtnCourse = () => {\r\n  const [, setVisibleRoute] = useRecoilState(CreateRouteBottomModalState); //visibleRoute\r\n  const onClick = () => {\r\n    setVisibleRoute(true);\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        width: 60,\r\n        height: 60,\r\n        borderRadius: 200,\r\n        backgroundColor: \"white\",\r\n        bottom: 96 + 18,\r\n        right: SCREEN_WIDTH * 0.125,\r\n        boxShadow: \"0.2px 0.2px 0 0 gray\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      onClick={onClick}\r\n    >\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n        <Icon name={\"faIcons\"} size={\"lg\"} color={GRAY8} />\r\n        <div style={{ fontSize: 8, color: GRAY7 }}>Create</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { SCREEN_WIDTH } from \"../../style\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { CropInit, CropState, FilePathInit, FilePathState } from \"../recoil\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { Icon } from \"../common/Icon\";\r\nimport { loadXHR } from './CommandInput/CImage';\r\n\r\nexport const InputImage = ({ placeholder }) => {\r\n  const [crop, setCrop] = useRecoilState(CropState);\r\n  const [filepath, setFilepath] = useRecoilState(FilePathState);\r\n  const [isCrop, setIsCrop] = useState(false);\r\n\r\n  //#region 앱껏다 키고 캐쉬 초기화 시 이미지 아닌게 들어깄으면 삭제\r\n  useEffect(() => {\r\n    loadXHR(filepath.file)\r\n      .then((f) => {\r\n        try {\r\n          if (typeof f.type === \"string\") console.debug(f.type.includes(\"image\"), f);\r\n        } catch (e) {}\r\n      })\r\n      .catch(() => setFilepath(FilePathInit));\r\n  }, []);\r\n  //#endregion\r\n\r\n  //#region 편집 후 가져오기\r\n  useEffect(() => {\r\n    if (!crop.visible && isCrop) {\r\n      setFilepath({ file: crop.file, previewURL: crop.previewURL, type: \"CourseCreateMainImg\" });\r\n      setIsCrop(false);\r\n      setCrop(CropInit);\r\n    }\r\n  }, [crop.visible]);\r\n  //#endregion\r\n  const onChangeInput = (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      let reader = new FileReader();\r\n      let file = e.target.files[0];\r\n      reader.onloadend = () => {\r\n        setIsCrop(true);\r\n        setCrop({ visible: true, file: file, previewURL: reader.result });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    } catch (e) {\r\n      setIsCrop(false);\r\n      setCrop(CropInit);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n        {/* 바탕사진 및 바탕 임시 회색 */}\r\n        <div\r\n          style={{\r\n            width: SCREEN_WIDTH,\r\n            backgroundImage:\r\n              filepath.previewURL != \"\"\r\n                ? `linear-gradient(to bottom,rgba(0,0,0,0),rgba(255,255,255, 1)),url(${filepath.previewURL})`\r\n                : `linear-gradient(to bottom,rgba(200,200,200,1),rgba(200,200,200, 1),rgba(200,200,200, 1),rgba(255,255,255, 0.2))`,\r\n            backgroundSize: \"cover\",\r\n            backgroundRepeat: \"no-repeat\",\r\n            height: (SCREEN_WIDTH * 200) / 415,\r\n          }}\r\n        />\r\n        {/* 바탕사진 선택버튼 */}\r\n        <div style={{ position: \"relative\", top: -110 }}>\r\n          {filepath.previewURL != \"\" ? (\r\n            <div style={{ display: \"flex\" }}>\r\n              <div\r\n                style={inputFileCSSNone}\r\n                onClick={() => {\r\n                  setCrop({ visible: true, file: filepath.file, previewURL: filepath.previewURL });\r\n                  setIsCrop(true);\r\n                }}\r\n              >\r\n                <Icon name={\"faEdit\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\r\n              </div>\r\n              <div style={{ ...inputFileCSSNone, marginLeft: 5 }} onClick={() => setFilepath(FilePathInit)}>\r\n                <Icon name={\"faTrash\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <label style={inputFileCSS} htmlFor=\"input-file\">\r\n              {placeholder}\r\n            </label>\r\n          )}\r\n        </div>\r\n        <input\r\n          value={\"\"}\r\n          type=\"file\"\r\n          id=\"input-file\"\r\n          style={{ display: \"none\" }}\r\n          accept=\"image/*\"\r\n          onChange={onChangeInput}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst inputFileCSSNone = {\r\n  padding: \"6px 12px\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  display: \"flex\",\r\n  backgroundColor: \"rgba(255,255,255,0.8)\",\r\n  borderRadius: \"20px\",\r\n  color: \"white\",\r\n  cursor: \"pointer\",\r\n};\r\nconst inputFileCSS = {\r\n  fontSize: 13,\r\n  padding: \"6px 25px\",\r\n  backgroundColor: \"#FF6600\",\r\n  borderRadius: \"4px\",\r\n  color: \"white\",\r\n  cursor: \"pointer\",\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { GRAY6, GRAY1, GRAY2 } from \"./../../style/index\";\r\nimport { useRecoilState } from 'recoil';\r\nimport { commandWindowState } from \"../recoil\";\r\n\r\nconst box_active = {\r\n  border: `1px solid ${GRAY2}`,\r\n  borderRadius: 4,\r\n  padding: 8,\r\n  background: `white`,\r\n  opacity: \"1\",\r\n  transition: \"opacity 200ms\",\r\n};\r\n\r\nconst box_hidden = {\r\n  border: `1px solid ${GRAY2}`,\r\n  borderRadius: 4,\r\n  padding: 8,\r\n  background: `white`,\r\n  opacity: \"0\",\r\n  transition: \"opacity 100ms\",\r\n};\r\n\r\nexport const FadeDiv = ({ visible, children, style }) => {\r\n  const [select, setSelect] = useState(false);\r\n  const [disable, setDisable] = useState(true);\r\n  const [commandWindow, ] = useRecoilState(commandWindowState);\r\n  useEffect(() => {\r\n    handleClick(visible);\r\n    if (visible) setDisable(false);\r\n    else setTimeout(() => setDisable(true), 100);\r\n  }, [visible, commandWindow]);\r\n  const handleClick = (visible) => {\r\n    setSelect(visible);\r\n  };\r\n  if (disable) return <></>;\r\n  return <div style={select ? { ...box_active, ...style } : { ...box_hidden, ...style }}>{children}</div>;\r\n};\r\n","import { GRAY6, GRAY8, SCREEN_HEIGHT } from \"../../../style\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport {\r\n  commandWindowState,\r\n  commandInputListState,\r\n  SearchPositionState,\r\n  CreateBottomModalState,\r\n  CourseProductModalState,\r\n  CreateRouteBottomModalState,\r\n  commandInputColorState,\r\n} from \"../../recoil\";\r\nimport { getItems } from \"./dndFunc\";\r\nimport { homeTabIndexState } from \"./../../recoil\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const CommandListRenderItem = ({ img, title, desc }) => {\r\n  const [commandWindow, setCommandWindow] = useRecoilState(commandWindowState);\r\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\r\n  const [commandInputColor, setCommandInputColor] = useRecoilState(commandInputColorState);\r\n  const [, setHomeTabIndex] = useRecoilState(homeTabIndexState); //homeTabIndex\r\n  const [, setVisibleSearch] = useRecoilState(SearchPositionState); //visibleSearch\r\n  const [, setVisibleCreate] = useRecoilState(CreateBottomModalState); //visibleCreate\r\n  const [, setVisibleRouteProduct] = useRecoilState(CourseProductModalState); //visibleRouteProduct\r\n  const [, setVisibleRoute] = useRecoilState(CreateRouteBottomModalState); //visibleRoute\r\n\r\n  const history = useHistory();\r\n\r\n  const onClick = () => {\r\n    let i = commandWindow.index;\r\n    if (img === \"text\") {\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, i + 1),\r\n        ...getItems(1, commandInputList.length),\r\n        ...commandInputList.slice(i + 1, 999),\r\n      ]);\r\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n    } else if (img === \"place\") {\r\n      setHomeTabIndex(1);\r\n      setVisibleSearch({ visible: true, position: \"place\" });\r\n      setVisibleCreate(false);\r\n      history.push(\"/\");\r\n      setCommandWindow({ ...commandWindow, visible: false });\r\n    } else if (img === \"product\") {\r\n      setVisibleRoute(false);\r\n      setVisibleRouteProduct(true);\r\n      setCommandWindow({ ...commandWindow, visible: false });\r\n    } else if (img === \"image\") {\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, i + 1),\r\n        ...getItems(1, commandInputList.length, \"image\", { file: \"\", previewURL: \"\" }),\r\n        ...commandInputList.slice(i + 1, 999),\r\n      ]);\r\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n    } else if (img === \"h1\") {\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, i + 1),\r\n        ...getItems(1, commandInputList.length, \"h1\"),\r\n        ...commandInputList.slice(i + 1, 999),\r\n      ]);\r\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n    } else if (img === \"h2\") {\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, i + 1),\r\n        ...getItems(1, commandInputList.length, \"h2\"),\r\n        ...commandInputList.slice(i + 1, 999),\r\n      ]);\r\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n    } else if (img === \"h3\") {\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, i + 1),\r\n        ...getItems(1, commandInputList.length, \"h3\"),\r\n        ...commandInputList.slice(i + 1, 999),\r\n      ]);\r\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n    } else if (img === \"tag\") {\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, i + 1),\r\n        ...getItems(1, commandInputList.length+1, \"tag\", { tagList: [], inputValue: \"\" }),\r\n        ...commandInputList.slice(i + 1, 999),\r\n      ]);\r\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n    } else if (img === \"contour\") {\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, i + 1),\r\n        ...getItems(1, commandInputList.length, \"contour\"),\r\n        ...commandInputList.slice(i + 1, 999),\r\n      ]);\r\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n    } else if (img === \"emoji\") {\r\n      // setCommandInputList([\r\n      //   ...commandInputList.slice(0, i + 1),\r\n      //   ...getItems(1, commandInputList.length, \"h1\"),\r\n      //   ...commandInputList.slice(i + 1, 999),\r\n      // ]);\r\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n    } else if (img === \"red\") {\r\n      setCommandInputColor(\"red\")\r\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n    }\r\n  };\r\n  return (\r\n    <div style={{ display: \"flex\", marginBottom: 6 }} onClick={onClick}>\r\n      <img alt={' '} src={`./images/CommandInput/asset/${img}.png`} height={SCREEN_HEIGHT * 0.045} />\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", marginLeft: 8 }}>\r\n        <div style={{ color: GRAY8, fontSize: 13 }}>{title}</div>\r\n        <div style={{ color: GRAY6, fontSize: 11 }}>{desc}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { PositionCard } from './../../card/PositionCard';\r\n\r\nexport const CPlace = ({index, data}) => {\r\n  return (\r\n      <PositionCard\r\n        key={index.toString()}\r\n        address={data.content.address_name}\r\n        title={data.content.place_name}\r\n        desc={data.content.category_name}\r\n        url={data.content.place_url}\r\n        img={\"https://picsum.photos/200\"}\r\n        imgWidth={70}\r\n        padding={\"\"}\r\n        // onClick={() => onClick(data.content)}\r\n      />\r\n  );\r\n}","import { GRAY7, SCREEN_WIDTH } from \"../../../style\";\r\nimport { useState, useCallback, useRef, useEffect } from \"react\";\r\nimport TextareaAutosize from \"react-autosize-textarea\";\r\nimport { offset } from \"caret-pos\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { commandInputColorState, commandInputListState, commandWindowState } from \"./../../recoil\";\r\nimport { getPlatform } from \"../../common/function/getPlatform\";\r\nexport const platform = getPlatform();\r\n\r\nexport const CTextarea = ({ style, maxrows, index }) => {\r\n  const [placeholder, setPlaceHolder] = useState(\"\");\r\n  const [rowIndex, setRowIndex] = useState({ height: 0, index: 0 });\r\n  const [beforeInput, setBeforeInput] = useState(\"\");\r\n  const [commandWindow, setCommandWindow] = useRecoilState(commandWindowState);\r\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\r\n  const [commandInputColor] = useRecoilState(commandInputColorState); //setCommandInputColor\r\n\r\n  const ref = useRef();\r\n  const rootRef = useRef();\r\n\r\n  useEffect(() => {\r\n    console.log(rootRef);\r\n   },[])\r\n\r\n  const onChangeInput = useCallback(\r\n    (e) => {\r\n      //#region #누르면 명령어창 보여줌 || 안드로이드 설정(한번에 여러개들어옴)\r\n      if (\r\n        e.nativeEvent.data == \"#\" ||\r\n        (platform === \"android\" && !!e.nativeEvent.data && e.nativeEvent.data.includes(\"#\"))\r\n      ) {\r\n        let { left, top, height } = offset(ref.current);\r\n        //#region 가로이동 제한 & height 화면 안 넘어가게 제한\r\n        // 가로제한\r\n        if (left + 260 > SCREEN_WIDTH && left < 260) {\r\n          left = commandWindow.left;\r\n        } else if (SCREEN_WIDTH - left < 260 && left > 260) left -= 280;\r\n        // 세로제한\r\n        let heightCommand = 448;\r\n        top -= heightCommand;\r\n        if (top < 0) {\r\n          heightCommand += top - height;\r\n          top = 0;\r\n        }\r\n        //#endregion\r\n        setCommandWindow({ visible: true, top: top, left: left, index: index, height: heightCommand });\r\n      } else {\r\n        setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n      }\r\n      //#region 내용업데이트\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, index),\r\n        { ...commandInputList[index], content: e.target.value },\r\n        ...commandInputList.slice(index + 1, 999),\r\n      ]);\r\n      //#endregion\r\n      setBeforeInput(e.target.value);\r\n      //#endregion #누르면 명령어창 보여줌\r\n\r\n      //#region 줄 수 제한 높이체크\r\n      if (!!maxrows) {\r\n        if (rowIndex.index < maxrows && rowIndex.height < e.target.scrollHeight)\r\n          setRowIndex({ index: rowIndex.index + 1, height: e.target.scrollHeight });\r\n        else if (rowIndex.height < e.target.scrollHeight) e.target.value = e.target.value.slice(0, -1);\r\n        e.target.style.maxHeight = rowIndex.height - 4 + \"px\";\r\n        e.target.style.height = rowIndex.height - 4 + \"px\";\r\n      }\r\n      //#endregion 줄 수 제한 높이체크\r\n    },\r\n    [rowIndex, beforeInput, commandWindow, index]\r\n  );\r\n  const onBlur = () => {\r\n    setPlaceHolder(\"\");\r\n  };\r\n  const onFocus = () => {\r\n    if (commandWindow.index != index) {\r\n      if (commandWindow.visible) setCommandWindow({ ...commandWindow, visible: false, index: index });\r\n      else setCommandWindow({ ...commandWindow, index: index });\r\n    }\r\n    setPlaceHolder('명령어 사용시 \"#\"을 입력하세요.');\r\n  };\r\n  return (\r\n    <>\r\n      <TextareaAutosize\r\n        ref={ref}\r\n        // rows={rows ?? 1}\r\n        onFocus={onFocus}\r\n        onChange={onChangeInput}\r\n        placeholder={placeholder}\r\n        maxRows={maxrows}\r\n        onBlur={onBlur}\r\n        value={commandInputList[index].content}\r\n        style={\r\n          style\r\n            ? style\r\n            : {\r\n                width: SCREEN_WIDTH - 60,\r\n                height: \"20px\",\r\n                border: \"none\",\r\n                fontSize: 15,\r\n                color: GRAY7,\r\n                resize: \"none\",\r\n                fontFamily: \"AppleSDGothic\",\r\n                overflow: \"hidden\",\r\n                outline: \"none\",\r\n              }\r\n        }\r\n      ></TextareaAutosize>\r\n      {/* <div>\r\n        <span contentEditable={\"true\"} style={{ color: \"black\" }} suppressContentEditableWarning>asd</span>\r\n        <span contentEditable={\"true\"} style={{ color: \"red\" }}/>\r\n      </div> */}\r\n    </>\r\n  );\r\n};\r\n","export const getPlatform = () => {\r\n  if (/Android/i.test(navigator.userAgent)) {\r\n    // 안드로이드\r\n    return \"android\";\r\n  } else if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\r\n    // iOS 아이폰, 아이패드, 아이팟\r\n    return \"ios\";\r\n  } else {\r\n    // 그 외 디바이스\r\n    return \"other\";\r\n  }\r\n};\r\n","import { GRAY7, SCREEN_WIDTH } from \"../../../style\";\r\nimport { useState, useCallback, useRef } from \"react\";\r\nimport TextareaAutosize from \"react-autosize-textarea\";\r\nimport { offset } from \"caret-pos\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { commandInputListState, commandWindowState } from \"../../recoil\";\r\nimport { platform } from './CTextarea';\r\n\r\nexport const CH = ({ index, type = \"h1\" }) => {\r\n  const [placeholder, setPlaceHolder] = useState(\"\");\r\n  const [rowIndex, setRowIndex] = useState({ height: 0, index: 0 });\r\n  const [beforeInput, setBeforeInput] = useState(\"\");\r\n  const [commandWindow, setCommandWindow] = useRecoilState(commandWindowState);\r\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\r\n\r\n  const ref = useRef();\r\n  const onChangeInput = useCallback(\r\n    (e) => {\r\n      //#region #누르면 명령어창 보여줌 || 안드로이드 설정(한번에 여러개들어옴)\r\n      if (\r\n        e.nativeEvent.data == \"#\" ||\r\n        (platform === \"android\" && !!e.nativeEvent.data && e.nativeEvent.data.includes(\"#\"))\r\n      ) {\r\n        let { left, top, height } = offset(ref.current);\r\n        //#region 가로이동 제한 & height 화면 안 넘어가게 제한\r\n        // 가로제한\r\n        if (left + 260 > SCREEN_WIDTH && left < 260) {\r\n          left = commandWindow.left;\r\n        } else if (SCREEN_WIDTH - left < 260 && left > 260) left -= 280;\r\n        // 세로제한\r\n        let heightCommand = 448;\r\n        top -= heightCommand;\r\n        if (top < 0) {\r\n          heightCommand += top - height;\r\n          top = 0;\r\n        }\r\n        //#endregion\r\n        setCommandWindow({\r\n          visible: true,\r\n          top: top,\r\n          left: left,\r\n          index: index,\r\n          height: heightCommand,\r\n        });\r\n      } else {\r\n        setCommandWindow({ ...commandWindow, visible: false, index: -1, height: 0 });\r\n      }\r\n      //#region 내용업데이트\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, index),\r\n        { ...commandInputList[index], content: e.target.value },\r\n        ...commandInputList.slice(index + 1, 999),\r\n      ]);\r\n      //#endregion\r\n      setBeforeInput(e.target.value);\r\n      //#endregion #누르면 명령어창 보여줌\r\n    },\r\n    [rowIndex, beforeInput, commandWindow, index]\r\n  );\r\n  const onBlur = () => {\r\n    setPlaceHolder(\"\");\r\n  };\r\n  const onFocus = () => {\r\n    if (commandWindow.index != index) {\r\n      if (commandWindow.visible) setCommandWindow({ ...commandWindow, visible: false, index: index });\r\n      else setCommandWindow({ ...commandWindow, index: index });\r\n    }\r\n    setPlaceHolder('명령어 사용시 \"#\"을 입력하세요.');\r\n  };\r\n\r\n  const style =\r\n    type == \"h1\" ? { fontSize: 21, fontWeight: \"bold\" } : type == \"h2\" ? { fontSize: 18 } : { fontSize: 16 };\r\n  return (\r\n    <TextareaAutosize\r\n      ref={ref}\r\n      onFocus={onFocus}\r\n      onChange={onChangeInput}\r\n      placeholder={placeholder}\r\n      onBlur={onBlur}\r\n      defaultValue={commandInputList[index].content}\r\n      style={{\r\n        ...style,\r\n        width: SCREEN_WIDTH - 60,\r\n        height: \"20px\",\r\n        border: \"none\",\r\n        color: GRAY7,\r\n        resize: \"none\",\r\n        fontFamily: \"AppleSDGothic\",\r\n        overflow: \"hidden\",\r\n        outline: \"none\",\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { commandInputListState } from \"../../recoil\";\r\nimport { WithContext as ReactTags } from \"react-tag-input\";\r\n\r\nimport \"../../../App.css\";\r\n\r\nconst KeyCodes = {\r\n  comma: 188,\r\n  space: 32,\r\n  enter: [10, 13],\r\n};\r\n\r\nconst delimiters = [...KeyCodes.enter, KeyCodes.comma, KeyCodes.space];\r\n\r\n// tagList:[], inputValue:\"\"\r\nexport const CTag = ({ index, type = \"h1\" }) => {\r\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\r\n  const tagList = commandInputList[index].content.tagList;\r\n  const inputValue = commandInputList[index].content.inputValue;\r\n  const [suggestionList] = useState([\r\n    //setSuggestionList\r\n    { id: \"캠퍼스택시\", text: \"캠퍼스택시\" },\r\n    { id: \"Campustaxi\", text: \"Campustaxi\" },\r\n  ]);\r\n\r\n  //#region 태그기본함수\r\n  // 태그삭제\r\n  const handleDelete = (i) => {\r\n    setCommandInputList([\r\n      ...commandInputList.slice(0, index),\r\n      {\r\n        ...commandInputList[index],\r\n        content: { inputValue: inputValue, tagList: tagList.filter((tag, index) => index !== i) },\r\n      },\r\n      ...commandInputList.slice(index + 1, 999),\r\n    ]);\r\n  };\r\n  // 태그추가\r\n  const handleAddition = (tag) => {\r\n    setCommandInputList([\r\n      ...commandInputList.slice(0, index),\r\n      { ...commandInputList[index], content: { inputValue: \"\", tagList: [...tagList, tag] } },\r\n      ...commandInputList.slice(index + 1, 999),\r\n    ]);\r\n  };\r\n  // 인풋수정\r\n  const handleInputChange = (e) => {\r\n    setCommandInputList([\r\n      ...commandInputList.slice(0, index),\r\n      { ...commandInputList[index], content: { inputValue: e, tagList: tagList } },\r\n      ...commandInputList.slice(index + 1, 999),\r\n    ]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ReactTags\r\n        placeholder={\"엔터, 스페이스, 쉼표로 태그를 구분해주세요.\"}\r\n        maxLength={30}\r\n        allowDeleteFromEmptyInput={false}\r\n        inline\r\n        tags={tagList}\r\n        inputValue={inputValue}\r\n        suggestions={suggestionList}\r\n        handleDelete={handleDelete}\r\n        handleAddition={handleAddition}\r\n        handleInputChange={handleInputChange}\r\n        delimiters={delimiters}\r\n        renderSuggestion={({ text }, query) => (\r\n          <div style={{ fontSize: 13 }}>\r\n            {text} ({query})\r\n          </div>\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import { SCREEN_WIDTH } from '../../../style/index';\r\n\r\nexport const CContour = ({ index, data }) => {\r\n  return (\r\n    <div style={{ width: SCREEN_WIDTH * 0.8, height: 2, backgroundColor:'black', marginTop:11,borderRadius:10 }}/>\r\n  );\r\n};","import { BottomSheet } from \"react-spring-bottom-sheet\";\r\nimport \"react-spring-bottom-sheet/dist/style.css\";\r\nimport { GRAY7 } from \"../../style\";\r\nimport { GRAY6 } from \"../../style/index\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { commandInputListState, commandWindowState, CourseProductModalState } from \"../recoil\";\r\nimport { createRef, useRef, useState } from \"react\";\r\nimport { InputSearch } from \"../Input/index\";\r\nimport { PositionCard } from \"../card/PositionCard\";\r\nimport { getItems } from \"../Input/CommandInput/dndFunc\";\r\nimport { CreateRouteBottomModalState } from '../recoil';\r\n\r\n//#region 콤마함수 : 숫자 3자리마다 콤마 찍어줌\r\nexport const numberWithCommas = (x) => {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n};\r\nexport const noTags = (x) => {\r\n  return x.toString().replace(/(<([^>]+)>)/gi, \"\");\r\n};\r\n//#endregion\r\nexport const productInit = {\r\n  brand: \"\",\r\n  category1: \"\",\r\n  category2: \"\",\r\n  category3: \"\",\r\n  category4: \"\",\r\n  // hprice: \"\",\r\n  image: \"\",\r\n  link: \"\",\r\n  lprice: \"\",\r\n  maker: \"\",\r\n  mallName: \"\",\r\n  productId: \"\",\r\n  productType: \"\",\r\n  title: \"\",\r\n};\r\nconst procductInfoInit = {\r\n  items: [productInit],\r\n  display: 80,\r\n  start: 1,\r\n  total: 0,\r\n  lastBuildDate: \"\",\r\n};\r\nexport const CourseProductModal = () => {\r\n  const [, setVisibleRoute] = useRecoilState(CreateRouteBottomModalState);\r\n  const [visibleRouteProduct, setVisibleRouteProduct] = useRecoilState(CourseProductModalState);\r\n  const [commandWindow] = useRecoilState(commandWindowState);\r\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\r\n  const [procductInfo, setProcductInfo] = useState(procductInfoInit);\r\n  const filterSearchTxt = useRef(\"\");\r\n  const bottomRef = useRef();\r\n\r\n  //#region 네이버 상품검색\r\n  const onChangeFilterSearchTxt = async (t) => {\r\n    if (t.length === 0) {\r\n      setProcductInfo(procductInfoInit);\r\n    } else {\r\n      // https://openapi.naver.com/v1/search/shop.json?query=\r\n      fetch(`/v1/search/shop.json?query=${t}&display=${procductInfoInit.display}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          \"X-Naver-Client-Id\": \"yeoXdUtxPpcjkxR4G932\",\r\n          \"X-Naver-Client-Secret\": \"TChrYL1rxH\",\r\n        },\r\n      })\r\n        .then((d) => d.json())\r\n        .then((d) => setProcductInfo(d));\r\n    }\r\n  };\r\n  //#endregion\r\n\r\n  //#region 닫기 클릭시\r\n  const onClickClose = () => {\r\n    setVisibleRouteProduct(false);\r\n    setVisibleRoute(true);\r\n  };\r\n  //#endregion\r\n  const LIST = procductInfo.items;\r\n  return (\r\n    <>\r\n      <BottomSheet\r\n        ref={bottomRef}\r\n        blocking={false}\r\n        open={visibleRouteProduct}\r\n        onDismiss={() => setVisibleRouteProduct(false)}\r\n        snapPoints={({ minHeight, maxHeight }) => [maxHeight * 0.5, maxHeight * 0.99]}\r\n        defaultSnap={({ lastSnap, snapPoints }) => [snapPoints[1]]}\r\n        header={\r\n          <div>\r\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY7, float: \"left\" }}>\r\n              추천 상품을 추가해보세요!\r\n            </div>\r\n            <div\r\n              style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY6, float: \"right\" }}\r\n              onClick={onClickClose}\r\n            >\r\n              닫기\r\n            </div>\r\n          </div>\r\n        }\r\n        expandOnContentDrag={true}\r\n      >\r\n        <div style={{ padding: \"0 10px 80px 10px\" }}>\r\n          <div style={{ display: \"flex\", justifyContent: \"center\", marginTop: 16 }}>\r\n            <InputSearch\r\n              value={filterSearchTxt}\r\n              placeholder={\"검색어를 입력해주세요.\"}\r\n              onChange={onChangeFilterSearchTxt}\r\n            />\r\n          </div>\r\n          {LIST[0].brand !== \"\" &&\r\n            LIST.map((product, i) => {\r\n              const ref = createRef();\r\n              const onClick = () => {\r\n                const index = commandWindow.index + 1;\r\n                setCommandInputList([\r\n                  ...commandInputList.slice(0, index),\r\n                  ...getItems(1, commandInputList.length, \"product\", product),\r\n                  ...commandInputList.slice(index + 1, 999),\r\n                ]);\r\n                setVisibleRouteProduct(false);\r\n                setVisibleRoute(true);\r\n              };\r\n              return (\r\n                <div key={i.toString()} ref={ref}>\r\n                  <PositionCard\r\n                    address={`${product.category1} > ${product.category2} > ${product.category3} > ${product.category4}`}\r\n                    title={noTags(product.title)}\r\n                    desc={`최저가 ${numberWithCommas(product.lprice)}원`}\r\n                    url={\"\"}\r\n                    img={product.image}\r\n                    onClick={onClick}\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </BottomSheet>\r\n    </>\r\n  );\r\n};\r\n","import { noTags } from \"../../modal/CourseProductModal\";\r\nimport { PositionCard } from \"./../../card/PositionCard\";\r\nimport { numberWithCommas } from \"./../../modal/CourseProductModal\";\r\n\r\nexport const CProduct = ({ index, data }) => {\r\n  const product = data.content;\r\n  return (\r\n    <PositionCard\r\n      address={`${product.category1} > ${product.category2} > ${product.category3} > ${product.category4}`}\r\n      title={noTags(product.title)}\r\n      desc={`최저가 ${numberWithCommas(product.lprice)}원`}\r\n      url={\"\"}\r\n      img={product.image}\r\n      onClick={() => {}}\r\n    />\r\n  );\r\n};\r\n","import { CPlace } from \"./CPlace\";\r\nimport { CTextarea } from \"./CTextarea\";\r\nimport { CImage } from './CImage';\r\nimport { CH } from './CH';\r\nimport { CTag } from './CTag';\r\nimport { CContour } from './CContour';\r\nimport { CProduct } from \"./CProduct\";\r\n\r\nexport const CItem = ({ index, data }) => {\r\n  switch (data.type) {\r\n    case \"text\":\r\n      return <CTextarea index={index} />;\r\n    case \"place\":\r\n      return <CPlace index={index} data={data} />;\r\n    case \"product\":\r\n      return <CProduct index={index} data={data} />;\r\n    case \"image\":\r\n      return <CImage index={index} data={data} />;\r\n    case \"h1\":\r\n      return <CH index={index} data={data} type={'h1'} />;\r\n    case \"h2\":\r\n      return <CH index={index} data={data} type={\"h2\"} />;\r\n    case \"h3\":\r\n      return <CH index={index} data={data} type={\"h3\"} />;\r\n    case \"tag\":\r\n      return <CTag index={index} data={data} />;\r\n    case \"contour\":\r\n      return <CContour index={index} data={data} />;\r\n    default:\r\n      return <></>;\r\n  }\r\n};\r\n","import { Icon } from \"./../common/Icon\";\r\nimport { GRAY6 } from \"./../../style/index\";\r\n\r\nexport const Rowdot = () => {\r\n  return (\r\n    <>\r\n      <Icon name={\"faEllipsisV\"} type={\"solid\"} size={\"xs\"} color={GRAY6} />\r\n      <Icon name={\"faEllipsisV\"} type={\"solid\"} size={\"xs\"} color={GRAY6} />\r\n    </>\r\n  );\r\n};\r\n","import { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { Icon } from \"../common/Icon\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { alertDialogInit, alertDialogState, commandInputListState, commandWindowState, placePosState } from \"../recoil\";\r\nimport { FadeDiv } from \"../FadeDiv\";\r\nimport { CommandListRenderItem } from \"./CommandInput/CommandListRenderItem\";\r\nimport { getItems, getItemStyle, getListStyle, onDragEnd } from \"./CommandInput/dndFunc\";\r\nimport { useCallback, useEffect } from \"react\";\r\nimport { posInit } from \"../common\";\r\nimport { CItem } from \"./CommandInput/CItem\";\r\nimport { deleteModePosState } from \"./../recoil\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { Rowdot } from \"./../Icon/Rowdot\";\r\n\r\nexport const CommandArea = ({}) => {\r\n  const [deleteMode, setDeleteMode] = useRecoilState(deleteModePosState);\r\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\r\n  const [alertDialogInfo, setAlertDialogInfo] = useRecoilState(alertDialogState);\r\n  const [commandWindow] = useRecoilState(commandWindowState);\r\n  const [placePos, setPlacePos] = useRecoilState(placePosState);\r\n\r\n  //#region 명령어입력창 마지막는 무조건 텍스트(text,h1,h2,h3)로\r\n  useEffect(() => {\r\n    const type = commandInputList[commandInputList.length - 1].type;\r\n    if (type !== \"text\" && type !== \"h1\" && type !== \"h2\" && type !== \"h3\") {\r\n      setCommandInputList([...commandInputList, ...getItems(1, commandInputList.length + 1, \"text\")]);\r\n    }\r\n  }, [commandInputList.length]);\r\n  //#endregion\r\n  //#region 장소 선택 후 돌아올떄 반영\r\n  useEffect(() => {\r\n    if (placePos.id !== -1) {\r\n      let i = commandWindow.index;\r\n      setCommandInputList([\r\n        ...commandInputList.slice(0, i + 1),\r\n        ...getItems(1, commandInputList.length, \"place\", placePos),\r\n        ...commandInputList.slice(i + 1, 999),\r\n      ]);\r\n      setPlacePos(posInit);\r\n    }\r\n  }, []);\r\n  //#endregion\r\n  //#region 명령어창 UI\r\n  const CommandRect = useCallback(() => {\r\n    return (\r\n      <FadeDiv\r\n        visible={commandWindow.visible}\r\n        style={{ position: \"absolute\", top: commandWindow.top, left: commandWindow.left, zIndex: 9999 }}\r\n      >\r\n        <div style={{ height: commandWindow.height, width: 260, overflow: \"scroll\" }}>\r\n          <CommandListRenderItem img={\"text\"} title={\"#텍스트, #text\"} desc={\"일반 텍스트로 글을 작성하세요.\"} />\r\n          <CommandListRenderItem img={\"place\"} title={\"#장소, #place\"} desc={\"지도에서 장소를 선택하세요.\"} />\r\n          <CommandListRenderItem img={\"product\"} title={\"#상품, #product\"} desc={\"네이버샵의 상품을 선택하세요.\"} />\r\n          <CommandListRenderItem img={\"image\"} title={\"#이미지, #image\"} desc={\"이미지를 업로드해보세요.\"} />\r\n          <CommandListRenderItem img={\"h1\"} title={\"#큰 제목, h1\"} desc={\"큰 제목으로 글을 시작하세요.\"} />\r\n          <CommandListRenderItem img={\"h2\"} title={\"#부제목, #h2\"} desc={\"부제목으로 글을 시작하세요.\"} />\r\n          <CommandListRenderItem img={\"h3\"} title={\"#소제목 #h3\"} desc={\"소주제로 글을 시작하세요.\"} />\r\n          <CommandListRenderItem img={\"tag\"} title={\"#태그, #tag\"} desc={\"태그를 걸어 다른 사용자와 공유하세요.\"} />\r\n          <CommandListRenderItem img={\"contour\"} title={\"#구분선, #contour\"} desc={\"블록을 구분선으로 나눕니다.\"} />\r\n          {/* <CommandListRenderItem img={\"emoji\"} title={\"#이모지, #emoji\"} desc={\"텍스트로 넣을 이모지 선택하세요.\"} /> */}\r\n          <CommandListRenderItem img={\"red\"} title={\"#빨간색 글씨, #red\"} desc={\"빨간색으로 글을 작성하세요.\"} />\r\n          <CommandListRenderItem img={\"blue\"} title={\"#파란색 글씨, #blue\"} desc={\"파란색으로 글을 작성하세요.\"} />\r\n          <CommandListRenderItem img={\"brown\"} title={\"#갈색 글씨, #yellow\"} desc={\"갈색으로 글을 작성하세요.\"} />\r\n          <CommandListRenderItem img={\"purple\"} title={\"#보라색 글씨, #purple\"} desc={\"보라색으로 글을 작성하세요.\"} />\r\n          <CommandListRenderItem\r\n            img={\"yellow\"}\r\n            title={\"#노란색 배경, #yellow-background\"}\r\n            desc={\"노란색 배경으로 글을 작성하세요.\"}\r\n          />\r\n          <CommandListRenderItem\r\n            img={\"orange\"}\r\n            title={\"#주황색 배경, #orange-background\"}\r\n            desc={\"주황색 배경으로 글을 작성하세요.\"}\r\n          />\r\n          <CommandListRenderItem\r\n            img={\"gray\"}\r\n            title={\"#회색 배경, #gray-background\"}\r\n            desc={\"회색 배경으로 글을 작성하세요.\"}\r\n          />\r\n        </div>\r\n        {/* <div>#인용</div> */}\r\n        {/* <div>#콜아웃</div> */}\r\n        {/* <div>#사용자 멘션하기</div> */}\r\n        {/* <div>#동영상</div> */}\r\n        {/* <div>#코드</div> */}\r\n        {/* <div>#파일</div> */}\r\n        {/* <div>#북마크</div> */}\r\n      </FadeDiv>\r\n    );\r\n  }, [commandWindow.visible, commandWindow.left, commandWindow.top]);\r\n  //#endregion\r\n  //#region 블록 하나 삭제\r\n  const onClickDelete = (i, item) => {\r\n    if (!alertDialogInfo.visible) {\r\n      setAlertDialogInfo({\r\n        visible: true,\r\n        title: \"\",\r\n        text: \"정말 삭제하시겠습니까?\",\r\n        handleConfirm: () => {\r\n          const list = [...commandInputList.slice(0, i), ...commandInputList.slice(i + 1, 999)];\r\n          setCommandInputList(list.length > 0 ? list : [...getItems(1, 1, \"text\", \"\")]);\r\n          setAlertDialogInfo(alertDialogInit);\r\n        },\r\n      });\r\n      setDeleteMode({ ...deleteMode, index: i });\r\n    }\r\n  };\r\n\r\n  //#endregion\r\n  return (\r\n    <div style={{ paddingBottom: 300 }}>\r\n      <CommandRect />\r\n      <DragDropContext onDragEnd={(r) => onDragEnd(r, commandInputList, setCommandInputList)}>\r\n        <Droppable droppableId=\"droppable\">\r\n          {(provided, snapshot) => (\r\n            <div ref={provided.innerRef} style={getListStyle(snapshot.isDraggingOver)}>\r\n              {commandInputList.map((item, index) => (\r\n                <Draggable key={item.id} draggableId={item.id} index={index}>\r\n                  {(provided, snapshot) => {\r\n                    return (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                        style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\r\n                      >\r\n                        <div\r\n                          style={{\r\n                            display: \"flex\",\r\n                            alignItems: \"flex-start\",\r\n                            justifyItems: \"center\",\r\n                            marginTop: 8,\r\n                          }}\r\n                        >\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                              justifyItems: \"center\",\r\n                              marginRight: 8,\r\n                              marginTop: 7,\r\n                              height: 10,\r\n                            }}\r\n                          >\r\n                            {deleteMode.visible ? (\r\n                              <div onClick={() => onClickDelete(index, item)}>\r\n                                <Icon name={\"faTrash\"} type={\"light\"} />\r\n                              </div>\r\n                            ) : (\r\n                              <Rowdot />\r\n                            )}\r\n                          </div>\r\n                          <div\r\n                            style={\r\n                              alertDialogInfo.visible && deleteMode.index === index\r\n                                ? {\r\n                                    borderStyle: \"solid\",\r\n                                    borderWidth: 2,\r\n                                    borderRadius: 3,\r\n                                    borderColor: \"#d32f2f\",\r\n                                  }\r\n                                : { padding: 1.5 }\r\n                            }\r\n                          >\r\n                            <CItem index={index} data={item} />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }}\r\n                </Draggable>\r\n              ))}\r\n              {provided.placeholder}\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n      <DeleteBlock />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DeleteBlock = ({}) => {\r\n  const [deleteMode, setDeleteMode] = useRecoilState(deleteModePosState);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"8%\",\r\n        left: \"4%\",\r\n      }}\r\n      onClick={() => setDeleteMode({ visible: !deleteMode.visible, index: -1 })}\r\n    >\r\n      <Button style={{ textTransform: \"none\" }} variant={deleteMode.visible ? \"contained\" : \"outlined\"} color=\"error\">\r\n        <Icon name={\"faTrash\"} color={deleteMode.visible ? \"white\" : \"#d32f2f\"} />\r\n        <div style={{ marginLeft: 6, fontFamily: \"roboto\" }}>삭제모드</div>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n","import { BottomSheet } from \"react-spring-bottom-sheet\";\r\nimport \"react-spring-bottom-sheet/dist/style.css\";\r\nimport { GRAY7 } from \"../../style\";\r\nimport { GRAY6 } from \"../../style/index\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport {\r\n  commandInputListState,\r\n  commandWindowState,\r\n  CreateRouteBottomModalState,\r\n  FilePathInit,\r\n  loadingState,\r\n} from \"../recoil\";\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { Textarea } from \"../Input/index\";\r\nimport { InputImage } from \"../Input/InputImage\";\r\nimport { BookmarkBtn } from \"../Btn/BookmarkBtn\";\r\nimport { ProfileCard } from \"../card/ProfileCard\";\r\nimport { CommandArea } from \"../Input/CommandArea\";\r\nimport { FilePathState } from \"./../recoil\";\r\nimport { ORANGE } from \"./../../style/index\";\r\nimport { postfetch } from \"../common\";\r\nimport { getItems } from \"./../Input/CommandInput/dndFunc\";\r\n\r\nexport const CourseCreateModal = () => {\r\n  const [, setLoading] = useRecoilState(loadingState); //loading\r\n  const [visibleRoute, setVisibleRoute] = useRecoilState(CreateRouteBottomModalState);\r\n  const [commandWindow, setCommandWindow] = useRecoilState(commandWindowState);\r\n  const [filepath, setFilepath] = useRecoilState(FilePathState);\r\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\r\n  const [CloseData, setCloseData] = useState({ text: \"닫기\", BtnColor: GRAY6, type: 0 });\r\n  const bottomRef = useRef();\r\n  const titleRef = useRef(\"\");\r\n  const descRef = useRef(\"\");\r\n\r\n  // const onClick = (e) => {\r\n  //   // 명령어창이 아닌 추천코스 생성창 터치 시 명령어창 닫기\r\n  //   console.debug(\"outer\", e.nativeEvent.target.outerText, e.nativeEvent.target.outerText[0]);\r\n  //   if (e.nativeEvent.target.outerText[0] != \"#\") setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n  // };\r\n  const onScrollCapture = (e) => {\r\n    // 명령어창이 아닌 추천코스 생성창 스크롤 시 명령어창 닫기\r\n    if (e.nativeEvent.target.outerText[0] !== \"#\") setCommandWindow({ ...commandWindow, visible: false, index: -1 });\r\n  };\r\n\r\n  //#region 닫기 or 생성\r\n  useEffect(() => {\r\n    // 배경 사진이 있거나 내용이 있을경우(\"text\" and content) or others 회색 \"생성\" 버튼으로\r\n    if (\r\n      (filepath.file !== \"\" && filepath.type === \"CourseCreateMainImg\") ||\r\n      commandInputList[0].content !== \"\" ||\r\n      commandInputList[0].type !== \"text\"\r\n    ) {\r\n      if (filepath.file === \"\" && filepath.type === \"\") setCloseData({ text: \"생성\", BtnColor: GRAY6, type: 1 });\r\n      else if (commandInputList[0].content === \"\" && commandInputList[0].type === \"text\")\r\n        setCloseData({ text: \"생성\", BtnColor: GRAY6, type: 2 });\r\n      else setCloseData({ text: \"생성\", BtnColor: ORANGE, type: 3 });\r\n    } else if (CloseData.type !== 0) setCloseData({ text: \"닫기\", BtnColor: GRAY6, type: 0 });\r\n  }, [filepath.file, commandInputList[0].content, commandInputList[0].type]);\r\n\r\n  const onClickClose = () => {\r\n    switch (CloseData.type) {\r\n      case 0:\r\n        setVisibleRoute(false);\r\n        break;\r\n      case 1:\r\n        alert(\"[필수] 배경 사진을 선택해주세요.\");\r\n        break;\r\n      case 2:\r\n        alert(\"[필수] 내용을 입력해주세요.\");\r\n        break;\r\n      default:\r\n        if (titleRef.current.value === \"\") {\r\n          alert(\"코스 제목을 입력해주세요.\");\r\n          break;\r\n        } else if (descRef.current.value === \"\") {\r\n          alert(\"간단한 소개를 입력해주세요.\");\r\n          break;\r\n        } else {\r\n          setLoading(true);\r\n          setTimeout(() => {\r\n            setLoading(false);\r\n            titleRef.current.value = \"\";\r\n            descRef.current.value = \"\";\r\n            setFilepath(FilePathInit);\r\n            setCommandInputList(getItems(1));\r\n            alert(\"생성완료~!\")\r\n          }, 1000);\r\n          // postfetch(\"/course\", {\r\n          //   title: titleRef.current.value,\r\n          //   description: descRef.current.value,\r\n          //   creator_id: \"0\",\r\n          //   image: filepath.file,\r\n          //   content: JSON.stringify(commandInputList),\r\n          // })\r\n          //   .then((d) => {\r\n          //     console.log(d);\r\n          //   })\r\n          //   .finally(() => setLoading(false));\r\n        }\r\n        break;\r\n    }\r\n  };\r\n  //#endregion\r\n  return (\r\n    <>\r\n      <BottomSheet\r\n        ref={bottomRef}\r\n        blocking={false}\r\n        open={visibleRoute}\r\n        onDismiss={() => setVisibleRoute(false)}\r\n        snapPoints={({ minHeight, maxHeight }) => [maxHeight * 0.995]}\r\n        defaultSnap={({ lastSnap, snapPoints }) => [snapPoints[1]]}\r\n        onScrollCapture={onScrollCapture}\r\n        header={\r\n          <div>\r\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY7, float: \"left\" }}>\r\n              추천 코스를 만들어보세요!\r\n            </div>\r\n            <div\r\n              style={{\r\n                fontFamily: \"roboto\",\r\n                fontWeight: \"bold\",\r\n                fontSize: 15,\r\n                color: CloseData.BtnColor,\r\n                float: \"right\",\r\n              }}\r\n              onClick={onClickClose}\r\n            >\r\n              {CloseData.text}\r\n            </div>\r\n          </div>\r\n        }\r\n        expandOnContentDrag={false}\r\n      >\r\n        <div>\r\n          <InputImage placeholder={\"배경 사진을 선택해주세요!\"} />\r\n          <div style={{ padding: \"0 16px 80px 16px\" }}>\r\n            <div style={{ marginTop: -30 }}>\r\n              <Textarea\r\n                ref={titleRef}\r\n                placeholder={\"코스 제목을 입력해주세요.\"}\r\n                style={{\r\n                  border: \"none\",\r\n                  width: \"100%\",\r\n                  fontSize: 19,\r\n                  paddingRight: 6,\r\n                  padding: 2,\r\n                  fontFamily: \"AppleSDGothic\",\r\n                  backgroundColor: \"transparent\",\r\n                  resize: \"none\",\r\n                  outline: \"none\",\r\n                }}\r\n                maxrows={2}\r\n              />\r\n              <div style={{ marginTop: 12 }}>\r\n                <Textarea\r\n                  ref={descRef}\r\n                  style={{\r\n                    border: \"none\",\r\n                    width: \"100%\",\r\n                    fontSize: 15,\r\n                    paddingRight: 6,\r\n                    fontFamily: \"AppleSDGothic\",\r\n                    backgroundColor: \"transparent\",\r\n                    resize: \"none\",\r\n                    overflow: \"hidden\",\r\n                    outline: \"none\",\r\n                  }}\r\n                  maxrows={3}\r\n                  placeholder={\"간단한 소개 (최대 3줄)\"}\r\n                />\r\n              </div>\r\n              <BookmarkBtn disable />\r\n              <ProfileCard address={\"캠퍼스택시\"} title={\"서울시 강남구\"} desc={\"팔로워 3,456명\"} img={\"img\"} disable />\r\n              <div style={{ marginTop: 6 }}>\r\n                <CommandArea />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </BottomSheet>\r\n    </>\r\n  );\r\n};\r\n","const createImage = (url) =>\r\n  new Promise((resolve, reject) => {\r\n    const image = new Image();\r\n    image.addEventListener(\"load\", () => resolve(image));\r\n    image.addEventListener(\"error\", (error) => reject(error));\r\n    image.setAttribute(\"crossOrigin\", \"anonymous\"); // needed to avoid cross-origin issues on CodeSandbox\r\n    image.src = url;\r\n  });\r\n\r\nfunction getRadianAngle(degreeValue) {\r\n  return (degreeValue * Math.PI) / 180;\r\n}\r\n\r\n/**\r\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\r\n * @param {File} image - Image File url\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\r\n * @param {number} rotation - optional rotation parameter\r\n */\r\nexport async function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\r\n  const image = await createImage(imageSrc);\r\n  const canvas = document.createElement(\"canvas\");\r\n  const ctx = canvas.getContext(\"2d\");\r\n\r\n  const maxSize = Math.max(image.width, image.height);\r\n  const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\r\n\r\n  // set each dimensions to double largest dimension to allow for a safe area for the\r\n  // image to rotate in without being clipped by canvas context\r\n  canvas.width = safeArea;\r\n  canvas.height = safeArea;\r\n\r\n  // translate canvas context to a central location on image to allow rotating around the center.\r\n  ctx.translate(safeArea / 2, safeArea / 2);\r\n  ctx.rotate(getRadianAngle(rotation));\r\n  ctx.translate(-safeArea / 2, -safeArea / 2);\r\n\r\n  // draw rotated image and store data.\r\n  ctx.drawImage(image, safeArea / 2 - image.width * 0.5, safeArea / 2 - image.height * 0.5);\r\n  const data = ctx.getImageData(0, 0, safeArea, safeArea);\r\n\r\n  // set canvas width to final desired crop size - this will clear existing context\r\n  canvas.width = pixelCrop.width;\r\n  canvas.height = pixelCrop.height;\r\n\r\n  // paste generated rotate image with correct offsets for x,y crop values.\r\n  ctx.putImageData(\r\n    data,\r\n    Math.round(0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x),\r\n    Math.round(0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y)\r\n  );\r\n\r\n  // As Base64 string\r\n  // return canvas.toDataURL('image/jpeg');\r\n\r\n  // As a blob\r\n  return new Promise((resolve) => {\r\n    canvas.toBlob((file) => {\r\n      resolve(URL.createObjectURL(file));\r\n    }, \"image/jpeg\");\r\n  });\r\n}\r\n","import { useRecoilState } from \"recoil\";\r\nimport { CropState } from \"./../recoil\";\r\nimport { useState, useCallback } from \"react\";\r\nimport { GRAY6, ORANGE, SCREEN_HEIGHT, SCREEN_WIDTH } from \"./../../style/index\";\r\nimport Cropper from \"react-easy-crop\";\r\nimport { getCroppedImg } from \"../common/function/getCroppedImg\";\r\n\r\nexport const CropScreen = () => {\r\n  const [crop, setCrop] = useRecoilState(CropState);\r\n\r\n  const [cropXY, setCropXY] = useState({ x: 0, y: 0 });\r\n  const [rotation] = useState(0); //setRotation\r\n  const [zoom, setZoom] = useState(1);\r\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState();\r\n  const [, setCroppedImage] = useState(); //croppedImage\r\n\r\n  const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\r\n    setCroppedAreaPixels(croppedAreaPixels);\r\n  }, []);\r\n\r\n  const showCroppedImage = useCallback(async () => {\r\n    try {\r\n      const croppedImage = await getCroppedImg(crop.previewURL, croppedAreaPixels, rotation);\r\n      setCroppedImage(croppedImage);\r\n      setCrop({ visible: false, file: croppedImage, previewURL: croppedImage });\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }, [croppedAreaPixels, rotation]);\r\n\r\n  return (\r\n    <div>\r\n      {/* 바탕사진 수정 창 */}\r\n      {crop.visible ? (\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 0,\r\n            width: SCREEN_WIDTH,\r\n            height: SCREEN_HEIGHT,\r\n            zIndex: 4,\r\n            backgroundColor: \"white\",\r\n          }}\r\n        >\r\n          <div\r\n            onClick={onCropComplete}\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              padding: \"12px 0px\",\r\n              color: ORANGE,\r\n              position: \"relative\",\r\n              zIndex: 20,\r\n              backgroundColor: \"white\",\r\n            }}\r\n          >\r\n            <div style={{ paddingLeft: 16, color: GRAY6 }} onClick={() => setCrop({ ...crop, visible: false })}>\r\n              취소\r\n            </div>\r\n            <div style={{ paddingRight: 16 }} onClick={showCroppedImage}>\r\n              완료\r\n            </div>\r\n          </div>\r\n          <Cropper\r\n            image={crop.previewURL}\r\n            crop={cropXY}\r\n            zoom={zoom}\r\n            aspect={415 / 200}\r\n            onCropChange={setCropXY}\r\n            onCropComplete={onCropComplete}\r\n            onZoomChange={setZoom}\r\n          />\r\n        </div>\r\n      ) : (\r\n        false\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import * as React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { alertDialogInit, alertDialogState } from \"./../recoil\";\r\nimport { GRAY6 } from './../../style/index';\r\n\r\nexport const AlertDialog = () => {\r\n  const [alertDialogInfo, setAlertDialogInfo] = useRecoilState(alertDialogState);\r\n\r\n  const handleClose = () => {\r\n    setAlertDialogInfo({ ...alertDialogInfo, visible:false});\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={alertDialogInfo.visible}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\"> {alertDialogInfo.title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">{alertDialogInfo.text}</DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} style={{ color: GRAY6 }}>\r\n            취소\r\n          </Button>\r\n          <Button onClick={alertDialogInfo.handleConfirm} style={{ color: \"#d32f2f\" }}>\r\n            삭제\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n","import { BottomHeader } from \"../components/BottomHeader\";\r\nimport { BottomTabBar } from \"../components/BottomTabBar\";\r\nimport { SearchBar } from \"../components/Input/SearchBar\";\r\nimport { CourseArea } from \"../components/CourseArea\";\r\nimport { CreateBtnCourse } from \"../components/Btn/CreateBtnCourse\";\r\nimport { CourseCreateModal } from \"./../components/modal/CourseCreateModal\";\r\nimport { CropScreen } from \"./../components/modal/CropScreen\";\r\nimport { CourseProductModal } from \"../components/modal/CourseProductModal\";\r\nimport { AlertDialog } from \"./../components/Dialog/AlertDialog\";\r\n\r\nconst CourseScreen = () => {\r\n  return (\r\n    <>\r\n      <BottomHeader />\r\n      {/* <SearchBar /> */}\r\n      <CourseArea />\r\n      <CreateBtnCourse />\r\n      <CourseProductModal />\r\n      <CourseCreateModal />\r\n      <CropScreen />\r\n      <BottomTabBar />\r\n      <AlertDialog />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CourseScreen;\r\n","import { BottomTabBar } from \"../components/BottomTabBar\";\r\nimport { BottomModal } from './../components/BottomModal';\r\n\r\nconst ShopScreen = () => {\r\n  // const [data, setData] = useState([]);\r\n  \r\n  // // useEffect(()=>{},[]) 샵 들어올때 1번 실행\r\n  // useEffect(() => {\r\n  //   // 데이터 가져오기\r\n  //   getfetch(\"/users\").then((d) => setData(d));\r\n  //   // getfetch(\"/chat-rooms\").then((d) => setData(d));\r\n\r\n  //   //데이터 저장하기\r\n  //   // postfetch(\"/chat-rooms\", {저장할 값들})\r\n  //   // alert(data);\r\n  // }, []);\r\n\r\n  // // alert('re-render!')\r\n  return (\r\n    <>\r\n\r\n      <BottomModal />\r\n      <BottomTabBar />\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default ShopScreen;\r\n\r\n","import { BottomTabBar } from \"../components/BottomTabBar\";\r\nimport { BottomModal } from './../components/BottomModal';\r\n\r\n\r\nconst MyChatScreen = () => {\r\n  return (\r\n    <>\r\n      <BottomModal />\r\n      <BottomTabBar />\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default MyChatScreen;\r\n","\r\n\r\nconst MyScreen = () => {\r\n  return (\r\n    <>\r\n      MyScreens\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default MyScreen;\r\n","import { RecoilRoot, useRecoilState } from \"recoil\";\r\nimport HomeScreen from \"./screen/HomeScreen\";\r\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\r\n\r\nimport SearchScreen from \"./screen/SearchScreen\";\r\nimport CourseDetailScreen from \"./screen/CourseDetailScreen\";\r\nimport CourseScreen from \"./screen/CourseScreen\";\r\nimport ShopScreen from \"./screen/ShopScreen\";\r\nimport MyChatScreen from \"./screen/MyChatScreen\";\r\nimport MyScreen from \"./screen/MyScreen\";\r\nimport { resetServerContext } from \"react-beautiful-dnd\";\r\nimport { Button } from \"@mui/material/Button\";\r\nimport { CircularProgress, Collapse, LinearProgress } from \"@mui/material\";\r\nimport { loadingState } from \"./components/recoil\";\r\n\r\nresetServerContext();\r\n\r\nconst App = () => {\r\n  return (\r\n    <RecoilRoot>\r\n      <BrowserRouter>\r\n        <LoadingPage />\r\n        <Switch>\r\n          {/* minsekim\r\n           * 모든 .push 화면이동은 postMessage 로 Native 앱에 푸쉬를 보내야함. 아니면 화면 뒤로가기하면 사라짐.\r\n           */}\r\n          <Route exact path=\"/\">\r\n            <HomeScreen />\r\n          </Route>\r\n          <Route exact path=\"/course/detail\">\r\n            <CourseDetailScreen />\r\n          </Route>\r\n          <Route exact path=\"/course\">\r\n            <CourseScreen />\r\n          </Route>\r\n          <Route path=\"/search\">\r\n            <SearchScreen />\r\n          </Route>\r\n          {/* jeong */}\r\n          <Route path=\"/shop\">\r\n            <ShopScreen />\r\n          </Route>\r\n          {/* seo */}\r\n          <Route exact path=\"/chat/my\">\r\n            <MyChatScreen />\r\n          </Route>\r\n          <Route exact path=\"/my\">\r\n            <MyScreen />\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </RecoilRoot>\r\n  );\r\n};\r\n\r\nconst LoadingPage = () => {\r\n  const [loading] = useRecoilState(loadingState);\r\n  return <div>{loading ? <LinearProgress variant={\"indeterminate\"} color={\"info\"} /> : false}</div>;\r\n};\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}