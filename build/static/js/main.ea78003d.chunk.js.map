{"version":3,"sources":["components/Input/CommandInput/dndFunc.tsx","components/common/function/localStorageEffect.js","style/index.tsx","components/common/Icon.js","components/Icon/ProfileIcon.tsx","types/ChatRoom.tsx","components/common/index.js","hook/useSWR/fetcher.tsx","components/card/CourseCard.tsx","components/list/CouseList.tsx","hook/useWindowDimensions.tsx","components/CourseArea.tsx","components/recoil.tsx","components/common/function/getPlatform.js","components/Btn/LoginBtn.tsx","components/BottomHeader.js","components/BottomTabBar.js","components/Btn/CreateBtn.js","components/common/function/getPath.js","components/PathInfo.js","components/NMap.js","components/Input/index.tsx","components/SearchPosition.js","components/card/PositionCard.tsx","components/SelectMapModal.js","components/Input/switch.js","components/Input/radio.js","components/common/Tag.js","components/common/prettyDate.js","components/card/RoomCard.tsx","components/BottomModal.tsx","screen/HomeScreen.js","components/card/ProfileCard.tsx","screen/SearchScreen.tsx","components/Btn/CourseActionField.tsx","components/Input/CourseImage.tsx","components/BackHeader.js","components/Input/CommandInput/CPlace.js","components/Input/CommandInput/CTextarea.tsx","components/Input/CommandInput/CImage.js","components/Input/CommandInput/CH.tsx","components/Input/CommandInput/CTag.tsx","components/Input/CommandInput/CContour.js","components/modal/CourseProductModal.js","components/Input/CommandInput/CProduct.js","components/Input/CommandInput/CItem.tsx","screen/CourseDetailScreen.tsx","components/Btn/CreateBtnCourse.js","components/Input/InputImage.js","components/FadeDiv/index.js","components/Input/CommandInput/CommandListRenderItem.js","components/Icon/Rowdot.js","components/Input/CommandArea.js","components/modal/CourseCreateModal.js","components/common/function/getCroppedImg.js","components/modal/CropScreen.js","components/Dialog/AlertDialog.js","screen/CourseScreen.js","screen/ShopScreen.js","screen/MyChatScreen.tsx","components/Dialog/EditProfileDialog.tsx","screen/UserScreen.tsx","components/BackHeaderRight.tsx","components/card/MessageChatCard.tsx","components/modal/ChatMenuModal.tsx","screen/ChatScreen.tsx","screen/Redirect.tsx","App.js","reportWebVitals.js","index.js"],"names":["getItems","count","offset","type","content","Array","from","length","v","k","map","id","Date","getTime","getItemStyle","isDragging","draggableStyle","translate","transform","y","Number","split","slice","userSelect","onDragEnd","result","list","setList","destination","arr","startIndex","endIndex","splice","removed","reorder","source","index","localStorageEffect","key","setSelf","onSet","savedValue","localStorage","getItem","JSON","parse","newValue","setItem","stringify","GRAY1","GRAY2","GRAY3","GRAY4","GRAY5","GRAY6","GRAY7","GRAY8","GRAY9","ORANGE","SCREEN_HEIGHT","window","innerHeight","textOverflowHidden","overflow","textOverflow","display","WebkitLineClamp","styleCenter","alignItems","justifyContent","AbsoluteCenter","position","top","left","Icon","name","size","opacity","color","iconList","fal","far","fas","icon","undefined","ProfileIcon","img","image","style","height","onClick","inlineStyle","noStyleBtn","border","borderRadius","backgroundColor","width","alt","src","marginTop","marginLeft","borderStyle","borderColor","borderWidth","fontSize","fontWeight","posInit","address_name","category_group_code","category_group_name","category_name","distance","phone","place_name","place_url","road_address_name","x","ChatRoomInit","creator_id","duration","published_at","updated_at","departureTime","created_at","deleted_at","disable_at","end_route","gender","path","person_limit","start_at","start_route","taxiFare","title","enter_users","isHttp","location","protocol","ProxyURL","API_URL","API_URL_NO_Proxy","postfetch","url","params","isCustom","method","Promise","resolve","reject","fetch","headers","Accept","body","then","d","json","catch","e","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","getfetch","NAVER_API_KEY","fetcherBlob","axios","get","responseType","a","blob","data","myFile","Blob","reader","FileReader","onload","previewImage","String","target","readAsDataURL","fetcher","r","TagBlack","padding","marginRight","CourseCard","course","history","useHistory","useSWR","images","error","_","filter","item","imageCSS","backgroundImage","backgroundRepeat","backgroundBlendMode","backgroundPosition","backgroundSize","margin","flexDirection","flex","tags","tag","i","toString","minWidth","textShadow","maxHeight","profile_image","VirtualizeSwipeableViews","virtualize","SwipeableViews","CourseList","useRecoilState","CourseListState","slidesPerView","direction","speed","CourseListisEqual","prevProps","nextProps","MCourseList","memo","Title","beforeTxt","text","afterTxt","TitleisEqual","MTitle","getWindowDimensions","innerWidth","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","tagInitList","CourseArea","setCourseList","TagListState","tagList","setTagList","CourseIndexState","setIndex","CreateRouteBottomModalState","visibleRoute","sortBy","groupBy","n","reverse","unshift","onChangeIndex","slideRenderer","p","indexMod","mod","tagInitListItem","Math","floor","random","commandInputListState","atom","default","inputValue","effects_UNSTABLE","loadingState","commandWindowState","visible","pos","pathState","alertDialogInit","handleConfirm","confirmText","alertDialogState","editProfileDialogState","deleteModePosState","placePosState","endPosState","startPosState","ChatRoomSeletedState","ChatRoomListState","SearchPosResultState","documents","meta","is_end","pageable_count","total_count","SearchPositionState","FilePathInit","file","previewURL","FilePathState","CropInit","File","CropState","MenuModalState","CourseProductModalState","StartPosImageState","EndPosImageState","CreateBottomModalState","BottomModalState","MyPosState","lat","lng","homeTabIndexState","bottomTabIndexState","shareModalState","searchState","rooms","users","courses","lastMessageMarginBottomState","userDataState","KaKaoLoginBtn","BottomHeader","noProfile","userData","useRecoilValue","homeTabIndex","setHomeTabIndex","paddingTop","barFlexInner","flexL","noStyleBtnActive","alignSelf","alert","Avatar","sx","nickname","float","BtnProfile","BottomTabBar","setVisible","bottomTabIndex","setBottomTabIndex","pathname","replace","bottom","boxShadow","barTxt","textAlign","CreateBtn","right","faEdit","getPath","x1","y1","x2","y2","Base_URL","mode","route","traoptimal","summary","toFixed","PathInfo","paddingBottom","NMAP","ncpClientId","loading","NaverMapAPI","visibleSearch","setVisibleSearch","searchResult","setSearchResult","visibleCreate","setVisibleCreate","setLoading","useSetRecoilState","myPos","startPos","setStartPos","endPos","setEndPos","setPath","navermaps","naver","maps","LatLngBounds","LatLng","bounds","setBounds","chatRoomList","setChatRoomList","naverMapRef","useRef","chatRoomSeleted","setChatRoomSeleted","toISOString","room","chunk","Pos","current","ref","mapDivId","outline","defaultCenter","onBoundsChanged","ImageMarker","kakao_profile_thumbnail","isProfile","strokeColor","strokeOpacity","strokeWeight","animation","onClickMarker","line","strokeStyle","strokeLineCap","strokeLineJoin","startIcon","startIconSize","endIcon","endIconSize","props","Size","anchor","Point","Input","onChange","placeholder","inputMode","readOnly","disabled","defaultValue","inputRef","value","Textarea","maxrows","TextareaRef","rowIndex","setRowIndex","onChangeInput","useCallback","scrollHeight","maxRows","resize","fontFamily","InputSearch","autoFocus","InputMap","SearchPosition","zIndex","t","Authorization","PositionCard","desc","address","onClickDelete","imgWidth","noImg","isStartPos","isEndPos","setImage","setStartPosImage","setEndPosImage","items","thumbnail","CircularProgress","onError","PositionCardReverse","SelectMapModal","setPlacePos","goBackPlace","onDismiss","blocking","open","snapPoints","minHeight","defaultSnap","lastSnap","header","expandOnContentDrag","SearchList","SearchCard","Switch","clicked","setClicked","className","checked","b","Radio","defaultIndex","Tag","lineHeight","prototype","toJSON","timezoneOffsetInHours","this","getTimezoneOffset","sign","leadingZero","abs","correctedDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setHours","RoomCard","noClick","showEnterBtn","enterTag","dateString","str","YMD","HMS","day","getDay","YMD_today","prettyDate","isSeleted","onClickRoom","isParentBtn","stopPropagation","chatroom","oldUserList","u","includes","place_image","paddingLeft","BottomModal","chatRoomListFilterd","setChatRoomListFilterd","filterSearchTxt","bottomRef","onChangeFilterSearchTxt","LIST","createRef","snapTo","velocity","scrollIntoView","behavior","block","defaultValueDate","CreateBottomModal","setTitle","date","setDate","personLimit","setPersonLimit","genderLimit","setGenderLimit","startPosImage","endPosImage","closeCondition","useMemo","postCondition","getPostRoute","responseStartRoute","responseEndRoute","naver_id","postCreateChatRoom","startParam","endParam","responseRoute","chat_user","response","statusCode","errors","console","debug","BlockLogin","isIOSPublishing","marginBottom","HomeScreen","document","getElementsByTagName","setAttribute","ProfileCard","userId","disable","maxWidth","background","styles","tabs","slide","SearchBar","removeAttribute","cancelToken","CancelToken","cancel","checkCount","checkList","token","ResultTabs","Tabs","Tab","label","user","greeting","device","username","SearchScreen","fontStyle","CourseActionField","mutate","modalInfo","setModalInfo","setUserData","courseId","useParams","isLikeRef","like_courses","onClickLike","uniq","concat","Checkbox","defaultChecked","checkedIcon","like_users","views","href","onCopy","CourseImage","isEdit","imgUrl","filepath","setFilepath","inputFileCSSNone","inputFileCSS","cursor","BackHeader","goBack","CPlace","platform","test","navigator","userAgent","CTextarea","setPlaceHolder","commandWindow","setCommandWindow","commandInputList","setCommandInputList","beforeInput","innerHTML","origin","onInput","len","nativeEvent","heightCommand","beforeInnerHTML","onBlur","onFocus","dangerouslySetInnerHTML","__html","contentEditable","suppressContentEditableWarning","spellCheck","loadXHR","xhr","XMLHttpRequest","onerror","status","send","err","CImage","crop","setCrop","isCrop","setIsCrop","f","htmlFor","accept","preventDefault","files","onloadend","CH","KeyCodes","delimiters","CTag","ReactTags","classNames","maxLength","allowDeleteFromEmptyInput","inline","handleDelete","handleAddition","CContour","numberWithCommas","noTags","procductInfoInit","brand","category1","category2","category3","category4","link","lprice","maker","mallName","productId","productType","start","total","lastBuildDate","CourseProductModal","setVisibleRoute","visibleRouteProduct","setVisibleRouteProduct","procductInfo","setProcductInfo","product","CProduct","CItem","MCItem","isEqual","checkProps","isMatch","pick","BtnStyle","IconStyle","ShareModal","flexFlow","EmailShareButton","subject","EmailIcon","TwitterShareButton","TwitterIcon","LineShareButton","LineIcon","FacebookShareButton","hashtag","FacebookIcon","HatenaShareButton","HatenaIcon","InstapaperShareButton","InstapaperIcon","LinkedinShareButton","LinkedinIcon","LivejournalShareButton","LivejournalIcon","MailruShareButton","MailruIcon","OKShareButton","OKIcon","PinterestShareButton","media","PinterestIcon","PocketShareButton","PocketIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","TumblrShareButton","TumblrIcon","ViberShareButton","ViberIcon","VKShareButton","VKIcon","WhatsappShareButton","WhatsappIcon","WorkplaceShareButton","WorkplaceIcon","paddingRight","description","CommandArea","justifyItems","CourseDetailScreen","CreateBtnCourse","InputImage","box_active","transition","box_hidden","FadeDiv","children","select","setSelect","setDisable","handleClick","setTimeout","CommandListRenderItem","Rowdot","deleteMode","setDeleteMode","alertDialogInfo","setAlertDialogInfo","placePos","CommandRect","droppableId","provided","snapshot","innerRef","isDraggingOver","draggableId","draggableProps","dragHandleProps","DeleteBlock","Button","textTransform","variant","dataURLtoFile","dataurl","fileName","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","CourseCreateModal","BtnColor","CloseData","setCloseData","titleRef","descRef","onClickClose","postTagList","tagCommand","tagIdList","post","flatten","FormData","filename","append","imgId","dataCourse","onScrollCapture","outerText","createImage","Image","getRadianAngle","degreeValue","PI","getCroppedImg","imageSrc","pixelCrop","rotation","canvas","createElement","ctx","getContext","maxSize","max","safeArea","sqrt","rotate","drawImage","getImageData","putImageData","round","toDataURL","CropScreen","cropXY","setCropXY","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","setCroppedImage","onCropComplete","croppedArea","showCroppedImage","croppedImage","aspect","onCropChange","onZoomChange","AlertDialog","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","whiteSpace","DialogActions","CourseScreen","scrollTo","ShopCard","Card","CardActionArea","CardMedia","component","CardContent","Typography","gutterBottom","ShopScreen","ChatRoomArea","chatRooms","MyChatScreen","EditProfileDialog","editProfileDialogInfo","setEditProfileDialogInfo","email","imgFile","setImgUrl","hanedleSubmit","prev","log","event","currentFileSize","URL","createObjectURL","Badge","overlap","anchorOrigin","vertical","horizontal","badgeContent","TextField","fullWidth","multiline","MyScreen","userDataLocal","isMe","overflowWrap","BackHeaderRight","roomData","setMenu","AvatarGroup","MessageChatCard","mref","isLast","DefaultChat","lastMessageMarginBottom","isMy","user_id","year","month","hour","min","time","wordBreak","message","ChatMenuModal","menu","dataR","Drawer","roomStyle","Divider","light","exitBtn","enter_users_filtered","MessageArea","isInit","messageareaRef","MessageList","parentRef","pageYOffset","getElementsByClassName","scroll","scrollY","m","forwardRef","roomId","setLastMessageMarginBottom","setText","textRef","isConfirm","setIsConfirm","onClickSend","MessageChatInit","chat_room_id","TextareaAutosize","caretColor","ChatScreen","textareaRef","refreshInterval","errorR","dataU","errorU","chatRoomData","Redirect","D","resetServerContext","LoadingPage","LinearProgress","App","exact","UserScreen","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ea78003d.chunk.js","sourcesContent":["//#region CommandArea Functions\n// fake data generator\nexport const getItems = (count: number, offset = 0, type = \"text\", content:any = \"\") =>\n  Array.from({ length: count }, (v, k) => k).map((k) => ({\n    id: `item-${k + offset + new Date().getTime()}`,\n    content: content,\n    type: type,\n  }));\n// a little function to help us with reordering the result\nconst reorder = (list: Iterable<unknown> | ArrayLike<unknown>, startIndex: number, endIndex: number) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\nexport const getItemStyle = (isDragging: any, draggableStyle: { transform: any; }) => {\n  let translate = draggableStyle.transform;\n  if (isDragging && typeof draggableStyle.transform == \"string\") {\n    let y = Number(translate.split(\",\")[1].split(\"x\")[0].slice(1, -1));\n    translate = translate.split(\",\")[0] + `, ${y - 40}px)`;\n    draggableStyle.transform = translate;\n  }\n  return {\n    // some basic styles to make the items look a bit nicer\n    userSelect: \"none\",\n    // change background colour if dragging\n    // styles we need to apply on draggables\n    ...draggableStyle,\n    // transform: `translate(${draggableStyle.style.transform.x}px, ${draggableStyle.style.transform.y}px)`,\n  };\n};\nexport const getListStyle = () => ({\n  flex: 1,\n});\nexport const onDragEnd = (result: { destination: { index: any; }; source: { index: any; }; }, list: { id: string; content: any; type: string; }[], setList: { (valOrUpdater: { id: string; content: any; type: string; }[] | ((currVal: { id: string; content: any; type: string; }[]) => { id: string; content: any; type: string; }[])): void; (arg0: unknown[]): void; }) => {\n  if (!result.destination) return;\n  const arr = reorder(list, result.source.index, result.destination.index);\n  setList(arr);\n};\n//#endregion\n","export const localStorageEffect =\n  (key) =>\n  ({ setSelf, onSet }) => {\n    const savedValue = localStorage.getItem(key);\n    if (savedValue != null) {\n      setSelf(JSON.parse(savedValue));\n    }\n\n    onSet((newValue) => {\n      localStorage.setItem(key, JSON.stringify(newValue));\n    });\n  };\n","export const GRAY0 = \"#f8f9fa\";\nexport const GRAY1 = \"#f1f3f5\";\nexport const GRAY2 = \"#E8ECEF\";\nexport const GRAY3 = \"#dee2e6\";\nexport const GRAY4 = \"#CED4DA\";\nexport const GRAY5 = \"#adb5bd\";\nexport const GRAY6 = \"#868E96\";\nexport const GRAY7 = \"#495057\";\nexport const GRAY8 = \"#343A40\";\nexport const GRAY9 = \"#212529\";\nexport const RED = \"#ff0000\";\nexport const WHITE = \"#ffffff\";\nexport const BLACK = \"#000000\";\nexport const PINK = \"#f50057\";\nexport const ORANGE = \"#ff5e00\";\nexport const TRANS = \"transparent\";\nexport const BGN = \"#ADB5BD\";\nexport const ADV = \"#FCC419\";\nexport const SEN = \"#5C7CFA\";\nexport const SPR = \"#CC5DE8\";\nexport const PRO = \"#ff5e00\";\nexport const SUB_BLUE = \"#0075FF\";\nexport const MAIN_BLUE = \"#0052B3\";\nexport const KAKAO_BG = \"#FDEA4E\";\nexport const FACEBOOK_BG = \"#4469B0\";\nexport const BLUE01 = \"#2f8ded\";\nexport const RED01 = \"#eb5757\";\nexport const SCREEN_HEIGHT = window.innerHeight;\nexport const HEADER_HEIGHT = 56;\nexport const textOverflowHidden = {\n  overflow: \"hidden\",\n  textOverflow: \"ellipsis\",\n  display: \"-webkit-box\",\n  WebkitLineClamp: 1, //\n  // WebkitBoxOrient: \"vertical\",\n};\nexport const styleCenter = {\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n};\nexport const AbsoluteCenter: any = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n};\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport * as fal from \"@fortawesome/pro-light-svg-icons\";\nimport * as fas from \"@fortawesome/free-solid-svg-icons\";\nimport * as far from \"@fortawesome/pro-regular-svg-icons\";\nimport { GRAY9 } from \"../../style\";\n\n/**\n *  : 'solid'\n * @param {{name:string,icon?:string ,size?:'lg' | 'sm' | 'xs' | '2x' | number, opacity?: number , color?: string, type?:'light' | 'regular' | 'solid', style ?: any}} params\n */\nexport const Icon = ({ name, size, opacity, color, type }) => {\n  const iconList = type === \"light\" ? fal : type === \"regular\" ? far : fas;\n  return (\n    <FontAwesomeIcon\n      icon={iconList[name ?? \"faHome\"]}\n      size={typeof size === \"string\" ? size : \"1x\"}\n      opacity={opacity ?? 1}\n      color={color ?? GRAY9}\n      transform={{ size: typeof size === \"number\" ? size : undefined }}\n    />\n  );\n};\n","import useSWR from \"swr\";\nimport { fetcherBlob } from \"../../hook/useSWR/fetcher\";\nimport { Icon } from \"../common/Icon\";\n\nexport const ProfileIcon = ({\n  size = 12,\n  icon,\n  img,\n}: {\n  size?: number | string;\n  icon?: string;\n  img?: string;\n  }) => {\n    const image = img ?? \"https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg\"\n  \n    return (\n    <div style={{ height: size == \"sm\" ? 50 : 58 }}>\n      <div\n        onClick={() => { }}\n        style={{\n          ...inlineStyle.noStyleBtn,\n          border: `3px solid white`,\n          borderRadius: 200,\n          backgroundColor: \"white\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          display: \"flex\",\n          width: size === \"sm\" ? 44 : 52,\n          height: size === \"sm\" ? 44 : 52,\n        }}\n      >\n        <img\n          alt={\"profile\"}\n          width={size === \"sm\" ? 40 : 48}\n          height={size === \"sm\" ? 40 : 48}\n          style={{ borderRadius: 200 }}\n          src={image}\n        ></img>\n      </div>\n      {icon ? (\n        <div\n          style={{\n            position: \"relative\",\n            marginTop: size === \"sm\" ? 26 : 30,\n            marginLeft: size === \"sm\" ? 26 : 30,\n            height: size === \"sm\" ? 16 : 18,\n            width: size === \"sm\" ? 16 : 18,\n            backgroundColor: \"#0075FF\",\n            borderStyle: \"solid\",\n            borderColor: \"white\",\n            borderWidth: 1.5,\n            borderRadius: 20,\n            alignItems: \"center\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            top: -52,\n            left: 8,\n          }}\n        >\n          <Icon name={icon} color={\"white\"} size={\"xs\"} />\n        </div>\n      ) : (\n        false\n      )}\n    </div>\n  );\n};\n\nconst inlineStyle = {\n  noStyleBtn: { backgroundColor: \"transparent\", border: \"none\", fontSize: 15, fontWeight: 400, width: \"3em\" },\n};\n","import { CreatorType } from \"./Course\";\nimport { RouteType } from \"./Route\";\nimport { UserType } from \"./User\";\n\nexport const posInit = {\n  address_name: \"\",\n  category_group_code: \"\",\n  category_group_name: \"\",\n  category_name: \"\",\n  distance: \"\",\n  id: -1,\n  phone: \"\",\n  place_name: \"\",\n  place_url: \"\",\n  road_address_name: \"\",\n  x: \"\", //127.036586636975\n  y: \"\", //37.5090312068588\n};\nexport type ChatRoomType = {\n  created_at: string; //\"2021-11-20T05:20:04.000Z\"\n  creator_id: CreatorType | null;\n  deleted_at: null | string; //\n  departureTime: string; //\"2021-11-20T14:19:59.000Z\"\n  disable_at: null | string; //\n  distance: number; //16.8\n  duration: number; //60\n  end_route: RouteType | null;\n  enter_users: UserType[];\n  gender: \"None\" | \"M\" | \"W\";\n  id: number; //23;\n  path: []; // \"126.9921518,37.5704197,126.9921518,37.5704242,126\";\n  person_limit: number; //2;\n  published_at: string; //\"2021-11-20T05:20:04.000Z\";\n  start_at: string; //\"2021-11-20T14:20:55.000Z\";\n  start_route: RouteType | null;\n  taxiFare: number; //19670;\n  title: string; //\" 2\";\n  updated_at: string; // \"2021-11-20T05:20:04.000Z\";\n\n  // \n  address_name?: string;\n  category_group_code?: string;\n  category_group_name?: string;\n  category_name?: string;\n  phone?: string;\n  place_name?: string;\n  place_url?: string;\n  road_address_name?: string;\n  x?: number;\n  y?: number;\n};\n\nexport const ChatRoomInit: ChatRoomType = {\n  ...posInit,\n  creator_id: null,\n  duration: 0,\n  published_at: \"\",\n  updated_at: \"\",\n  departureTime: \"\",\n  created_at: \"\",\n  deleted_at: null,\n  disable_at: \"\",\n  distance: 0,\n  end_route: null,\n  gender: \"None\",\n  path: [],\n  person_limit: -1,\n  start_at: \"\",\n  start_route: null,\n  taxiFare: -1,\n  title: \"\",\n  enter_users: [],\n  x: undefined,\n  y: undefined,\n};\n","import { ChatRoomType } from \"../../types/ChatRoom\";\n\nexport const isHttp = window.location.protocol !== \"https:\";\n// export const ProxyURL = isHttp\n//   ? \"http://circlin-web-react-proxy.herokuapp.com/\"\n//   : \"https://circlin-web-react-proxy.herokuapp.com/\";\nexport const ProxyURL = \"https://circlin-web-react-proxy.herokuapp.com/\";\nexport const FTP_URL = \"http://218.153.157.69/ftp/\"; //http://218.153.157.69/ftp/1636779791516_874ca4a993.jpeg\nexport const API_URL = (isHttp ? ProxyURL : \"\") + \"https://www.campus-taxi.com:444\"; //\nexport const API_URL_NO_Proxy = \"https://www.campus-taxi.com:444\"; //\n//\"https://www.campus-taxi.com:444\";\n/**\n * Example\n * await fetchWithTimeout('/games', {timeout:6000})\n * @param {string} resource\n * @param {object} options\n * @returns\n */\nexport const fetchWithTimeout = async ({ resource, options = {} }) => {\n  const { timeout = 8000 } = options;\n  const controller = new AbortController();\n  const id = setTimeout(() => controller.abort(), timeout);\n  const response = await fetch(resource, {\n    ...options,\n    signal: controller.signal,\n  });\n  clearTimeout(id);\n  return response;\n};\n\nexport const postfetch = (url, params, isCustom = false, method) => {\n  if (isCustom) {\n    return new Promise((resolve, reject) => {\n      fetch(`${API_URL_NO_Proxy}${url}`, {\n        method: method ? method : \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: params,\n      })\n        .then((d) => d.json())\n        .then((d) => resolve(d))\n        .catch((e) => reject(e));\n    });\n  } else {\n    let formBody = [];\n    for (let property in params) {\n      let encodedKey = encodeURIComponent(property);\n      let encodedValue = encodeURIComponent(params[property]);\n      formBody.push(encodedKey + \"=\" + encodedValue);\n    }\n    formBody = formBody.join(\"&\");\n\n    return new Promise((resolve, reject) => {\n      fetch(`${API_URL}${url}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n        },\n        body: formBody,\n      })\n        .then((d) => d.json())\n        .then((d) => resolve(d))\n        .catch((e) => reject(e));\n    });\n  }\n};\n\nexport const getfetch = (url, params) => {\n  let formBody = [];\n  for (let property in params) {\n    let encodedKey = encodeURIComponent(property);\n    let encodedValue = encodeURIComponent(params[property]);\n    formBody.push(encodedKey + \"=\" + encodedValue);\n  }\n  formBody = formBody.join(\"&\");\n\n  return new Promise((resolve, reject) => {\n    fetch(`${API_URL}${url}${formBody}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n      },\n    })\n      .then((d) => d.json())\n      .then((d) => resolve(d))\n      .catch((e) => reject(e));\n  });\n};\n\nexport const getfetchCommon = (url, params, headers) => {\n  let formBody = [];\n  for (let property in params) {\n    let encodedKey = encodeURIComponent(property);\n    let encodedValue = encodeURIComponent(params[property]);\n    formBody.push(encodedKey + \"=\" + encodedValue);\n  }\n  formBody = formBody.join(\"&\");\n\n  return new Promise((resolve, reject) => {\n    fetch(`${url}${formBody}`, {\n      method: \"GET\",\n      headers,\n    })\n      .then((d) => d.json())\n      .then((d) => resolve(d))\n      .catch((e) => reject(e));\n  });\n};\n\n\n\n\n\nexport const NAVER_API_KEY = \"lxll2d6397\";\nexport const NAVER_API_SECRET_KEY = \"cqaiGWouBEzt1W2A1re3KJb50znmMmx0qwBx8KpU\";\n","import axios, { CancelToken, CancelTokenSource } from \"axios\";\nimport fetch from \"unfetch\";\nimport { NAVER_API_KEY, NAVER_API_SECRET_KEY, ProxyURL } from \"../../components/common\";\n\nconst fetcher = (url: string) => fetch(url).then((r) => r.json());\nexport const fetcherBlob = (url: string): Promise<string> =>\n  axios.get(`${ProxyURL}${url}`, { responseType: \"blob\" }).then(async (d) => {\n    return new Promise((resolve) => {\n      const blob = d.data;\n      const myFile = new Blob([blob]);\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const previewImage = String(e.target?.result);\n        resolve(previewImage);\n      };\n      reader.readAsDataURL(myFile);\n    });\n  });\n\nexport const fetcherGetImageByKeyword = (\n  url: string,\n  title: string,\n  source: CancelTokenSource\n): Promise<string | null> => {\n  return new Promise((resolve) => {\n    axios(`${url}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Naver-Client-Id\": \"yeoXdUtxPpcjkxR4G932\",\n        \"X-Naver-Client-Secret\": \"TChrYL1rxH\",\n      },\n      cancelToken: source.token,\n    }).then((res: any) => {\n      if (res.data.display)\n        resolve(res.data.items[0].thumbnail);\n      else\n        resolve(null);\n    });\n  });\n};\n\nexport default fetcher;\n","import { GRAY2, GRAY3, GRAY4, GRAY6, GRAY7, textOverflowHidden } from \"../../style\";\nimport { Icon } from \"../common/Icon\";\nimport { ProfileIcon } from \"../Icon/ProfileIcon\";\nimport { useHistory } from \"react-router-dom\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\nimport { CourseType } from \"../../types/Course\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport { ProxyURL } from \"../common\";\nimport { useState } from \"react\";\nimport useSWR from \"swr\";\nimport fetcher, { fetcherBlob } from \"../../hook/useSWR/fetcher\";\nimport { Skeleton } from \"@mui/material\";\nexport const TagBlack = ({ title }: { title: string }) => {\n  return (\n    <div\n      style={{\n        ...textOverflowHidden,\n        padding: \"4px 12px\",\n        backgroundColor: GRAY7,\n        color: \"white\",\n        fontSize: 11,\n        borderRadius: 20,\n        fontWeight: \"bold\",\n        marginRight: 4,\n      }}\n    >\n      {title}\n    </div>\n  );\n};\ntype CourseCardType = {\n  course?: CourseType;\n  width: number;\n};\ntype ContentType = {\n  content: string; //\"\"\n  id: string; //\"item-1636275004918\"\n  type: string; //\"text\"\n};\nexport const CourseCard = ({ course, width }: CourseCardType) => {\n  const history = useHistory();\n  //#region image\n  const { data: image, error } = useSWR(\n    course && course.images && course.images.length > 0 ? course.images[0].url : null,\n    fetcherBlob\n  );\n  //#endregion\n  const content = course\n    ? course.content\n      ? _.join(\n        JSON.parse(course.content)\n          .filter((item: ContentType) => item.type === \"text\")\n          .map((item: ContentType) => item.content),\n        \" \"\n      )\n      : null\n    : null;\n\n  const imageCSS = image\n    ? {\n      backgroundImage: `url('${image}')`,\n      backgroundRepeat: \"no-repeat\",\n      backgroundBlendMode: \"darken\",\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      backgroundColor: GRAY2,\n    }\n    : { backgroundColor: GRAY4 };\n\n  return (\n    <div style={{ margin: width > 340 ? \"16px 24px\" : \"8px 16px 0 16px\" }}>\n      <div\n        onClick={() => history.push(`/course/detail/${course && (course.id ?? \"\")}`)}\n        style={{\n          width: \"100%\",\n          borderRadius: 10,\n          height: 240,\n          ...imageCSS,\n        }}\n      >\n        <div style={{ padding: 16 }}>\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            {/*   */}\n            <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n              <div style={{ flex: 3, display: \"flex\", flexDirection: \"row\" }}>\n                {/*   */}\n                {course &&\n                  course.tags &&\n                  course.tags.map((tag, i: number) => (\n                    <TagBlack key={i.toString()} title={tag.name === \"\" ? \"EVENT\" : tag.name} />\n                  ))}\n              </div>\n              <div style={{ flex: 1, minWidth: 120, display: \"flex\", justifyContent: \"flex-end\" }}>\n                {/*   */}\n                {/* <TagBlack title={\"  3!\"} /> */}\n              </div>\n            </div>\n            {/* / */}\n            <div\n              style={{\n                fontSize: 18,\n                marginTop: 12,\n                fontWeight: \"bold\",\n                color: \"white\",\n                textShadow: \"2px 2px 2px gray\",\n              }}\n            >\n              {course && course.title ? course.title : \"\"}\n            </div>\n            <div\n              style={{\n                ...textOverflowHidden,\n                WebkitLineClamp: 3,\n                padding: 6,\n                marginTop: 6,\n                color: \"white\",\n                fontSize: 13,\n                maxHeight: 48,\n                textShadow: \"2px 2px 2px gray\",\n              }}\n            >\n              {content}\n            </div>\n            {/* , ,  */}\n            <div style={{ display: \"flex\", flexDirection: \"row\", marginTop: 12, alignItems: \"flex-end\" }}>\n              <div style={{ flex: 1, display: \"flex\", flexDirection: \"row\", alignItems: \"baseline\" }}>\n                <ProfileIcon\n                  icon={\"faCrown\"}\n                  img={course && course.creator_id && (course.creator_id.profile_image ?? undefined)}\n                />\n                {/*   */}\n                {/* <div style={{ marginLeft: 3 }}>\n                  <ProfileIcon size={\"sm\"} />\n                </div> */}\n                {/*  */}\n                {/* {width > 340 ? (\n                  <div style={{ marginLeft: 3 }}>\n                    <ProfileIcon size={\"sm\"} />\n                  </div>\n                ) : (\n                  false\n                )} */}\n              </div>\n              {/* <div\n                style={{\n                  backgroundColor: \"white\",\n                  padding: \"6px 12px\",\n                  borderRadius: 10,\n                  display: \"flex\",\n                  maxHeight: 20,\n                }}\n              >\n                <div\n                  style={{\n                    flex: 1,\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"flex-end\",\n                  }}\n                >\n                  <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                    <Icon name={\"faBookmark\"} type={\"regular\"} size={\"sm\"} color={GRAY7} />\n                    <div style={{ marginLeft: 6, color: GRAY7, fontSize: 11 }}>45</div>\n                  </div>\n                  <div style={{ marginLeft: 12, display: \"flex\", alignItems: \"center\" }}>\n                    <Icon name={\"faComment\"} type={\"regular\"} size={\"sm\"} color={GRAY7} />\n                    <div style={{ marginLeft: 6, color: GRAY7, fontSize: 11 }}>244565</div>\n                  </div>\n                </div>\n              </div> */}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { memo, useCallback, useEffect } from \"react\";\nimport { CourseCard } from \"../card/CourseCard\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { virtualize } from \"react-swipeable-views-utils\";\nimport { mod } from \"react-swipeable-views-core\";\nimport { Icon } from \"../common/Icon\";\nimport { GRAY4, GRAY6, } from \"../../style/index\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport \"swiper/swiper-bundle.min.css\";\nimport \"swiper/swiper.min.css\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\nimport { CourseListState } from \"../recoil\";\nimport { useRecoilState } from \"recoil\";\nimport { CourseType } from \"../../types/Course\";\n// Import Swiper styles\n// import 'swiper/';\n// import 'swiper/css/pagination';\n// import 'swiper/css/scrollbar';\n\nexport const VirtualizeSwipeableViews = virtualize(SwipeableViews);\n\n\nexport const slideRenderer = ({ index, key }: { index: number, key: number }, tagList: string[], width: number) => {\n  const indexMod = mod(index, tagList.length);\n  return (\n    <div key={key}>\n      <MTitle\n        width={width}\n        beforeTxt={indexMod === 0 ? tagList[tagList.length - 1] : tagList[indexMod - 1]}\n        text={`${tagList[indexMod]} `}\n        afterTxt={indexMod === tagList.length - 1 ? tagList[0] : tagList[indexMod + 1]}\n      />\n      <MCourseList width={width} tag={tagList[indexMod]} />\n    </div>\n  );\n};\n\ntype CourseListType = {\n  width: number,\n  tag: string,\n}\nconst CourseList = ({ width, tag }:CourseListType) => {\n  const [courseList,] = useRecoilState<CourseType[]>(CourseListState);//setCourseList\n  const list = courseList.filter(item => item.tags.filter((item) => item.name === tag).length > 0)\n  \n  return (\n    <>\n      <Swiper slidesPerView={1} direction={\"vertical\"} speed={500} height={260}>\n        {list.map((course,i:number) =>\n          <SwiperSlide key={i.toString()}>\n            <CourseCard width={width} course={course}/>\n          </SwiperSlide>)}\n      </Swiper>\n    </>\n  );\n};\nconst CourseListisEqual = (prevProps: any, nextProps: any) => prevProps.width === nextProps.width && prevProps.tag === nextProps.tag;\nconst MCourseList = memo(CourseList, CourseListisEqual);\n\ntype TitleType = {\n  beforeTxt: string, text: string, afterTxt: string, width: number\n}\nconst Title = ({ beforeTxt, text, afterTxt }: TitleType) => {\n  return (\n    <div style={{ display: \"flex\", alignItems: \"center\" }}>\n      <div\n        style={{\n          flex: 1,\n          padding: \"16px 0 16px 24px\",\n          display: \"flex\",\n          position: \"sticky\",\n          top: 0,\n          left: 0,\n        }}\n      >\n        <Icon name={\"faChevronLeft\"} color={GRAY4} type={\"light\"} size={\"sm\"} />\n        <div\n          style={{\n            fontSize: 13,\n            fontWeight: \"normal\",\n            display: \"flex\",\n            alignItems: \"center\",\n            color: GRAY6,\n            padding: \"0 8px\",\n          }}\n        >\n          {beforeTxt}\n        </div>\n      </div>\n\n      <div\n        style={{\n          flex: 2,\n          display: \"flex\",\n          justifyContent: \"center\",\n          fontSize: 712 < 375 ? 18 : 20,\n          fontWeight: \"bold\",\n        }}\n      >\n        {text}\n      </div>\n      <div style={{ flex: 1, padding: \"16px 24px 16px 0\", display: \"flex\", justifyContent: \"flex-end\" }}>\n        <div\n          style={{\n            fontSize: 13,\n            fontWeight: \"normal\",\n            display: \"flex\",\n            alignItems: \"center\",\n            color: GRAY6,\n            padding: \"0 8px\",\n          }}\n        >\n          {afterTxt}\n        </div>\n        <Icon name={\"faChevronRight\"} color={GRAY4} type={\"light\"} size={\"sm\"} />\n      </div>\n    </div>\n  );\n};\nconst TitleisEqual = (prevProps: any, nextProps: any) => prevProps.beforeTxt === nextProps.beforeTxt && prevProps.text === nextProps.text;\nconst MTitle = memo(Title, TitleisEqual);","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n\tconst { innerWidth: width, innerHeight: height } = window;\n\treturn {\n\t\twidth,\n\t\theight\n\t};\n}\n\n//  const { height, width } = useWindowDimensions();\nexport default function useWindowDimensions() {\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n\tuseEffect(() => {\n\t\tfunction handleResize() {\n\t\t\tsetWindowDimensions(getWindowDimensions());\n\t\t}\n\n\t\twindow.addEventListener('resize', handleResize);\n\t\treturn () => window.removeEventListener('resize', handleResize);\n\t}, []);\n\n\treturn windowDimensions;\n}","import { VirtualizeSwipeableViews, slideRenderer } from \"./list/CouseList\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { getfetch } from \"./common\";\nimport useWindowDimensions from \"../hook/useWindowDimensions\";\nimport { CourseType } from \"../types/Course\";\nimport _ from 'lodash'\nimport { useRecoilState } from \"recoil\";\nimport { CourseIndexState, CourseListState,  CreateRouteBottomModalState,  TagListState } from \"./recoil\";\nimport { useHistory } from \"react-router\";\n\nexport const tagInitList = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n\nexport const CourseArea = () => {\n  const [courseList, setCourseList] = useRecoilState<CourseType[]>(CourseListState);\n  const [tagList, setTagList] = useRecoilState<string[]>(TagListState);\n  const [index, setIndex] = useRecoilState<number>(CourseIndexState);\n  const { height, width } = useWindowDimensions();\n  const [visibleRoute, setVisibleRoute] = useRecoilState(CreateRouteBottomModalState);\n  \n  //#region   \n  useEffect(() => {\n    getfetch(\"/courses\").then(async (d: CourseType[]) => {\n      setCourseList(d)\n      //#region     ()\n      //    ,   .\n      let tagList: string[] = []\n      await d.map((course) => course.tags.map((tag) => tagList.push(tag.name)))\n      tagList = await _.sortBy(_.groupBy(tagList), ['length']).map(n => n[0]).reverse().filter(i => i !== \"\")\n      tagList.unshift(\"\") //   \n      setTagList(tagList)\n      //#endregion\n    });\n  }, [visibleRoute]);\n  //#endregion\n  if (tagList.length === 0) return false\n  return <VirtualizeSwipeableViews index={index} onChangeIndex={setIndex} slideRenderer={(p: { index: number, key: number }) => slideRenderer(p, tagList, width)} />;\n};\n","// import { User } from \"./model/User\";\nimport { atom } from \"recoil\";\nimport { getItems } from \"./Input/CommandInput/dndFunc\";\nimport { localStorageEffect } from \"./common/function/localStorageEffect\";\nimport { tagInitList } from \"./CourseArea\";\nimport { CourseType } from \"../types/Course\";\nimport { UserType } from \"../types/User\";\nimport { ChatRoomInit, ChatRoomType, posInit } from \"../types/ChatRoom\";\nimport { ContentItemType } from \"../types/Command\";\n\n//#region userData token\n/**\n *   Badge, user \n * localForageEffect(key) ; key   = AscnyStorage(key, data)\n */\n// export const userState = atom({\n//   key: \"recoil/user\",\n//   default: new User(),\n//   // effects_UNSTABLE: [localForageEffectObject(\"recoil/user\", \"object\")],\n// });\n\n/**\n *\n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\n */\n\nconst tagInitListItem = tagInitList[Math.floor(Math.random() * tagInitList.length)];\nexport const commandInputListState = atom<ContentItemType[]>({\n  key: \"recoil/commandInputList\",\n  default: [\n    ...getItems(1),\n    ...getItems(1, 1, \"contour\"),\n    ...getItems(1, 2, \"tag\", {\n      inputValue: \"\",\n      tagList: [\n        {\n          id: tagInitListItem,\n          text: tagInitListItem,\n        },\n      ],\n    }),\n  ],\n  effects_UNSTABLE: [localStorageEffect(\"recoil/cache/commandInputList\")],\n});\n\nexport const loadingState = atom({\n  key: \"recoil/loading\",\n  default: false,\n});\ntype CommandWindowProps = {\n  color: \"red\" | \"blue\" | \"brown\" | \"purple\" | \"yellow\" | \"orange\" | \"gray\" | \"\";\n  visible: boolean;\n  top: number;\n  left: number;\n  index: number;\n  height: number;\n  pos: number;\n  beforeInnerHTML?: any;\n};\nexport const commandWindowState = atom<CommandWindowProps>({\n  key: \"recoil/commandWindow\",\n  default: { color: \"\", visible: false, top: 0, left: 0, index: -1, height: 0, pos: 0 },\n});\n\n/**\n *  /     \n */\nexport const SearchEndPosState = atom({\n  key: \"recoil/searchEndPos\",\n  default: {\n    address_name: \"\",\n    category_group_code: \"\",\n    category_group_name: \"\",\n    category_name: \"\",\n    distance: -1,\n    id: -1,\n    phone: \"\",\n    place_name: \"\",\n    place_url: \"\",\n    x: -1,\n    y: -1,\n  },\n});\n/**\n *  /     \n */\nexport const SearchStartPosState = atom({\n  key: \"recoil/searchStartPos\",\n  default: {\n    address_name: \"\",\n    category_group_code: \"\",\n    category_group_name: \"\",\n    category_name: \"\",\n    distance: -1,\n    id: -1,\n    phone: \"\",\n    place_name: \"\",\n    place_url: \"\",\n    x: -1,\n    y: -1,\n  },\n});\n\n/**\n *  \n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\n */\nexport const pathState = atom({\n  key: \"recoil/path\",\n  default: { path: [], distance: -1, duration: -1, taxiFare: -1, departureTime: \"2020-01-01T00:00:00\" },\n});\n/**\n *  AlertDialog \n *  { visible: false, text: \"\" }\n */\nexport const alertDialogInit = { visible: false, title: \"\", text: \"\", handleConfirm: () => {}, confirmText: null };\ntype AlertDialogProps = {\n  visible: boolean;\n  title: string;\n  text: string;\n  handleConfirm: any;\n  confirmText?: string | null;\n};\nexport const alertDialogState = atom<AlertDialogProps>({\n  key: \"recoil/alertDialog\",\n  default: alertDialogInit,\n});\n/**\n *  EditProfileDialog \n *  { visible: false, text: \"\" }\n */\nexport const editProfileDialogInit = { visible: false };\nexport const editProfileDialogState = atom({\n  key: \"recoil/editProfileDialogState\",\n  default: editProfileDialogInit,\n});\n/**\n *    \n * {visible: false, index: -1, isDialog: false}\n */\nexport const deleteModePosState = atom({\n  key: \"recoil/deleteMode\",\n  default: { visible: false, index: -1 },\n});\n/**\n *     \n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\n */\nexport const placePosState = atom({\n  key: \"recoil/placePos\",\n  default: posInit,\n});\n/**\n *  \n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\n */\nexport const endPosState = atom({\n  key: \"recoil/endPos\",\n  default: posInit,\n});\n/**\n * \n * address_name category_group_code category_group_name category_name distance id phone place_name place_url road_address_name x y\n */\nexport type posInitType = {\n  address_name: string;\n  category_group_code: string;\n  category_group_name: string;\n  category_name: string;\n  distance: string;\n  id: number;\n  phone: string;\n  place_name: string;\n  place_url: string;\n  road_address_name: string;\n  x: string; //127.036586636975\n  y: string; //37.5090312068588\n  place_image?: string | null;\n};\nexport const startPosState = atom<posInitType>({\n  key: \"recoil/startPos\",\n  default: posInit,\n});\n/**\n *      1\n * address_name* / category_group_code / category_group_name / category_name*\n * distance / id / phone* / place_name* / place_url / x* / y*\n */\nexport const ChatRoomSeletedState = atom<ChatRoomType>({\n  key: \"recoil/chatRoomSeleted\",\n  default: ChatRoomInit,\n});\n/**\n *  DB   \n * address_name* / category_group_code / category_group_name / category_name*\n * distance / id / phone* / place_name* / place_url / x* / y*\n */\nexport const ChatRoomListState = atom({\n  key: \"recoil/chatRoomList\",\n  default: [],\n  effects_UNSTABLE: [localStorageEffect(\"recoil/chatRoomList\")],\n});\n\n/**\n *  /     \n * address_name* / category_group_code / category_group_name / category_name*\n * distance / id / phone* / place_name* / place_url / x* / y*\n */\nexport const SearchPosResultState = atom({\n  key: \"recoil/searchPosResult\",\n  default: { documents: [posInit], meta: { is_end: true, pageable_count: -1, total_count: -1 } },\n});\n\n/**\n *  /    \n *  position : \"start\" | \"end\" | \"place\" | \"\"\n */\nexport const SearchPositionState = atom<{ visible: boolean; position: \"start\" | \"end\" | \"place\" | \"\" }>({\n  key: \"recoil/searchPosition\",\n  default: { visible: false, position: \"\" },\n});\n//#region bttomTabIndex\n\nexport const FilePathInit = { file: \"\", previewURL: \"\", type: \"\", name: \"\" };\n/**\n * type : \"\" | \"CourseCreateMainImg\"\n */\nexport const FilePathState = atom({\n  key: \"recoil/filepath\",\n  default: FilePathInit,\n  effects_UNSTABLE: [localStorageEffect(\"recoil/cache/filepath\")],\n});\n/**\n *    crop\n */\nexport const CropInit = { visible: false, file: new File([], \"\"), previewURL: \"\", type: \"\" };\nexport const CropState = atom({\n  key: \"recoil/crop\",\n  default: CropInit,\n});\nexport const MenuModalState = atom<{ visible: boolean }>({\n  key: \"recoil/MenuModalState\",\n  default: { visible: false },\n});\n/**\n *     \n */\nexport const CourseProductModalState = atom({\n  key: \"recoil/CourseProductModalState\",\n  default: false,\n});\n/**\n *  Route \n */\nexport const CreateRouteBottomModalState = atom({\n  key: \"recoil/createRouteBottomModal\",\n  default: false,\n});\n/**\n *   \n */\nexport const StartPosImageState = atom<null | string>({\n  key: \"recoil/StartPosImageState\",\n  default: null,\n});\nexport const EndPosImageState = atom<null | string>({\n  key: \"recoil/EndPosImageState\",\n  default: null,\n});\nexport const CreateBottomModalState = atom({\n  key: \"recoil/createBottomModal\",\n  default: false,\n});\nexport const BottomModalState = atom({\n  key: \"recoil/bottomModal\",\n  default: false,\n});\n//#endregion\n//#region bttomTabIndex\n/**\n *     \n */\nexport const MyPosState = atom({\n  key: \"recoil/myPosState\",\n  default: { lat: 37.554722, lng: 126.970833 },\n});\n//#endregion\n//#region bttomTabIndex\n/**\n *   /   2  \n */\nexport const homeTabIndexState = atom({\n  key: \"recoil/homeTabIndex\",\n  default: 1,\n});\n\n//#endregion\n//#region bttomTabIndex\n/**\n *   4 \n */\nexport const bottomTabIndexState = atom({\n  key: \"recoil/bottomTabIndex\",\n  default: 0,\n});\n//#endregion\n\n//#region /course\nexport const CourseListState = atom<CourseType[]>({\n  key: \"recoil/CourseListState\",\n  default: [],\n  effects_UNSTABLE: [localStorageEffect(\"recoil/CourseListState\")],\n});\nexport const TagListState = atom<string[]>({\n  key: \"recoil/TagListState\",\n  default: [],\n  effects_UNSTABLE: [localStorageEffect(\"recoil/TagListState\")],\n});\nexport const CourseIndexState = atom<number>({\n  key: \"recoil/CourseIndexState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect(\"recoil/CourseIndexState\")],\n});\nexport const shareModalState = atom<{ visible: boolean }>({\n  key: \"recoil/shareModalState\",\n  default: { visible: false },\n});\n//#endregion\n\n//#region /search\n/**\n *   /  /  \n */\n// { users: any[]; rooms: any[]; course: any[] }\n\nexport const searchState = atom<{ users: UserType[]; rooms: ChatRoomType[]; courses: CourseType[] }>({\n  key: \"recoil/searchState\",\n  default: { rooms: [], users: [], courses: [] },\n});\n//#endregion\n\n//#region  /chat \nexport const lastMessageMarginBottomState = atom<number>({\n  key: \"recoil/lastMessageMarginBottomState\",\n  default: 0,\n});\n//#endregion\n\n//#region /users \nexport const userDataState = atom<UserType | null>({\n  key: \"recoil/userDataState\",\n  default: null,\n  effects_UNSTABLE: [localStorageEffect(\"recoil/userDataState\")],\n});\n//#endregion\n","export const getPlatform = () => {\n  if (/Android/i.test(navigator.userAgent)) {\n    // \n    return \"android\";\n  } else if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\n    // iOS , , \n    return \"ios\";\n  } else {\n    //   \n    return \"other\";\n  }\n};\nfunction getOperatingSystem(window) {\n  let operatingSystem = \"Not known\";\n  if (window.navigator.appVersion.indexOf(\"Win\") !== -1) {\n    operatingSystem = \"Windows OS\";\n  }\n  if (window.navigator.appVersion.indexOf(\"Mac\") !== -1) {\n    operatingSystem = \"MacOS\";\n  }\n  if (window.navigator.appVersion.indexOf(\"X11\") !== -1) {\n    operatingSystem = \"UNIX OS\";\n  }\n  if (window.navigator.appVersion.indexOf(\"Linux\") !== -1) {\n    operatingSystem = \"Linux OS\";\n  }\n\n  return operatingSystem;\n}\nfunction getBrowser(window) {\n  let currentBrowser = \"Not known\";\n  if (window.navigator.userAgent.indexOf(\"Chrome\") !== -1) {\n    currentBrowser = \"Google Chrome\";\n  } else if (window.navigator.userAgent.indexOf(\"Firefox\") !== -1) {\n    currentBrowser = \"Mozilla Firefox\";\n  } else if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1) {\n    currentBrowser = \"Internet Exployer\";\n  } else if (window.navigator.userAgent.indexOf(\"Edge\") !== -1) {\n    currentBrowser = \"Edge\";\n  } else if (window.navigator.userAgent.indexOf(\"Safari\") !== -1) {\n    currentBrowser = \"Safari\";\n  } else if (window.navigator.userAgent.indexOf(\"Opera\") !== -1) {\n    currentBrowser = \"Opera\";\n  } else if (window.navigator.userAgent.indexOf(\"Opera\") !== -1) {\n    currentBrowser = \"YaBrowser\";\n  } else {\n    currentBrowser = \"Others\";\n  }\n\n  return currentBrowser;\n}\n\nexport const OS = () => {\n  return getOperatingSystem(window);\n};\nexport const Browser = () => {\n  return getBrowser(window);\n};","import axios from \"axios\";\nimport KakaoLogin from \"react-kakao-login\";\nimport { useHistory } from \"react-router\";\nimport { useRecoilState } from \"recoil\";\nimport { getfetch, postfetch } from \"../common\";\nimport { Browser, OS } from \"../common/function/getPlatform\";\nimport { loadingState, userDataState } from \"../recoil\";\n\nexport const KaKaoLoginBtn = ({ width=64}) => {\n  const [userData, setUserData] = useRecoilState(userDataState);\n  const [, setLoading] = useRecoilState(loadingState); //loading\n  const history = useHistory();\n\n  //#region \n  const onSuccess = async (response: { response: any; profile?: any | profileType | undefined }) => {\n    const prof = response.profile;\n    const res = response.response;\n    if (!res || !prof || !prof.kakao_account.email) {\n      alert(\" .   .\");\n      return;\n    }\n    const ipRes: any = await axios.get(\"https://geolocation-db.com/json/\");\n    const ip = ipRes && ipRes.data && ipRes.data.IPv4 ? ipRes.data.IPv4 : \"\";\n\n    const signRes = await getfetch(`/users?kakao_id=${prof.id}`);\n    setLoading(true)\n    if (signRes && !!signRes.length && signRes.length > 0 && typeof signRes[0].id == \"number\") {\n      setLoading(false)\n      setUserData(signRes[0]);\n    } else\n      await postfetch(`/users`, {\n        os: OS() ?? \"\",\n        browser: Browser() ?? \"\",\n        username: prof.id,\n        email: prof.id + \"@samplemail.com\",\n        password: prof.id,\n        confirmed: true,\n        blocked: false,\n        role: 1,\n        nickname: prof.properties.nickname ?? \"\",\n        profile_image: prof.properties.thumbnail_image ?? \"\",\n        point: 0,\n        greeting: \"\",\n        last_logined_ip: ip,\n        gender: prof.kakao_account.gender === \"male\" ? \"M\" : prof.kakao_account.gender === \"female\" ? \"W\" : \"None\",\n\n        kakao_id: prof.id,\n        kakao_nickname: prof.properties.nickname ?? \"\",\n        kakao_profile_image: prof.properties.profile_image ?? \"\",\n        kakao_profile_thumbnail: prof.properties.thumbnail_image ?? \"\",\n        kakao_email: prof.kakao_account.email ?? \"\",\n        kakao_age_range: prof.kakao_account.age_range ?? \"\",\n        kakao_birthday: prof.kakao_account.birthday ?? \"\",\n        kakao_birthday_type: prof.kakao_account.birthday_type ?? \"\",\n        kakao_gender: prof.kakao_account.gender ?? \"\",\n        kakao_access_token: res.access_token ?? \"\",\n        kakao_token_type: res.token_type ?? \"\",\n        kakao_refresh_token: res.refresh_token ?? \"\",\n        kakao_expires_in: res.expires_in ?? \"\",\n        kakao_refresh_token_expires_in: res.refresh_token_expires_in ?? \"\",\n      }).then((d) => {\n        setLoading(false)\n        if (d.statusCode === 400) console.error(\"..\", d);\n        else {\n          setUserData(d);\n        }\n        \n        history.push(window.location.origin);\n      });\n  };\n  //#endregion\n  //     \n  return (\n    <></>\n    // <KakaoLogin\n      \n    //   token={\"0319421ef3dceca8c69d3b04efc365dc\"}\n    //   onSuccess={onSuccess}\n    //   onFail={(p) => console.error(p)}\n    //   onLogout={() => console.log(\"logout!\")}\n    //   style={{ backgroundColor: '#ffeb00', width: width, border:'none'  }}\n      \n    // ><p style={{color:'black'}}></p></KakaoLogin>\n  );\n};\n\ntype profileType = {\n  id: number; //1452229818, kakao_id\n  connected_at: string; //\"2020-08-16T13:03:44Z\",\n  properties: {\n    nickname: string; //\"\", kakao_nickname\n    profile_image: string; //\"http://k.kakaocdn.net/dn/j0ZNn/btqGmUejwAP/3d6x9Sz0oRgj83NUITVul1/img_640x640.jpg\", kakao_profile_image\n    thumbnail_image: string; //\"http://k.kakaocdn.net/dn/j0ZNn/btqGmUejwAP/3d6x9Sz0oRgj83NUITVul1/img_110x110.jpg\" kakao_profile_thumbnail\n  };\n  kakao_account: {\n    profile_nickname_needs_agreement: boolean; //false,\n    profile_image_needs_agreement: boolean; //false,\n    profile: {\n      nickname: string; //\"\",\n      thumbnail_image_url: string; //\"http://k.kakaocdn.net/dn/bCEqSJ/btriSkOib8t/sMrNWCubb6C5X8kP9jJAh0/img_110x110.jpg\",\n      profile_image_url: string; //\"http://k.kakaocdn.net/dn/bCEqSJ/btriSkOib8t/sMrNWCubb6C5X8kP9jJAh0/img_640x640.jpg\",\n      is_default_image: boolean; //false\n    };\n    has_email: boolean; //true,\n    email_needs_agreement: boolean; //false,\n    is_email_valid: boolean; //true,\n    is_email_verified: boolean; //true,\n    email: string; //\"tkarnrwl7862@gmail.com\", kakao_email\n    has_age_range: boolean; //true,\n    age_range_needs_agreement: boolean; //false,\n    age_range: string; //\"20~29\", kakao_age_range\n    has_birthday: boolean; //true,\n    birthday_needs_agreement: boolean; //false,\n    birthday: string; //\"0402\", kakao_birthday\n    birthday_type: string; //\"SOLAR\", kakao_birthday_type\n    has_gender: boolean; //true,\n    gender_needs_agreement: boolean; //false,\n    gender: string; //\"male\" kakao_gender\n  };\n};\ntype ResponseType = {\n  access_token: string; //\"K_mx0s8UySOt\",  kakao_access_token\n  token_type: string; //\"bearer\", kakao_token_type\n  refresh_token: string; //\"umOUzyj3hvSR\", kakao_refresh_token\n  expires_in: number; //7199, kakao_expires_in\n  scope: string; //\"age_range birthday account_email profile_image talk_message gender profile_nickname\",\n  refresh_token_expires_in: number; //5183999 kakao_refresh_token_expires_in\n};\n","import { homeTabIndexState, userDataState } from \"../components/recoil\";\nimport { HEADER_HEIGHT } from \"./../style/index\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { useHistory } from \"react-router\";\nimport useWindowDimensions from \"../hook/useWindowDimensions\";\nimport { KaKaoLoginBtn } from \"./Btn/LoginBtn\";\nimport { Avatar } from \"@mui/material\";\n\nexport const BottomHeader = ({ title, noProfile=false }) => {\n  const userData = useRecoilValue(userDataState);\n\n  const { height, width } = useWindowDimensions();\n  const history = useHistory();\n  const [homeTabIndex, setHomeTabIndex] = useRecoilState(homeTabIndexState);\n  const onClick = (index) => {\n    if (homeTabIndex !== index) {\n      if (index === 1) history.push(\"/\");\n      else if (index === 0) history.push(\"/course\");\n      setHomeTabIndex(index);\n    }\n  };\n\n  const goToUser = () => {\n    if (userData) history.push(`/user/${userData.id}`);\n    else alert(\"        .\");\n  };\n  return (\n    <div style={{ height: HEADER_HEIGHT, width: width, display: \"flex\", alignItems: \"center\", paddingTop: 8 }}>\n      <div style={inlineStyle.flex}></div>\n      <div style={inlineStyle.barFlexInner}>\n        <div style={inlineStyle.flexL}>\n          {!title ? (\n            <div\n              style={\n                homeTabIndex === 0\n                  ? {\n                      ...inlineStyle.noStyleBtnActive,\n                      display: \"flex\",\n                      justifyContent: \"right\",\n                    }\n                  : { ...inlineStyle.noStyleBtn, display: \"flex\", justifyContent: \"right\" }\n              }\n              onClick={() => onClick(0)}\n            >\n              \n            </div>\n          ) : (\n            false\n          )}\n        </div>\n        <div style={{ margin: \"0 12px\", alignSelf: \"flex-start\", fontWeight: \"bold\", fontSize: 15 }}>\n          {!title ? \"|\" : title}\n        </div>\n        <div style={inlineStyle.flexL}>\n          {!title ? (\n            <div\n              style={homeTabIndex === 1 ? inlineStyle.noStyleBtnActive : inlineStyle.noStyleBtn}\n              onClick={() => onClick(1)}\n            >\n              \n            </div>\n          ) : (\n            false\n          )}\n        </div>\n      </div>\n      <div style={inlineStyle.flex}>\n        <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"end\", marginRight: width * 0.05 }}>\n          {!noProfile ? (\n            userData ? (\n              <div onClick={goToUser}>\n                <Avatar\n                  sx={{ border: \"1px solid gray\" }}\n                  src={userData.profile_image ?? undefined}\n                >\n                  {userData.nickname.slice(0, 1)}\n                </Avatar>\n              </div>\n            ) : (\n              // <div\n              //   onClick={goToUser}\n              //   style={{\n              //     ...inlineStyle.noStyleBtn,\n              //     border: `3px solid #F1F3F5`,\n              //     borderRadius: 200,\n              //     backgroundColor: \"#F1F3F5\",\n              //     alignItems: \"center\",\n              //     justifyContent: \"center\",\n              //     display: \"flex\",\n              //     width: 44,\n              //     height: 44,\n              //   }}\n              // >\n              //   <img\n              //     alt={\" \"}\n              //     width={32}\n              //     height={32}\n              //     style={{ borderRadius: 200 }}\n              //     src={\n              //       userData.profile_image ??\n              //       \"https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg\"\n              //     }\n              //   ></img>\n              // </div>\n              <KaKaoLoginBtn />\n            )\n          ) : (\n            false\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst inlineStyle = {\n  barFlexInner: { flex: 1, display: \"flex\", justifyContent: \"center\", alignItems: \"baseline\" },\n  flex: { flex: 1 },\n  flexL: { float: \"left\" },\n  noStyleBtnActive: { backgroundColor: \"transparent\", border: \"none\", fontSize: 17, fontWeight: \"bold\", width: \"4em\" },\n  noStyleBtn: { backgroundColor: \"transparent\", border: \"none\", fontSize: 15, fontWeight: \"normal\", width: \"4em\" },\n  BtnProfile: {},\n};\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport * as fal from \"@fortawesome/pro-light-svg-icons\";\nimport * as far from \"@fortawesome/pro-regular-svg-icons\";\n\nimport { useRecoilState } from \"recoil\";\nimport { BottomModalState, bottomTabIndexState, homeTabIndexState } from \"./recoil\";\nimport { GRAY9 } from \"../style\";\nimport { useHistory } from \"react-router-dom\";\nimport useWindowDimensions from \"../hook/useWindowDimensions\";\n\nexport const BottomTabBar = () => {\n  const history = useHistory();\n  const { height, width } = useWindowDimensions();\n  const [homeTabIndex] = useRecoilState(homeTabIndexState);\n  const [, setVisible] = useRecoilState(BottomModalState);\n  const [bottomTabIndex, setBottomTabIndex] = useRecoilState(bottomTabIndexState);\n\n  const onClick = (index) => {\n    if (bottomTabIndex !== index) {\n      if (homeTabIndex === 1 && index === 1) {\n        if (history.location.pathname !== \"/\") {\n          history.replace(\"/\");\n          setBottomTabIndex(0);\n        }\n        setVisible(true);\n        return;\n      }\n      if (homeTabIndex === 1 && index === 0) history.replace(\"/\");\n      else if (homeTabIndex === 0 && index === 0) history.replace(\"/course\");\n      else if (homeTabIndex === 0 && index === 1) history.replace(\"/search\");\n      else if (index === 2) history.replace(\"/shop\");\n      else if (index === 3) history.replace(\"/mychat\");\n      setBottomTabIndex(index);\n    }\n  };\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        bottom: 48,\n        height: 42,\n        boxShadow: \"0.2px 0.2px 0 0 gray\",\n        borderRadius: 10,\n        width: width * 0.8,\n        marginLeft: width * 0.1,\n        backgroundColor: \"white\",\n      }}\n    >\n      <div style={inlineStyle.barFlexInner}>\n        <div style={inlineStyle.barTxt}>\n          <div style={inlineStyle.noStyleBtn} onClick={() => onClick(0)}>\n            <FontAwesomeIcon\n              icon={bottomTabIndex === 0 ? far.faHome : fal.faHome}\n              size={\"lg\"}\n              opacity={bottomTabIndex === 0 ? 1 : 0.3}\n              color={GRAY9}\n            />\n          </div>\n        </div>\n        <div style={inlineStyle.barTxt}>\n          <div style={inlineStyle.noStyleBtn} onClick={() => onClick(1)}>\n            <FontAwesomeIcon\n              icon={\n                homeTabIndex === 1\n                  ? bottomTabIndex === 1\n                    ? far.faSearchLocation\n                    : fal.faSearchLocation\n                  : bottomTabIndex === 1\n                  ? far.faTelescope\n                  : fal.faTelescope\n              }\n              size={\"lg\"}\n              opacity={bottomTabIndex === 1 ? 1 : 0.3}\n              color={GRAY9}\n            />\n          </div>\n        </div>\n        <div style={inlineStyle.barTxt}>\n          <div style={inlineStyle.noStyleBtn} onClick={() => onClick(2)}>\n            <FontAwesomeIcon\n              icon={bottomTabIndex === 2 ? far.faShoppingBag : fal.faShoppingBag}\n              size={\"lg\"}\n              opacity={bottomTabIndex === 2 ? 1 : 0.3}\n              color={GRAY9}\n            />\n          </div>\n        </div>\n        <div style={inlineStyle.barTxt}>\n          <div style={inlineStyle.noStyleBtn} onClick={() => onClick(3)}>\n            <FontAwesomeIcon\n              icon={bottomTabIndex === 3 ? far.faEnvelope : fal.faEnvelope}\n              size={\"lg\"}\n              opacity={bottomTabIndex === 3 ? 1 : 0.3}\n              color={GRAY9}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst inlineStyle = {\n  barFlexInner: {\n    display: \"flex\",\n    height: 42,\n    alignItems: \"center\",\n  },\n  barTxt: {\n    flex: 1,\n    textAlign: \"center\",\n  },\n  noStyleBtn: { backgroundColor: \"transparent\", border: \"none\" },\n};\n","import { faEdit } from \"@fortawesome/pro-light-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\nimport { CreateBottomModalState } from \"../recoil\";\n\nexport const CreateBtn = () => {\n  const [, setVisible] = useRecoilState(CreateBottomModalState);\n  const { height, width } = useWindowDimensions();\n  const onClick = () => {\n    setVisible(true);\n  };\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        width: 48,\n        height: 48,\n        borderRadius: 200,\n        backgroundColor: \"white\",\n        bottom: 96 + 24,\n        right: width * 0.125,\n        boxShadow: \"0.2px 0.2px 0 0 gray\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n      onClick={onClick}\n    >\n      <FontAwesomeIcon icon={faEdit} size={\"sm\"} />\n    </div>\n  );\n};\n","import { NAVER_API_KEY, NAVER_API_SECRET_KEY, isHttp, ProxyURL } from \"..\";\n\nexport const getPath = (x1, y1, x2, y2) => {\n  //&option={}\n  return new Promise((resolve, reject) => {\n    const Base_URL = `https://naveropenapi.apigw.ntruss.com/map-direction/v1/driving?start=${x1},${y1}&goal=${x2},${y2}`;\n    const url = ProxyURL + Base_URL;\n    fetch(url, {\n      method: \"GET\",\n      headers: {\n        mode: \"no-cors\",\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"X-NCP-APIGW-API-KEY-ID\": NAVER_API_KEY,\n        \"X-NCP-APIGW-API-KEY\": NAVER_API_SECRET_KEY,\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n    })\n      .then((d) => d.json())\n      .then((d) =>\n        resolve({\n          path: d.route.traoptimal[0].path,\n          distance: Number(Number(d.route.traoptimal[0].summary.distance / 1000).toFixed(1)),\n          duration: Number(Number(d.route.traoptimal[0].summary.duration / 60000).toFixed(0)),\n          departureTime: d.route.traoptimal[0].summary.departureTime,\n          taxiFare: d.route.traoptimal[0].summary.taxiFare,\n        })\n      )\n      .catch((e) => reject(e));\n  });\n};\n","import { GRAY8 } from \"./../style/index\";\n\nexport const PathInfo = ({ data }) => {\n  if (typeof data.distance != \"number\" || data.distance < 1) return <div></div>;\n  return (\n    <div style={{ width: \"100%\", height: 40, top: 10, position: \"absolute\", display: \"flex\", alignItems: \"center\" }}>\n      <div\n        style={{\n          flex: 1,\n          justifyContent: \"center\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          backgroundColor: \"rgba(222, 226, 230,0.8)\",\n          paddingTop: 4,\n          paddingBottom: 4,\n          margin: 10,\n          borderRadius: 10,\n        }}\n      >\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 11 }}> </div>\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 15 }}>{data.distance}km</div>\n      </div>\n      <div\n        style={{\n          flex: 1,\n          justifyContent: \"center\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          backgroundColor: \"rgba(222, 226, 230,0.8)\",\n          paddingTop: 4,\n          paddingBottom: 4,\n          margin: 10,\n          borderRadius: 10,\n        }}\n      >\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 11 }}> </div>\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 15 }}>{data.duration}</div>\n      </div>\n      <div\n        style={{\n          flex: 1,\n          justifyContent: \"center\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          backgroundColor: \"rgba(222, 226, 230,0.8)\",\n          paddingTop: 4,\n          paddingBottom: 4,\n          margin: 10,\n          borderRadius: 10,\n        }}\n      >\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 11 }}> </div>\n        <div style={{ textAlign: \"center\", color: GRAY8, fontSize: 15 }}>{data.taxiFare}</div>\n      </div>\n    </div>\n  );\n};\n","import {\n  RenderAfterNavermapsLoaded,\n  NaverMap,\n  Marker,\n  // Circle,\n  // GroundOverlay,\n  // Ellipse,\n  Polyline,\n} from \"react-naver-maps\";\n\nimport { HEADER_HEIGHT, SCREEN_HEIGHT } from \"./../style\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport {\n  BottomModalState,\n  ChatRoomListState,\n  ChatRoomSeletedState,\n  CreateBottomModalState,\n  endPosState,\n  loadingState,\n  MyPosState,\n  pathState,\n  SearchPositionState,\n  SearchPosResultState,\n  startPosState,\n} from \"./recoil\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { NAVER_API_KEY } from \"./common\";\nimport { getfetch } from \"./common/index\";\nimport { getPath } from \"./common/function/getPath\";\nimport { PathInfo } from \"./PathInfo\";\nimport _ from \"lodash\";\nimport useWindowDimensions from \"../hook/useWindowDimensions\";\nimport { posInit } from \"../types/ChatRoom\";\n\nexport const NMAP = () => {\n  return (\n    <RenderAfterNavermapsLoaded\n      ncpClientId={NAVER_API_KEY} //     Client ID\n      error={<p>Maps Load Error</p>}\n      loading={<p>Maps Loading...</p>}\n    >\n      <NaverMapAPI />\n    </RenderAfterNavermapsLoaded>\n  );\n};\nfunction NaverMapAPI() {\n  //#region  state\n  const { height, width } = useWindowDimensions();\n  const [visibleSearch, setVisibleSearch] = useRecoilState(SearchPositionState);\n  const [searchResult, setSearchResult] = useRecoilState(SearchPosResultState);\n  const [visibleCreate, setVisibleCreate] = useRecoilState(CreateBottomModalState);\n  const [visible, setVisible] = useRecoilState(BottomModalState);\n  const setLoading = useSetRecoilState(loadingState); //loading\n\n  const myPos = useRecoilValue(MyPosState); //setMyPos\n  const [startPos, setStartPos] = useRecoilState(startPosState);\n  const [endPos, setEndPos] = useRecoilState(endPosState);\n  const [path, setPath] = useRecoilState(pathState);\n\n  //#region \n  //#  \n  const navermaps = window.naver.maps;\n  const [bounds, setBounds] = useState(\n    new navermaps.LatLngBounds(\n      new navermaps.LatLng(37.5391768, 126.9980514),\n      new navermaps.LatLng(37.5591768, 126.9780514)\n    )\n  );\n  const [chatRoomList, setChatRoomList] = useRecoilState(ChatRoomListState);\n  const naverMapRef = useRef();\n\n  //#  \n  const [chatRoomSeleted, setChatRoomSeleted] = useRecoilState(ChatRoomSeletedState);\n  //#endregion\n\n  //#region useEffect\n  useEffect(() => {\n    // https://www.campus-taxi.com:444/chat-rooms?start_at_gt=2021-11-20T15:19:20.000Z\n    getfetch(`/chat-rooms?start_at_gt=${new Date().toISOString()}`).then((d) =>\n      setChatRoomList(\n        d.map((room) => {\n          return { ...room, path: _.chunk(_.split(room.path, \",\"), 2) };\n        })\n      )\n    );\n  }, []);\n\n  useEffect(async () => {\n    if (endPos.place_name && startPos.place_name) {\n      let x1 = Number(startPos.x);\n      let y1 = Number(startPos.y);\n      let x2 = Number(endPos.x);\n      let y2 = Number(endPos.y);\n      setBounds(new navermaps.LatLngBounds(new navermaps.LatLng(y1 - 0.04, x1), new navermaps.LatLng(y2 + 0.02, x2)));\n      setLoading(true);\n      await getPath(x1, y1, x2, y2).then((d) => {\n        if (typeof d.distance === \"number\" && d.distance > 0) setPath(d);\n      });\n      setLoading(false);\n    } else if (startPos.place_name.length > 0 || endPos.place_name.length > 0) {\n      const Pos = startPos.place_name.length > 0 ? startPos : endPos;\n      setBounds(\n        new navermaps.LatLngBounds(\n          new navermaps.LatLng(Number(Pos.y) - 0.02, Number(Pos.x)),\n          new navermaps.LatLng(Number(Pos.y) + 0.02, Number(Pos.x))\n        )\n      );\n    }\n  }, [startPos.place_name, endPos.place_name]);\n\n  useEffect(() => {\n    if (chatRoomSeleted.id !== -1 && naverMapRef.current) {\n      let x1 = Number(chatRoomSeleted.start_route.x);\n      let y1 = Number(chatRoomSeleted.start_route.y);\n      let x2 = Number(chatRoomSeleted.end_route.x);\n      let y2 = Number(chatRoomSeleted.end_route.y);\n      setBounds(new navermaps.LatLngBounds(new navermaps.LatLng(y1 - 0.08, x1), new navermaps.LatLng(y2 + 0.02, x2)));\n    }\n  }, [chatRoomSeleted]);\n  //#endregion\n\n  //#region \n  const onClickMarker = (pos) => {\n    if (visibleSearch.position === \"start\") setStartPos(pos);\n    else setEndPos(pos);\n    setSearchResult({ documents: [posInit], meta: { is_end: true, pageable_count: -1, total_count: -1 } });\n    setVisibleCreate(true);\n    setVisibleSearch({ visible: false, position: \"\" });\n  };\n  //#endregion\n\n\n  return (\n    <NaverMap\n      ref={naverMapRef}\n      mapDivId={\"maps-getting-started-uncontrolled\"} // default: react-naver-map\n      style={{\n        width: width, //   \n        height: SCREEN_HEIGHT - HEADER_HEIGHT - 16, //   \n        marginTop: 72,\n        outline: \"none\",\n      }}\n      defaultCenter={myPos} //   \n      // onDrag={onDrag} // TEST CODE\n      bounds={bounds}\n      onBoundsChanged={setBounds}\n    >\n      {chatRoomList.length > 0 &&\n        chatRoomList.map((room, i) => (\n          <div key={i.toString()}>\n            {/* DB   */}\n            <ImageMarker\n              url={room.creator_id.kakao_profile_thumbnail}\n              isProfile\n              color={chatRoomSeleted.id === room.id ? null : \"#6FC1EF\"}\n              onClick={() => {\n                setChatRoomSeleted(room);\n                setVisible(true);\n              }}\n              position={new navermaps.LatLng(Number(room.start_route.y), Number(room.start_route.x))}\n              navermaps={navermaps}\n            />\n            {/* DB   */}\n            <ImageMarker\n              url={room.creator_id.kakao_profile_thumbnail}\n              isProfile\n              onClick={() => {\n                setChatRoomSeleted(room);\n                setVisible(true);\n              }}\n              color={chatRoomSeleted.id === room.id ? null : \"#FF6F6F\"}\n              position={new navermaps.LatLng(Number(room.end_route.y), Number(room.end_route.x))}\n              navermaps={navermaps}\n            />\n          </div>\n        ))}\n      {/* ->  */}\n      {chatRoomList.length > 0 &&\n        chatRoomList\n          // .map((room) => room.end_route)\n          .map((room, i) => (\n            <Polyline\n              key={i.toString()}\n              path={[\n                new navermaps.LatLng(Number(room.start_route.y), Number(room.start_route.x)),\n                new navermaps.LatLng(Number(room.end_route.y), Number(room.end_route.x)),\n              ]}\n              strokeColor={\"#FF6E6E\"}\n              strokeOpacity={0.2}\n              strokeWeight={3}\n            />\n          ))}\n      {/*  */}\n      {visibleSearch.visible &&\n        searchResult.documents.map((pos, i) => (\n          <Marker\n            key={i.toString()}\n            position={new navermaps.LatLng(Number(pos.y), Number(pos.x))}\n            animation={1}\n            onClick={() => onClickMarker(pos)}\n          />\n        ))}\n      {/*    /  */}\n      {(visibleCreate || visibleSearch.position === \"end\") && startPos.place_name ? (\n        <ImageMarker\n          url={\"/images/startPosIcon.png\"}\n          position={new navermaps.LatLng(Number(startPos.y), Number(startPos.x))}\n          navermaps={navermaps}\n        />\n      ) : (\n        false\n      )}\n      {(visibleCreate || visibleSearch.position === \"start\") && endPos.place_name ? (\n        <ImageMarker\n          url={\"/images/endPosIcon.png\"}\n          position={new navermaps.LatLng(Number(endPos.y), Number(endPos.x))}\n          navermaps={navermaps}\n        />\n      ) : (\n        false\n      )}\n      {/* ->   */}\n      {(startPos.place_name.length > 0 && endPos.place_name.length > 0 && path.distance > 0 && visibleCreate) ||\n      (chatRoomSeleted.path.length > 0 && visible) ? (\n        <>\n          <PathInfo data={path.distance > 0 && visibleCreate ? path : chatRoomSeleted} />\n          <Polyline\n            path={\n              path.distance > 0 && visibleCreate\n                ? path.path.map((line) => new navermaps.LatLng(Number(line[1]), Number(line[0])))\n                : chatRoomSeleted && chatRoomSeleted.path\n                ? chatRoomSeleted.path.map((line) => new navermaps.LatLng(Number(line[1]), Number(line[0])))\n                : []\n            }\n            strokeColor={\"red\"}\n            strokeOpacity={1}\n            strokeWeight={5}\n            strokeStyle={\"solid\"}\n            strokeLineCap={\"round\"}\n            strokeLineJoin={\"round\"}\n            startIcon={3}\n            startIconSize={20}\n            endIcon={1}\n            endIconSize={20}\n          />\n        </>\n      ) : (\n        false\n      )}\n    </NaverMap>\n  );\n}\n\nfunction ImageMarker(props) {\n  const navermaps = props.navermaps;\n  const icon = {\n    content: `<div onClick=\\\"${props.onClick}\\\"><img alt=\\\" \\\" style=\\\"${\n      props.isProfile ? \"border-radius:30px;border-style:solid;\" : \"\"\n    }border-color:${props.color ?? \"#535353\"};border-width:3px\\\" width=36 height=${props.isProfile ? 36 : 48} src=${\n      props.url ?? \"https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg\"\n    } /></div>`,\n    size: new navermaps.Size(20, 20),\n    anchor: new navermaps.Point(20, 20),\n  };\n\n  return <Marker title=\"Green\" icon={icon} {...props} />;\n}\n","import { GRAY2, GRAY7, GRAY9 } from \"../../style\";\nimport { forwardRef, useState, useCallback, Ref } from \"react\";\nimport { CreateBottomModalState, SearchPositionState } from \"../recoil\";\nimport { useRecoilState } from \"recoil\";\nimport { Icon } from \"../common/Icon\";\nimport TextareaAutosize from \"react-autosize-textarea\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\n\ntype InputProps = {\n  onChange: (t: string) => void;\n  placeholder?: string;\n  inputMode?: \"search\" | \"text\" | \"none\" | \"tel\" | \"url\" | \"email\" | \"numeric\" | \"decimal\";\n  type?: string;\n  readOnly?: boolean;\n  disabled?: boolean;\n  defaultValue?: string;\n  inputRef?: React.LegacyRef<HTMLInputElement>;\n};\nexport const Input = ({\n  onChange,\n  placeholder,\n  inputMode,\n  type,\n  readOnly = false,\n  disabled = false,\n  defaultValue,\n  inputRef,\n}: InputProps) => {\n  const onChangeInupt = (e: any) => {\n    if (onChange) onChange(e.target.value);\n  };\n  const { height, width } = useWindowDimensions();\n  return (\n    <input\n      ref={inputRef}\n      defaultValue={defaultValue}\n      onChange={onChangeInupt}\n      readOnly={readOnly ?? false}\n      inputMode={inputMode ?? \"text\"}\n      placeholder={placeholder}\n      type={type ?? \"\"}\n      disabled={disabled ?? false}\n      style={{\n        width: width - 60,\n        backgroundColor: GRAY2,\n        border: \"none\",\n        padding: 10,\n        borderRadius: 10,\n        fontSize: 15,\n        color: GRAY7,\n        outline: \"none\",\n      }}\n    />\n  );\n};\n\ntype TextareaType = {\n  onChange?: (e:string)=>void;\n  placeholder?: string;\n  style?: object;\n  maxrows?: number;\n  TextareaRef?: any;\n  disabled?: boolean;\n  defaultValue?: string;\n};\nexport const Textarea = ({ onChange, placeholder, style, maxrows, TextareaRef, disabled = false, defaultValue }: TextareaType) => {\n  const [rowIndex, setRowIndex] = useState({ height: 0, index: 0 });\n  const { height, width } = useWindowDimensions();\n  const onChangeInput = useCallback(\n    (e) => {\n      if (!!onChange) onChange(e.target.value);\n      if (!!maxrows) {\n        if (rowIndex.index < maxrows && rowIndex.height < e.target.scrollHeight)\n          setRowIndex({ index: rowIndex.index + 1, height: e.target.scrollHeight });\n        else if (rowIndex.height < e.target.scrollHeight) e.target.value = e.target.value.slice(0, -1);\n        e.target.style.maxHeight = rowIndex.height - 4 + \"px\";\n        e.target.style.height = rowIndex.height - 4 + \"px\";\n      }\n    },\n    [rowIndex, maxrows]\n  );\n  return (\n    <TextareaAutosize\n      disabled={disabled}\n      ref={TextareaRef}\n      // rows={rows ?? 1}\n      onChange={onChangeInput}\n      placeholder={placeholder}\n      maxRows={maxrows}\n      // onResize={onResizeInput}\n      defaultValue={defaultValue}\n      style={\n        style\n          ? style\n          : {\n            width: width - 60,\n            height: \"20px\",\n            backgroundColor: GRAY2,\n            border: \"none\",\n            padding: 10,\n            borderRadius: 10,\n            fontSize: 15,\n            color: GRAY7,\n            resize: \"none\",\n            fontFamily: \"AppleSDGothic\",\n            overflow: \"hidden\",\n            outline: \"none\",\n            \n          }\n      }\n    />\n  );\n};\n\ntype SearchProps = {\n  value: any;\n  placeholder?: string;\n  onChange?: (t: string) => void;\n  autoFocus?: boolean;\n};\nexport const InputSearch = ({ value, placeholder, onChange, autoFocus = false }: SearchProps) => {\n  const { height, width } = useWindowDimensions();\n  const onChangeInput = (e: any) => {\n    value.current = e.target.value;\n    if (onChange) onChange(e.target.value);\n  };\n  return (\n    <div\n      style={{\n        width: width - 60,\n        backgroundColor: GRAY2,\n        border: \"none\",\n        padding: 10,\n        borderRadius: 10,\n      }}\n    >\n      <Icon type={\"regular\"} name={\"faSearch\"} size={\"lg\"} />\n      <input\n        autoFocus={autoFocus}\n        onChange={onChangeInput}\n        style={{\n          marginLeft: 6,\n          height: \"100%\",\n          backgroundColor: GRAY2,\n          border: \"none\",\n          width: width * 0.7,\n          fontSize: width < 400 ? 13 : 14,\n          color: GRAY9,\n          outline: \"none\",\n        }}\n        placeholder={placeholder}\n      ></input>\n    </div>\n  );\n};\n\ntype InputMapProps = {\n  placeholder: string;\n  position: \"start\" | \"end\" | \"place\" | \"\";\n}\nexport const InputMap = ({ placeholder, position }: InputMapProps) => {\n  const [, setVisible] = useRecoilState(CreateBottomModalState);\n  const [, setVisibleSearch] = useRecoilState(SearchPositionState); //visibleSearch\n  const { height, width } = useWindowDimensions();\n  return (\n    <div\n      style={{\n        width: width - 60,\n        backgroundColor: GRAY2,\n        border: \"none\",\n        padding: 10,\n        borderRadius: 10,\n      }}\n      onClick={() => {\n        setVisible(false);\n        setVisibleSearch({ visible: true, position: position });\n      }}\n    >\n      <div style={{ float: \"left\", justifyContent: \"center\", alignItems: \"center\", display: \"flex\", marginRight: 6 }}>\n        <Icon type={\"regular\"} name={\"faSearch\"} size={\"lg\"} />\n      </div>\n      <div style={{ color: \"#63717f\", fontSize: 15 }}>{placeholder}</div>\n    </div>\n  );\n};\n","import { useRef } from \"react\";\nimport { InputSearch } from \"./Input\";\nimport { useRecoilState } from \"recoil\";\nimport { SearchPositionState, SearchPosResultState } from \"./recoil\";\n\nexport const KakaoNativeKey = \"KakaoAK 2ffd2e667110415efb87f207cb33b8be\";\nexport const SearchPosition = () => {\n  const [, setSearchResult] = useRecoilState(SearchPosResultState); //searchResult\n  const [visibleSearch] = useRecoilState(SearchPositionState); //setVisibleSearch\n  const title = useRef(\"\");\n\n  const onChange = (t) => {\n    if (t !== \"\")\n      fetch(`https://dapi.kakao.com/v2/local/search/keyword.json?query=${t}`, {\n        headers: {\n          Authorization: KakaoNativeKey,\n        },\n      })\n        .then((d) => d.json())\n        .then((d) => setSearchResult(d));\n  };\n  return (\n    <>\n      {visibleSearch.visible ? (\n        <div style={{ position: \"absolute\", top: 72 + 12, left: 20, zIndex: 1 }}>\n          <InputSearch value={title} placeholder={\"  .\"} autoFocus onChange={onChange} />\n        </div>\n      ) : (\n        false\n      )}\n    </>\n  );\n};\n","import { GRAY1, GRAY6, GRAY7, GRAY8, textOverflowHidden } from \"../../style\";\nimport { Icon } from \"../common/Icon\";\nimport { GRAY4 } from \"../../style/index\";\nimport useSWR from \"swr\";\nimport { fetcherBlob, fetcherGetImageByKeyword } from \"../../hook/useSWR/fetcher\";\nimport { CircularProgress, Skeleton } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useSetRecoilState } from \"recoil\";\nimport { EndPosImageState, StartPosImageState } from \"../recoil\";\n\ntype Props = {\n  title: string;\n  desc: string;\n  address: string;\n  url: string;\n  img: string | undefined | null; //null  not found image undefined loading\n  onClick?: () => void;\n  onClickDelete?: () => void;\n  imgWidth?: string;\n  padding?: string;\n  noImg?: boolean;\n  isStartPos?: boolean;\n  isEndPos?: boolean;\n};\nexport const PositionCard = ({\n  title,\n  desc,\n  address,\n  url,\n  img,\n  onClick,\n  onClickDelete,\n  imgWidth = \"100%\",\n  padding = \"16px 16px 0 16px\",\n  noImg = false,\n  isStartPos = false,\n  isEndPos = false,\n}: Props) => {\n  const [image, setImage] = useState<null | undefined | string>(noImg ? null : img);\n  const setStartPosImage = useSetRecoilState(StartPosImageState);\n  const setEndPosImage = useSetRecoilState(EndPosImageState);\n\n  //#region  \n  useEffect(() => {\n    if (!noImg && img === undefined)\n      fetch(`/v1/search/image?query=${title}&sort=date`, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"X-Naver-Client-Id\": \"yeoXdUtxPpcjkxR4G932\",\n          \"X-Naver-Client-Secret\": \"TChrYL1rxH\",\n        },\n      })\n        .then((d) => d.json())\n        .then((d) => {\n          if (d.items && d.items.length > 0) {\n            if (isStartPos) setStartPosImage(d.items[0].thumbnail);\n            if (isEndPos) setEndPosImage(d.items[0].thumbnail);\n            setImage(d.items[0].thumbnail);\n          } else {\n            if (isStartPos) setStartPosImage(null);\n            if (isEndPos) setEndPosImage(null);\n            setImage(null);\n          }\n        });\n    else if (typeof img === 'string') setImage(img)\n  }, []);\n  //#endregion\n\n  const onClickDeleteInner = () => {\n    if (typeof onClickDelete === \"function\") onClickDelete();\n    if (isStartPos) setStartPosImage(null);\n    if (isEndPos) setEndPosImage(null);\n  };\n\n  return (\n    <div style={{ padding: padding, display: \"flex\", flex: 1 }} onClick={onClick ? onClick : () => { }}>\n      {noImg ? (\n        false\n      ) : (\n        <div style={{ flex: 1, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n          {image === undefined ? (\n            <div\n              style={{\n                backgroundColor: GRAY1,\n                width: \"4em\",\n                height: \"4em\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                borderRadius: 10,\n              }}\n            >\n              <CircularProgress size={18} />\n            </div>\n          ) : image === null ? (\n            <div\n              style={{\n                backgroundColor: GRAY1,\n                width: \"4em\",\n                height: \"4em\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                borderRadius: 10,\n              }}\n            >\n              <div style={{ fontSize: 8, fontWeight: \"bold\", textAlign: \"center\" }}>Not Found Image</div>\n            </div>\n          ) : (\n            <img\n              alt={\" \"}\n              src={image}\n              width={imgWidth}\n              style={{ borderRadius: 12, height: \"4em\", width: \"4em\" }}\n              onError={() => setImage(null)}\n            />\n          )}\n        </div>\n      )}\n      <div style={{ flex: 4, marginLeft: noImg ? 8 : 16, alignSelf: \"center\" }}>\n        <div style={{ ...textOverflowHidden, fontSize: 12, color: GRAY7 }}>{address}</div>\n        <div style={{ ...textOverflowHidden, fontSize: 15, color: GRAY8 }}>{title}</div>\n        <div style={{ ...textOverflowHidden, fontSize: 13, color: GRAY6 }}>{desc}</div>\n      </div>\n      {typeof onClickDelete === \"function\" ? (\n        <div style={{ position: \"relative\", width: 16, height: 28, top: -8 }} onClick={onClickDeleteInner}>\n          <Icon type={\"regular\"} name={\"faTrashAlt\"} size={\"sm\"} color={GRAY4} />\n        </div>\n      ) : (\n        false\n      )}\n    </div>\n  );\n};\nexport const PositionCardReverse = ({\n  title,\n  desc,\n  address,\n  url,\n  img,\n  onClick,\n  onClickDelete,\n  imgWidth = \"100%\",\n  padding = \"16px 16px 0 16px\",\n  noImg = false,\n}: Props) => {\n  const [image, setImage] = useState<null | undefined | string>(noImg ? null : img);\n\n  //#region  \n  useEffect(() => {\n    if (!noImg && img === undefined)\n      fetch(`/v1/search/image?query=${title}&sort=date`, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"X-Naver-Client-Id\": \"yeoXdUtxPpcjkxR4G932\",\n          \"X-Naver-Client-Secret\": \"TChrYL1rxH\",\n        },\n      })\n        .then((d) => d.json())\n        .then((d) => {\n          if (d.items && d.items.length > 0) setImage(d.items[0].thumbnail);\n          else setImage(null);\n        });\n    else if(typeof img === 'string' )setImage(img)\n  }, []);\n  //#endregion\n\n  return (\n    <div style={{ padding: padding, display: \"flex\", flex: 1 }} onClick={onClick ? onClick : () => { }}>\n      <div style={{ flex: 4, marginLeft: noImg ? 8 : 16, alignSelf: \"center\" }}>\n        <div style={{ ...textOverflowHidden, fontSize: 12, color: GRAY7 }}>{address}</div>\n        <div style={{ ...textOverflowHidden, fontSize: 15, color: GRAY8 }}>{title}</div>\n        <div style={{ ...textOverflowHidden, fontSize: 13, color: GRAY6 }}>{desc}</div>\n      </div>\n      {noImg ? (\n        false\n      ) : (\n        <div style={{ flex: 1, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n          {image === undefined ? (\n            <div\n              style={{\n                backgroundColor: GRAY1,\n                width: \"4em\",\n                height: \"4em\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                borderRadius: 10,\n              }}\n            >\n              <CircularProgress size={18} />\n            </div>\n          ) : image === null ? (\n            <div\n              style={{\n                backgroundColor: GRAY1,\n                width: \"4em\",\n                height: \"4em\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                borderRadius: 10,\n              }}\n            >\n              <div style={{ fontSize: 8, fontWeight: \"bold\", textAlign: \"center\" }}>Not Found Image</div>\n            </div>\n          ) : (\n            <img\n              alt={\" \"}\n              src={image}\n              width={imgWidth}\n              style={{ borderRadius: 12, height: \"4em\", width: \"4em\" }}\n              onError={() => setImage(null)}\n            />\n          )}\n        </div>\n      )}\n      {typeof onClickDelete === \"function\" ? (\n        <div style={{ position: \"relative\", width: 16, height: 28, top: -8 }} onClick={onClickDelete}>\n          <Icon type={\"regular\"} name={\"faTrashAlt\"} size={\"sm\"} color={GRAY4} />\n        </div>\n      ) : (\n        false\n      )}\n    </div>\n  );\n};\n","import { BottomSheet } from \"react-spring-bottom-sheet\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  CreateBottomModalState,\n  endPosState,\n  homeTabIndexState,\n  placePosState,\n  SearchPositionState,\n  SearchPosResultState,\n  startPosState,\n} from \"../components/recoil\";\nimport \"react-spring-bottom-sheet/dist/style.css\";\nimport \"../style/switch.css\";\nimport { SCREEN_HEIGHT } from \"../style\";\nimport { GRAY8, GRAY6 } from \"./../style/index\";\nimport { PositionCard } from \"./card/PositionCard\";\nimport { useHistory } from \"react-router-dom\";\nimport { posInit } from \"../types/ChatRoom\";\nimport axios from \"axios\";\nimport { fetcherBlob, fetcherGetImageByKeyword } from \"../hook/useSWR/fetcher\";\nimport useSWR from \"swr\";\nimport { useEffect, useState } from \"react\";\n\nexport const SelectMapModal = () => {\n  // const title = useRef(\"\");\n  const [searchResult, setSearchResult] = useRecoilState(SearchPosResultState);\n  const [visibleSearch, setVisibleSearch] = useRecoilState(SearchPositionState);\n  const [, setVisibleCreate] = useRecoilState(CreateBottomModalState); //visibleCreate\n  const [, setStartPos] = useRecoilState(startPosState); //startPos\n  const [, setEndPos] = useRecoilState(endPosState); //endPos\n  const [, setPlacePos] = useRecoilState(placePosState); //placePos\n  const [, setHomeTabIndex] = useRecoilState(homeTabIndexState); //homeTabIndex\n  const history = useHistory();\n\n  const goBackPlace = (pos) => {\n    if (visibleSearch.position === \"place\") {\n      if (pos) setPlacePos(pos);\n      else setPlacePos(posInit);\n      setHomeTabIndex(0);\n      history.push(\"/course\");\n    }\n  };\n  const onDismiss = () => {\n    setSearchResult({ documents: [posInit], meta: { is_end: true, pageable_count: -1, total_count: -1 } });\n    setVisibleSearch({ visible: false, position: \"\" });\n    setVisibleCreate(true);\n    goBackPlace();\n  };\n\n  const onClick = (pos) => {\n    if (visibleSearch.position === \"start\") setStartPos(pos);\n    else if (visibleSearch.position === \"end\") setEndPos(pos);\n    setSearchResult({ documents: [posInit], meta: { is_end: true, pageable_count: -1, total_count: -1 } });\n    setVisibleSearch({ visible: false, position: \"\" });\n    setVisibleCreate(true);\n    goBackPlace(pos);\n  };\n  return (\n    <>\n      <BottomSheet\n        blocking={false}\n        open={visibleSearch.visible}\n        onDismiss={onDismiss}\n        snapPoints={({ minHeight, maxHeight }) => [maxHeight * 0.3, maxHeight * 0.4, maxHeight * 0.5, maxHeight * 0.7]}\n        defaultSnap={({ lastSnap, snapPoints }) => [SCREEN_HEIGHT * 0.3]}\n        header={\n          <div>\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 17, color: GRAY8, float: \"left\" }}>\n               \n            </div>\n            <div\n              style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY6, float: \"right\" }}\n              onClick={onDismiss}\n            >\n              \n            </div>\n          </div>\n        }\n        expandOnContentDrag={true}\n      >\n        <div style={{ padding: \"12px 20px\" }}>\n          <SearchList onClick={onClick} />\n        </div>\n      </BottomSheet>\n    </>\n  );\n};\n//#region SearchList\nconst SearchList = ({ onClick }) => {\n  const [searchResult, setSearchResult] = useRecoilState(SearchPosResultState);\n  return (\n    <>\n      {searchResult.documents[0] !== posInit &&\n        searchResult.documents.map((pos, i) => <SearchCard onClick={onClick} pos={pos} key={pos.id} />)}\n    </>\n  );\n};\n//#endregion\n//#region SearchCard\nconst SearchCard = ({ pos, onClick }) => {\n  return (\n    <PositionCard\n      noImg\n      address={pos.address_name}\n      title={pos.place_name}\n      desc={pos.category_name}\n      url={pos.place_url}\n      onClick={() => onClick(pos)}\n      padding={10}\n    />\n  );\n};\n//#endregion\n","import \"../../style/switch.css\";\nimport { useState } from 'react';\nimport { GRAY6, GRAY9 } from \"../../style\";\n\nexport const Switch = ({ defaultValue = false, title = \"\", onChange }) => {\n  const [clicked, setClicked] = useState(defaultValue);\n  const onChangeInput = (b) => {\n    if (onChange) onChange(b);\n    setClicked(b);\n  };\n  return (\n    <div style={{ display: \"flex\" }}>\n      <div>\n        <label className=\"switch\">\n          <input type=\"checkbox\" checked={clicked || false} readOnly onClick={() => onChangeInput(!clicked)} />\n          <span className=\"slider round\"></span>\n        </label>\n      </div>\n      <div style={{ color: clicked ? GRAY9 : GRAY6, marginLeft: 8 }}>{title}</div>\n    </div>\n  );\n};\n","import { useState } from \"react\";\nimport { GRAY2 } from \"../../style\";\n\nexport const Radio = ({ data,  defaultIndex, onClick }) => {\n  const [clicked, setClicked] = useState(defaultIndex);\n  const onChangeInput = (i) => {\n    setClicked(i);\n    if (onClick) onClick(i);\n  };\n  return (\n    <div style={{ flex: 1, display: \"flex\", justifyContent: \"space-evenly\" }}>\n      {data.map((item, i) => (\n        <div key={i.toString()}>\n          <div\n            onClick={() => onChangeInput(i)}\n            style={{\n              backgroundColor: clicked === i ? \"white\" : GRAY2,\n              borderStyle: \"solid\",\n              borderColor: clicked === i ? GRAY2 : \"white\",\n              padding: \"12px 16px\",\n              borderRadius: 10,\n              textAlign: \"center\",\n            }}\n          >\n            {item}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n","import { GRAY2, GRAY3, GRAY7, textOverflowHidden } from \"../../style\";\nimport \"../../index.css\";\nexport const Tag = ({ text, index }) => {\n  const marginLeft = index === 0 ? 0 : 4;\n  return (\n    <div\n      style={{\n        ...textOverflowHidden,\n        fontSize: 12,\n        color: GRAY7,\n        borderStyle: \"solid\",\n        borderColor: GRAY2,\n        borderWidth: 1,\n        borderRadius: 10,\n        lineHeight: 2,\n        height: 20,\n        padding: \"0px 6px 4px\",\n        backgroundColor: GRAY3,\n        marginLeft: marginLeft,\n      }}\n    >\n      {text}\n    </div>\n  );\n};\n","//    toJSON .\n// eslint-disable-next-line\nDate.prototype.toJSON = function () {\n  var timezoneOffsetInHours = -(this.getTimezoneOffset() / 60); //UTC minus local time\n  var sign = timezoneOffsetInHours >= 0 ? \"+\" : \"-\";\n  var leadingZero = Math.abs(timezoneOffsetInHours) < 10 ? \"0\" : \"\";\n  var correctedDate = new Date(\n    this.getFullYear(),\n    this.getMonth(),\n    this.getDate(),\n    this.getHours(),\n    this.getMinutes(),\n    this.getSeconds(),\n    this.getMilliseconds()\n  );\n  correctedDate.setHours(this.getHours() + timezoneOffsetInHours);\n  var iso = correctedDate.toISOString().replace(\"Z\", \"\");\n  return iso + sign + leadingZero + Math.abs(timezoneOffsetInHours).toString() + \":00\";\n};\n\nexport const prettyDate = (dateString) => {\n  const str = dateString;\n  const list = str.split(\".\")[0].split(\"T\");\n  const YMD = list[0].split(\"-\"); //[0][1][2]\n  const HMS = list[1].split(\":\"); //[0][1][2]\n  const day = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"][new Date(str).getDay()];\n\n  const today = new Date().toJSON();\n  const list_today = today.split(\".\")[0].split(\"T\");\n  const YMD_today = list_today[0].split(\"-\"); //[0][1][2]\n  // const HMS_today = list_today[1].split(\":\"); //[0][1][2]\n\n  if (YMD[0] !== YMD_today[0] || YMD[1] !== YMD_today[1] || Number(YMD[2]) < Number(YMD_today[2]))\n    return `${Number(YMD[0])}${Number(YMD[1])}${Number(YMD[2])}`;\n  else if (YMD[2] === YMD_today[2]) return ` ${Number(HMS[0])}${Number(HMS[1])}`;\n  else if (Number(YMD[2]) === Number(YMD_today[2]) + 1) return ` ${Number(HMS[0])}${Number(HMS[1])}`;\n  else if (Number(YMD[2]) === Number(YMD_today[2]) + 2)\n    return ` ${Number(YMD[2])} ${Number(HMS[0])}${Number(HMS[1])}`;\n  else return ` ${day} ${Number(HMS[0])}${Number(HMS[1])}`;\n};\n","import { GRAY1, GRAY3, GRAY5, GRAY8 } from \"../../style\";\nimport { Tag } from \"../common/Tag\";\nimport { PositionCard, PositionCardReverse } from \"./PositionCard\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport { ChatRoomSeletedState, loadingState, userDataState } from \"../recoil\";\nimport { prettyDate } from \"../common/prettyDate\";\nimport { useHistory } from \"react-router\";\nimport { ChatRoomInit, ChatRoomType } from \"../../types/ChatRoom\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\nimport useSWR from \"swr\";\nimport { getfetch, postfetch } from \"../common\";\nimport { UserType } from \"../../types/User\";\n\ntype Props = {\n  room: ChatRoomType;\n  onClick?: () => void;\n  noClick?: boolean;\n  style?: object;\n  showEnterBtn?: boolean;\n};\n\nexport const RoomCard = ({ room, onClick = () => {}, noClick = false, style, showEnterBtn = true }: Props) => {\n  const [chatRoomSeleted, setChatRoomSeleted] = useRecoilState(ChatRoomSeletedState);\n  const loading = useRecoilValue(loadingState);\n  const setLoading = useSetRecoilState(loadingState);\n  const userData = useRecoilValue(userDataState);\n\n  const enterTag = room ? (room.enter_users ? room.enter_users.length : 0) + \"/\" + (room.person_limit + 2) : \"\";\n  const genderTag = room ? (room.gender !== \"None\" ? (room.gender === \"M\" ? \"\" : \"\") : \"\") : \"\";\n  // const dtmTag = new Date(room.start_at).toLocaleString() + \" \";\n  const dtmTag = room ? prettyDate(room.start_at) + \" \" : \"\";\n\n  const tags = [genderTag, enterTag, dtmTag];\n  const history = useHistory();\n\n  const isSeleted = room ? chatRoomSeleted.id === room.id : 0;\n  const onClickRoom = (isParentBtn: boolean, e: any) => {\n    e.stopPropagation();\n    if (loading) {\n      alert(\" .  !\");\n      return;\n    }\n\n    if (isParentBtn) {\n      if (!noClick) {\n        onClick();\n        if (isSeleted) setChatRoomSeleted(ChatRoomInit);\n        else setChatRoomSeleted(room);\n      } else {\n        if (!userData) {\n          alert(\"    !\");\n        } else {\n          history.push(`chat/${room.id}`);\n        }\n      }\n    } else {\n      if (!userData) {\n        alert(\"    !\");\n      } else {\n        setLoading(true);\n        getfetch(`/chat-rooms?id=${room.id}`).then(async (d: ChatRoomType[]) => {\n          const chatroom = d[0];\n          const oldUserList = chatroom.enter_users.map((u: UserType) => u.id);\n          if (chatroom.enter_users.length < chatroom.person_limit + 2 || oldUserList.includes(userData.id)) {\n            postfetch(\n              `/chat-rooms/${chatroom.id}`,\n              JSON.stringify({\n                enter_users: [...oldUserList, userData.id],\n              }),\n              true,\n              \"PUT\"\n            ).then((d) => {\n              history.push(`chat/${room.id}`);\n              setLoading(false);\n            });\n          } else {\n            alert(\"  .\");\n          }\n        });\n      }\n    }\n  };\n  return (\n    <div\n      style={\n        style\n          ? style\n          : {\n              borderWidth: 1,\n              borderColor: isSeleted && !noClick ? GRAY5 : \"#E1E3E5\",\n              borderStyle: \"solid\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              borderRadius: 20,\n              marginTop: 8,\n              paddingTop: 8,\n              backgroundColor: isSeleted && !noClick ? \"white\" : GRAY1,\n              height: \"88%\",\n              alignItems: \"center\",\n            }\n      }\n      onClick={(e) => onClickRoom(true, e)}\n    >\n      <div\n        style={{\n          flex: 1,\n          justifyContent: \"center\",\n          display: \"flex\",\n          width: \"92%\",\n        }}\n      >\n        <PositionCard\n          padding={\"0\"}\n          address={room.start_route && room.start_route.address_name ? room.start_route.address_name : \"\"}\n          title={room.start_route && room.start_route.place_name ? room.start_route.place_name : \"\"}\n          desc={room.start_route && room.start_route.category_name ? room.start_route.category_name : \"\"}\n          url={room.start_route && room.start_route.place_url ? room.start_route.place_url : \"\"}\n          img={room && room.start_route && room.start_route.place_image ? room.start_route.place_image : null}\n        />\n      </div>\n      <div\n        style={{\n          flex: 1,\n          justifyContent: \"center\",\n          display: \"flex\",\n          width: \"92%\",\n          marginTop: 8,\n        }}\n      >\n        <PositionCardReverse\n          address={room && room.end_route && room.end_route.address_name ? room.end_route.address_name : \"\"}\n          title={room && room.end_route && room.end_route.place_name ? room.end_route.place_name : \"\"}\n          desc={room && room.end_route && room.end_route.category_name ? room.end_route.category_name : \"\"}\n          url={room && room.end_route && room.end_route.place_url ? room.end_route.place_url : \"\"}\n          img={room && room.end_route && room.end_route.place_image ? room.end_route.place_image : null}\n          padding={\"0\"}\n        />\n      </div>\n      <div\n        style={{\n          display: \"flex\",\n          height: 32,\n          alignItems: \"flex-end\",\n          margin: \"4px 0 6px 0\",\n          width: \"100%\",\n        }}\n      >\n        <div style={{ display: \"flex\", flex: 7, paddingLeft: 16 }}>\n          {tags.map((tag, i) => (\n            <Tag key={i.toString()} text={tag} index={i} />\n          ))}\n        </div>\n        {showEnterBtn && <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            position: \"relative\",\n            bottom: -6.5,\n            right: -0.5,\n          }}\n          onClick={\n            !noClick\n              ? !userData\n                ? () => alert(\"   !\")\n                : (e) => onClickRoom(false, e)\n              : () => {}\n          }\n        >\n          <div\n            style={{\n              borderRadius: \"20px 0px 20px 0px\",\n              backgroundColor: GRAY3,\n              color: GRAY8,\n              fontSize: 15,\n              fontWeight: \"bold\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              minWidth: 90,\n              height: 22,\n            }}\n          >\n             \n          </div>\n        </div> }\n      </div>\n    </div>\n  );\n};\n","import { BottomSheet } from \"react-spring-bottom-sheet\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport {\n  BottomModalState,\n  ChatRoomListState,\n  CreateBottomModalState,\n  EndPosImageState,\n  endPosState,\n  loadingState,\n  pathState,\n  posInitType,\n  StartPosImageState,\n  startPosState,\n  userDataState,\n} from \"./recoil\";\nimport \"react-spring-bottom-sheet/dist/style.css\";\nimport \"../style/switch.css\";\nimport { AbsoluteCenter, GRAY7, ORANGE, SCREEN_HEIGHT, styleCenter } from \"../style\";\nimport { GRAY8, GRAY6 } from \"../style/index\";\nimport { createRef, useMemo, useRef, useState } from \"react\";\nimport { getfetch, postfetch } from \"./common\";\nimport { Input, InputMap, InputSearch } from \"./Input/index\";\nimport { Switch } from \"./Input/switch\";\nimport { Radio } from \"./Input/radio\";\nimport { PositionCard } from \"./card/PositionCard\";\nimport { RoomCard } from \"./card/RoomCard\";\nimport _ from \"lodash\";\nimport { RouteType } from \"../types/Route\";\nimport { ChatRoomType, posInit } from \"../types/ChatRoom\";\nimport KakaoLogin from \"react-kakao-login\";\nimport { KaKaoLoginBtn } from \"./Btn/LoginBtn\";\nimport useWindowDimensions from \"../hook/useWindowDimensions\";\nimport useSWR from \"swr\";\nimport { fetcherBlob } from \"../hook/useSWR/fetcher\";\nimport { isIOSPublishing } from \"../App\";\n\nexport const BottomModal = () => {\n  const [visible, setVisible] = useRecoilState(BottomModalState);\n\n  const [chatRoomList] = useRecoilState(ChatRoomListState); //setChatRoomList\n  const [chatRoomListFilterd, setChatRoomListFilterd] = useState([]);\n  const filterSearchTxt = useRef(\"\");\n  const bottomRef = useRef<any>();\n  //#region image\n  const { data: image, error } = useSWR(\"http://218.153.157.69/ftp/2021_11_27_1_03_40_b85518ade0.png\", fetcherBlob);\n  //#endregion\n\n  const onClickRoom = () => {\n    if (bottomRef && bottomRef.current && bottomRef.current.snapTo)\n      bottomRef.current.snapTo(() => SCREEN_HEIGHT * 0.4 + 30, {\n        source: \"custom\",\n        velocity: 0,\n      });\n  };\n\n  const onChangeFilterSearchTxt = async (t: string) => {\n    if (t.length === 0) {\n      setChatRoomListFilterd([]);\n    } else {\n      const list = await chatRoomList.filter(\n        (room: ChatRoomType) =>\n          //   \n          room.title.includes(t) ||\n          (room.start_route && room.start_route.road_address_name && room.start_route.road_address_name.includes(t)) ||\n          (room.start_route && room.start_route.place_name && room.start_route.place_name.includes(t)) ||\n          (room.start_route && room.start_route.phone.includes(t)) ||\n          (room.start_route && room.start_route.address_name && room.start_route.address_name.includes(t)) ||\n          (room.start_route && room.start_route.category_name && room.start_route.category_name.includes(t)) ||\n          (room.end_route && room.end_route.road_address_name && room.end_route.road_address_name.includes(t)) ||\n          (room.end_route && room.end_route.place_name && room.end_route.place_name.includes(t)) ||\n          (room.end_route && room.end_route.phone.includes(t)) ||\n          (room.end_route && room.end_route.address_name && room.end_route.address_name.includes(t)) ||\n          (room.end_route && room.end_route.category_name && room.end_route.category_name.includes(t))\n      );\n      setChatRoomListFilterd(list);\n    }\n  };\n\n  const LIST = filterSearchTxt.current.length > 0 ? chatRoomListFilterd : chatRoomList;\n  return (\n    <>\n      <BottomSheet\n        ref={bottomRef}\n        blocking={false}\n        open={visible}\n        onDismiss={() => setVisible(false)}\n        snapPoints={({ minHeight, maxHeight }) => [\n          maxHeight * 0.4 + 30,\n          maxHeight * 0.5,\n          maxHeight * 0.7,\n          maxHeight * 0.9,\n        ]}\n        style={{ zIndex: 9999999999999 }}\n        defaultSnap={({ lastSnap, snapPoints }) => SCREEN_HEIGHT * 0.4}\n        header={\n          <div>\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY7, float: \"left\" }}>\n                 !\n            </div>\n            <div\n              style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY6, float: \"right\" }}\n              onClick={() => setVisible(false)}\n            >\n              \n            </div>\n          </div>\n        }\n        expandOnContentDrag={false}\n      >\n        <div style={{ padding: \"0 10px 80px 10px\" }}>\n          <div style={{ display: \"flex\", justifyContent: \"center\", marginTop: 16 }}>\n            <InputSearch\n              value={filterSearchTxt}\n              placeholder={\"  .\"}\n              onChange={onChangeFilterSearchTxt}\n            />\n          </div>\n\n          {chatRoomList.length > 0 ? (\n            LIST.map((room, i) => {\n              const ref = createRef<any>();\n              const handleClick = () => {\n                ref.current.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n              };\n              return (\n                <div key={i.toString()} ref={ref}>\n                  {/* DB   */}\n                  <RoomCard\n                    room={room}\n                    onClick={() => {\n                      onClickRoom();\n                      handleClick();\n                      // let timerId = setInterval(handleClick, 100);\n                      // setTimeout(() => clearInterval(timerId), 1000);\n                    }}\n                  />\n                </div>\n              );\n            })\n          ) : (\n            <div style={{ padding: \"8px 32px 0\" }}>\n              <div\n                style={{\n                  ...AbsoluteCenter,\n                  fontSize: 15,\n                  textAlign: \"center\",\n                  backgroundColor: \"white\",\n                  fontWeight: \"bold\",\n                  padding: 16,\n                  marginTop: 24,\n                  borderRadius: 12,\n                  borderWidth: 1,\n                  borderStyle: \"dashed\",\n                }}\n              >\n                <div>   </div>\n                <div>  .</div>\n                <div style={{ fontSize: 13, fontWeight: \"normal\", marginTop: 8 }}>\n                  <div>    </div>\n                  <div>  !</div>\n                </div>\n              </div>\n              <img src={image} width={\"100%\"} />\n            </div>\n          )}\n        </div>\n      </BottomSheet>\n    </>\n  );\n};\n\n//2021-10-05T21:50\nconst defaultValueDate = new Date().toJSON().split(\".\")[0];\nexport const CreateBottomModal = () => {\n  const setLoading = useSetRecoilState(loadingState); //loading\n\n  const [visible, setVisible] = useRecoilState(CreateBottomModalState);\n  const userData = useRecoilValue(userDataState);\n\n  const [title, setTitle] = useState(\"\");\n  const [date, setDate] = useState(defaultValueDate);\n  const [personLimit, setPersonLimit] = useState(2); // +2\n  const [genderLimit, setGenderLimit] = useState(false);\n\n  const [startPos, setStartPos] = useRecoilState(startPosState);\n  const startPosImage = useRecoilValue(StartPosImageState);\n  const [endPos, setEndPos] = useRecoilState(endPosState);\n  const endPosImage = useRecoilValue(EndPosImageState);\n  const [path] = useRecoilState(pathState); //setPath\n  const [, setChatRoomList] = useRecoilState(ChatRoomListState); //chatRoomList\n\n\n  const closeCondition = useMemo(\n    () => title !== \"\" || startPos.place_name !== \"\" || endPos.place_name !== \"\",\n    [title, startPos.place_name, endPos.place_name]\n  );\n  const postCondition = useMemo(\n    () => startPos.place_name !== \"\" && endPos.place_name !== \"\" && path.distance > 0,\n    [startPos.place_name, endPos.place_name, path.distance]\n  );\n\n  const getPostRoute = async (startPos: posInitType, endPos: posInitType) => {\n    return new Promise((resolve: (p: { responseStartRoute: RouteType; responseEndRoute: RouteType }) => void) => {\n      let responseStartRoute: RouteType | null = null;\n      let responseEndRoute: RouteType | null = null;\n      postfetch(\"/routes\", {\n        ...startPos,\n        naver_id: startPos.id,\n        x: Number(startPos.x),\n        y: Number(startPos.y),\n      }).then((d) => {\n        responseStartRoute = d;\n        if (responseStartRoute !== null && responseEndRoute !== null)\n          resolve({ responseStartRoute: responseStartRoute, responseEndRoute: responseEndRoute });\n      });\n      postfetch(\"/routes\", {\n        ...endPos,\n        naver_id: endPos.id,\n        x: Number(endPos.x),\n        y: Number(endPos.y),\n      }).then((d) => {\n        responseEndRoute = d;\n        if (responseStartRoute !== null && responseEndRoute !== null)\n          resolve({ responseStartRoute: responseStartRoute, responseEndRoute: responseEndRoute });\n      });\n    });\n    // { responseStartRoute: responseStartRoute, responseEndRoute: responseEndRoute }\n  };\n  const postCreateChatRoom = async () => {\n    if (!postCondition) {\n      alert(\"// .\");\n    } else {\n      setLoading(true);\n      const startParam: posInitType = { ...startPos, place_image: startPosImage }\n      const endParam: posInitType = { ...endPos, place_image: endPosImage}\n      const responseRoute = await getPostRoute(startParam, endParam);\n      const response = await postfetch(\"/chat-rooms\", {\n        title: title,\n        gender: genderLimit ? \"M\" : \"None\",\n        creator_id: String(userData ? userData.id : 0),\n        chat_user: String(userData ? userData.id : 0),\n        start_route: responseRoute.responseStartRoute.id,\n        end_route: responseRoute.responseEndRoute.id,\n        person_limit: personLimit,\n        start_at: date,\n        path: path.path,\n        taxiFare: path.taxiFare,\n        distance: path.distance,\n        duration: path.duration,\n        departureTime: path.departureTime,\n        // course_id: 0,\n      });\n      if (typeof response.id === \"number\") {\n        setTitle(\"\");\n        setDate(defaultValueDate);\n        setStartPos(posInit);\n        setEndPos(posInit);\n        setPersonLimit(2);\n        setGenderLimit(false);\n        setVisible(false);\n        // #   \n        getfetch(`/chat-rooms?start_at_gt=${new Date().toISOString()}`).then((d) =>\n          setChatRoomList(\n            d.map((room: any) => {\n              return { ...room, path: _.chunk(_.split(room.path, \",\"), 2) };\n            })\n          )\n        );\n        setLoading(false);\n      } else if (response.statusCode === 200) {\n        try {\n          setLoading(false);\n          alert(JSON.stringify(response.data.errors));\n        } catch (e) {\n          setLoading(false);\n          console.debug(e);\n        }\n      }\n    }\n  };\n  return (\n    <>\n      <BottomSheet\n        blocking={false}\n        open={visible}\n        onDismiss={() => setVisible(false)}\n        snapPoints={({ minHeight, maxHeight }) => [maxHeight * 0.3, maxHeight * 0.4, maxHeight * 0.5, maxHeight * 0.7]}\n        defaultSnap={({ lastSnap, snapPoints }) => SCREEN_HEIGHT * 0.4}\n        expandOnContentDrag={true}\n      >\n        <div style={{ padding: \"12px 20px\" }}>\n          <div>\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 17, color: GRAY8, float: \"left\" }}>\n               !\n            </div>\n            <BlockLogin />\n            {closeCondition ? (\n              <div\n                style={{\n                  fontFamily: \"roboto\",\n                  fontWeight: \"bold\",\n                  fontSize: 15,\n                  color: postCondition ? ORANGE : GRAY6,\n                  float: \"right\",\n                }}\n                onClick={postCreateChatRoom}\n              >\n                \n              </div>\n            ) : (\n              <div\n                style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY6, float: \"right\" }}\n                onClick={() => setVisible(false)}\n              >\n                \n              </div>\n            )}\n          </div>\n          <div style={{ marginTop: 40 }}>\n            <div style={{ marginTop: 12 }}>\n              {/* <Input\n                defaultValue={title}\n                onChange={(e) => setTitle(e)}\n                placeholder=\"  . ()\"\n              /> */}\n            </div>\n            <div style={{ marginTop: 12 }}>\n              <InputMap placeholder=\" .\" position={\"start\"} />\n              {startPos.place_name ? (\n                <PositionCard\n                  address={startPos.address_name}\n                  title={startPos.place_name}\n                  desc={startPos.category_name}\n                  url={startPos.place_url}\n                  img={undefined}\n                  isStartPos\n                  onClickDelete={() => setStartPos(posInit)}\n                />\n              ) : (\n                false\n              )}\n            </div>\n            <div style={{ marginTop: 12 }}>\n              <InputMap placeholder=\" .\" position={\"end\"} />\n              {endPos.place_name ? (\n                <PositionCard\n                  address={endPos.address_name}\n                  title={endPos.place_name}\n                  desc={endPos.category_name}\n                  url={endPos.place_url}\n                  img={undefined}\n                  isEndPos\n                  onClickDelete={() => setEndPos(posInit)}\n                />\n              ) : (\n                false\n              )}\n            </div>\n            <div style={{ marginTop: 12 }}>\n              <div style={{ fontWeight: \"bold\", margin: \"0 12px 12px\", color: GRAY7 }}>  .</div>\n              <Input defaultValue={date} onChange={setDate} type=\"datetime-local\" />\n              {/* id=\"appt\" name=\"appt\" */}\n            </div>\n            <div style={{ marginTop: 0, padding: 8 }}>\n              <Switch\n                defaultValue={genderLimit}\n                title={genderLimit ? \"\" : \" \"}\n                onChange={setGenderLimit}\n              />\n            </div>\n            <div style={{ marginTop: 12, color: GRAY7, padding: \"0 8px\", fontSize: 15 }}>\n                .\n              <div style={{ marginTop: 8 }}>\n                <Radio data={[2, 3, 4, 5, 6, 7]} defaultIndex={personLimit} onClick={setPersonLimit} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </BottomSheet>\n    </>\n  );\n};\n\nconst BlockLogin = () => {\n  const userData = useRecoilValue(userDataState);\n\n  return (\n    <>\n      {(!userData && !isIOSPublishing) ? (\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            position: \"absolute\",\n            backgroundColor: \"rgba(255,255,255,0.6)\",\n            ...styleCenter,\n            zIndex: 3,\n            flexDirection: \"column\",\n          }}\n        >\n          <KaKaoLoginBtn width={256} />\n          <div style={{ marginTop: 8, marginBottom: 60 }}>  .</div>\n        </div>\n      ) : (\n        false\n      )}\n    </>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { BottomHeader } from \"../components/BottomHeader\";\nimport { BottomTabBar } from \"../components/BottomTabBar\";\nimport { CreateBtn } from \"../components/Btn/CreateBtn\";\nimport { PreRegistrationPopup } from \"../components/Dialog/PreRegistrationPopup\";\nimport { NMAP } from \"../components/NMap\";\nimport { SearchPosition } from \"../components/SearchPosition\";\nimport { SelectMapModal } from \"../components/SelectMapModal\";\nimport { BottomModal, CreateBottomModal } from \"./../components/BottomModal\";\n\nconst HomeScreen = () => {\n  useEffect(() => {\n    const body = document.getElementsByTagName(\"body\")[0];\n    body.setAttribute(\"style\", \"overflow: hidden;\");\n    return () => body.setAttribute(\"style\", \"overflow: scroll;\");\n  }, []);\n  return (\n    <>\n      {/* <PreRegistrationPopup/> */}\n      <div style={{ position: \"fixed\", top: 0, zIndex: 1, backgroundColor: \"white\" }}>\n        <BottomHeader />\n      </div>\n      <SearchPosition />\n      <NMAP />\n      <CreateBtn />\n      <BottomModal />\n      <CreateBottomModal />\n      <SelectMapModal />\n      <BottomTabBar />\n    </>\n  );\n};\n\nexport default HomeScreen;\n","import { GRAY6, GRAY7, SUB_BLUE, textOverflowHidden } from \"../../style\";\nimport { Icon } from \"../common/Icon\";\nimport { GRAY4 } from \"../../style/index\";\nimport { ProfileIcon } from \"../Icon/ProfileIcon\";\nimport { userDataState } from \"../recoil\";\nimport { useRecoilState } from \"recoil\";\nimport { getfetch, postfetch } from \"../common\";\nimport { UserType } from \"../../types/User\";\nimport { useEffect } from \"react\";\nimport _ from \"lodash\";\nimport useSWR from \"swr\";\nimport { fetcherBlob } from \"../../hook/useSWR/fetcher\";\n\nexport const togglerFollow = async (myUserData: UserType, other_user_id: number) => {\n  if (!myUserData.id) return;\n\n  // const list = myUserData.follower.map((user)=>user.id).\n\n  // if (true) {\n  //   //  \n  //   const list = _.uniq(myUserData.like_courses.map((d) => d.id).concat(Number(other_user_id)))\n  //   await postfetch(`/users/${myUserData.id}`, JSON.stringify({ followers: list }), true, \"PUT\")\n  //   //    &&    \n  //   mutate();\n  //   //\n  //   mutate();\n  // } else {\n  //   //  \n  //   const list = myUserData.like_courses.map((d) => d.id).filter((id) => id !== Number(id))\n  //   await postfetch(`/users/${myUserData.id}`, JSON.stringify({ like_courses: list }), true, \"PUT\").then((d) => d && d.id ? setUserData(d) : false);\n  //   //   \n  //   mutate();\n  // }\n\n  // postfetch(`/users/${myUserData.id}`, {})\n};\n\ntype Props = {\n  title?: string;\n  desc?: string;\n  address?: string;\n  url?: string;\n  img?: string;\n  userId?: number;\n  onClick?: () => void;\n  onClickDelete?: () => void;\n  disable?: boolean;\n  icon?: string;\n};\nexport const ProfileCard = ({\n  title,\n  desc,\n  address,\n  img,\n  userId,\n  onClick,\n  onClickDelete,\n  disable,\n  icon = \"faCrown\",\n}: Props) => {\n  const [userData, setUserData] = useRecoilState(userDataState);\n  \n  return (\n    <div style={{ height: 80 }}>\n      <div style={{ padding: \"16px 16px 0 16px\", display: \"flex\", alignItems: \"center\" }}>\n        {/*  */}\n        <div\n          style={{ flex: 1, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}\n          onClick={onClick ? onClick : () => {}}\n        >\n          <ProfileIcon icon={icon ? icon : \"\"} img={img} />\n        </div>\n        {/*  */}\n        <div style={{ flex: 4, marginLeft: 16, alignSelf: \"center\" }} onClick={onClick ? onClick : () => {}}>\n          <div style={{ ...textOverflowHidden, fontSize: 14, color: GRAY7, fontWeight: \"bold\" }}>{address}</div>\n          <div style={{ maxWidth:130,...textOverflowHidden, fontSize: 12, marginTop: 3, color: GRAY6 }}>{title}</div>\n          <div style={{ ...textOverflowHidden, fontSize: 12, color: GRAY6 }}>{desc}</div>\n        </div>\n        {/*  */}\n        {typeof onClickDelete === \"function\" ? (\n          <div style={{ position: \"relative\", width: 16, height: 28, top: -8 }} onClick={onClickDelete}>\n            <Icon type={\"regular\"} name={\"faTrashAlt\"} size={\"sm\"} color={GRAY4} />\n          </div>\n        ) : (\n          false\n        )}\n        {/*  */}\n        {/* {!userId || userData?.id !== userId ? (\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              fontSize: 12,\n              fontWeight: \"bold\",\n              justifyContent: \"center\",\n              backgroundColor: !userData ? \"gray\" : SUB_BLUE,\n              color: \"white\",\n              borderRadius: 20,\n              padding: \"3px 20px\",\n              height: 22,\n            }}\n            onClick={() => (!userData ? alert(\"  !\") : togglerFollow(userData, 2))}\n          >\n            \n          </div>\n        ) : (\n          false\n        )} */}\n      </div>\n      {/*  */}\n      {disable ? (\n        <div\n          style={{ position: \"relative\", width: \"100%\", height: 70, background: \"rgba(255,255,255,0.6\", top: -70 }}\n        />\n      ) : (\n        false\n      )}\n    </div>\n  );\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { BottomTabBar } from \"../components/BottomTabBar\";\nimport { InputSearch } from \"../components/Input\";\n\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport useWindowDimensions from \"../hook/useWindowDimensions\";\nimport { API_URL, getfetch } from \"../components/common\";\nimport axios from \"axios\";\nimport { UserType } from \"../types/User\";\nimport { ChatRoomType } from \"../types/ChatRoom\";\nimport { List, listClasses } from \"@mui/material\";\nimport { useRecoilState } from \"recoil\";\nimport { loadingState, searchState } from \"../components/recoil\";\nimport { ProfileCard } from \"../components/card/ProfileCard\";\nimport { RoomCard } from \"../components/card/RoomCard\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { CourseCard } from \"../components/card/CourseCard\";\nimport { CourseType, CourseTypeInit } from \"../types/Course\";\nimport { Router, useHistory } from \"react-router\";\nimport { BottomHeader } from \"../components/BottomHeader\";\n\nconst styles = {\n  tabs: {\n    background: \"#fff\",\n    width: \"100%\",\n  },\n  slide: {\n    padding: 15,\n    minHeight: 700,\n    color: \"black\",\n  },\n};\n\nconst SearchScreen = () => {\n  return (\n    <>\n      <BottomHeader title=\"\" />\n      <SearchBar />\n      <ResultTabs />\n      <BottomTabBar />\n    </>\n  );\n};\n\nconst SearchBar = () => {\n  const { height, width } = useWindowDimensions();\n  const filterSearchTxt = useRef();\n\n  const [list, setList] = useRecoilState(searchState);\n  const [loading, setLoading] = useRecoilState(loadingState); //loading\n\n  // #region  \n  const body = document.getElementsByTagName(\"body\")[0];\n  body.setAttribute('style', \"overflow: hidden;\");\n  useEffect(() => {\n    body.removeAttribute(\"style\");\n    return () => setLoading(false);\n  }, [body]);\n  // #endregion\n\n  //#region  /  /  \n  let cancelToken = axios.CancelToken.source(); //<- 1: \n  const onChangeFilterSearchTxt = async (t: string) => {\n    if (t.length === 0) {\n      //   \n      if (loading) setLoading(false);\n      cancelToken.cancel(); //<- 2:   axios \n      cancelToken = axios.CancelToken.source(); //<- 3:   \n      setList({ users: [], rooms: [], courses: [] });\n    } else {\n      cancelToken.cancel(); //<- 2:   axios \n      cancelToken = axios.CancelToken.source(); //<- 3:   \n      //#region  API\n      setLoading(true);\n      let list: { users: UserType[]; rooms: ChatRoomType[]; courses: CourseType[] } = {\n        users: [],\n        rooms: [],\n        courses: [],\n      };\n      let checkCount = 0;\n      const checkList = () => {\n        if (checkCount === 2) {\n          setList(list);\n          setLoading(false);\n        } else checkCount++;\n      };\n      //   \n      axios.get(`${API_URL}/users?_q=${t}`, { cancelToken: cancelToken.token }).then((d) => {\n        list.users = d.data;\n        checkList();\n      });\n      //  /  => TEST    ! /  !\n      // route    !\n      axios.get(`${API_URL}/chat-rooms?_q=${t}`, { cancelToken: cancelToken.token }).then((d) => {\n        list.rooms = d.data;\n        checkList();\n      });\n      //  title  => content  \n      axios.get(`${API_URL}/courses?_q=${t}`, { cancelToken: cancelToken.token }).then((d) => {\n        list.courses = d.data;\n        checkList();\n      });\n      //#endregion\n    }\n  };\n  //#endregion\n\n  return (\n    <div style={{ width: width, display: \"flex\", justifyContent: \"center\",marginTop:8 }}>\n      <InputSearch\n        value={filterSearchTxt}\n        placeholder={\"/,/ .\"}\n        onChange={onChangeFilterSearchTxt}\n      />\n    </div>\n  );\n};\n\nconst ResultTabs = () => {\n  const [index, setIndex] = useState(0);\n  const [list,] = useRecoilState(searchState);//setList\n  const history = useHistory();\n  const { height, width } = useWindowDimensions();\n\n  const handleChange = (e: any, i: number) => setIndex(i);\n  const handleChangeIndex = (i: number) => setIndex(i);\n  \n  const onClick = (id: number) => { history.push(`user/${id}`) }\n  return (\n    <>\n      <Tabs value={index} onChange={handleChange} style={styles.tabs}>\n        <Tab label=\"\" style={{ width: width*0.33, fontSize: 15 }} />\n        <Tab label=\"\" style={{ width: width * 0.34, fontSize: 15 }} />\n        <Tab label=\"\" style={{ width: width * 0.33, fontSize: 15 }} />\n      </Tabs>\n      <SwipeableViews index={index} onChangeIndex={handleChangeIndex}>\n        <div>\n          {list.users.length > 0 ? (\n            <Swiper slidesPerView={1} direction={\"vertical\"} speed={500} height={80}>\n              {list.users.map((user, i: number) => (\n                <SwiperSlide key={i.toString()}>\n                  <ProfileCard\n                    address={user.nickname}\n                    title={user.greeting}\n                    desc={(user.device ?? \"\") + (user.gender ?? \"\") + user.username}\n                    img={user.profile_image ? user.profile_image : undefined}\n                    icon={\"faUser\"}\n                    onClick={() => onClick(user.id)}\n                    disable={false}\n                  />\n                </SwiperSlide>\n              ))}\n            </Swiper>\n          ) : (\n            false\n          )}\n        </div>\n        <div>\n          {list.rooms.length > 0 ? (\n            <Swiper slidesPerView={1} direction={\"vertical\"} speed={500} height={253} style={{padding:\"0px 16px\"}} >\n              {list.rooms.map((room, i: number) => (\n                <SwiperSlide key={i.toString()}>\n                  <RoomCard room={room} noClick />\n                </SwiperSlide>\n              ))}\n            </Swiper>\n          ) : (\n            false\n          )}\n        </div>\n        <div>\n          {list.courses.length > 0 ? (\n            <Swiper slidesPerView={1} direction={\"vertical\"} speed={500} height={256}>\n              {list.courses.map((course, i: number) => (\n                <SwiperSlide key={i.toString()}>\n                  <CourseCard course={course} width={300} />\n                </SwiperSlide>\n              ))}\n            </Swiper>\n          ) : (\n            false\n          )}\n        </div>\n      </SwipeableViews>\n    </>\n  );\n};\nexport default SearchScreen;\n","import React, { useEffect, useRef } from \"react\";\n\nimport Rating from \"@mui/material/Rating\";\nimport { styled } from \"@mui/material/styles\";\n\nimport { Icon } from \"../common/Icon\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\nimport { Checkbox, SwitchUnstyled } from \"@mui/material\";\nimport { GRAY7, GRAY8, styleCenter } from \"../../style\";\n\nimport { useRecoilState } from \"recoil\";\nimport {  loadingState, shareModalState, userDataState } from \"../recoil\";\n\nimport { FcExpand, FcExport, FcIdea, FcLike, FcReading, FcReadingEbook, FcSettings, FcShare, FcShop } from \"react-icons/fc\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { CItem } from \"../Input/CommandInput/CItem\";\nimport { GoLinkExternal } from \"react-icons/go\";\nimport {  useHistory, useParams } from \"react-router\";\nimport { CourseType } from \"../../types/Course\";\nimport { getfetch, postfetch } from \"../common\";\nimport _ from \"lodash\";\nimport { Switch } from \"@material-ui/core\";\nimport { isIOSPublishing } from \"../../App\";\n\nconst fontStyle = {\n  fontSize: 15,\n  fontWeight: 900,\n};\ntype Props = {\n  disable?: boolean;\n  course?: CourseType;\n  mutate?: any;\n}\nexport const CourseActionField = ({ mutate, disable = false, course }: Props) => {\n  const [modalInfo, setModalInfo] = useRecoilState(shareModalState);\n  const [loading, setLoading] = useRecoilState(loadingState);\n  const [userData, setUserData] = useRecoilState(userDataState);\n  const { id: courseId }: { id: string | undefined } = useParams();\n  const isLikeRef = useRef<boolean>(userData ? userData.like_courses.map((d) => d.id).includes(Number(courseId)) : false)\n  const onCopy = () => alert(\"URL .\")\n\n  //#region Like\n  const onClickLike = async (courseId: string | undefined) => {\n    isLikeRef.current = !isLikeRef.current\n\n    if (userData?.id && courseId) {\n      if (isLikeRef.current) {\n        //  \n        const list = _.uniq(userData.like_courses.map((d) => d.id).concat(Number(courseId)))\n        await postfetch(`/users/${userData.id}`, JSON.stringify({ like_courses: list }), true, \"PUT\").then((d) => d && d.id ? setUserData(d) : false);\n        //   \n        mutate();\n      } else {\n        //  \n        const list = userData.like_courses.map((d) => d.id).filter((id) => id !== Number(id))\n        await postfetch(`/users/${userData.id}`, JSON.stringify({ like_courses: list }), true, \"PUT\").then((d) => d && d.id ? setUserData(d) : false);\n        //   \n        mutate();\n      }\n    }\n  }\n  //#endregion\n  return (\n    <>\n      <div\n        style={{\n          ...styleCenter,\n          ...fontStyle,\n          marginBottom: 0,\n          borderWidth: 0,\n          borderStyle: \"solid\",\n          padding: 16,\n          borderRadius: 16,\n          marginTop: 8,\n          filter: disable ? 'grayscale(100%)' : \"\",\n          boxShadow: \"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px\",\n        }}\n      >\n        <div style={{ flex: 1, ...styleCenter }}>\n          {/*  */}\n          <Checkbox\n            onClick={() => onClickLike(courseId)}\n            defaultChecked={disable || isLikeRef.current}\n            disabled={!userData || disable}\n            icon={<Icon name={\"faHeart\"} size={36} type={\"light\"} color={\"gray\"} />}\n            checkedIcon={<Icon name={\"faHeart\"} size={36} color={\"#ff6d75\"} />}\n          />\n          <div style={{ marginLeft: 12 }}>\n            <div style={{ ...styleCenter, fontSize: 9, fontWeight: 'normal' }}></div>\n            <div style={{ ...styleCenter, fontSize: 13, fontWeight: 'normal', marginTop: -1 }}>\n              {course ? course?.like_users.length : '1.1k'}\n            </div>\n          </div>\n        </div>\n        <div style={{ flex: 1, ...styleCenter }} onClick={() => disable ? () => { } : (!userData && !isIOSPublishing) ? alert(\"  !\") : setModalInfo({ visible: !modalInfo.visible })}>\n\n          {/*  */}\n          <Icon name={\"faShareAlt\"} size={32} type={\"solid\"} color={!userData ? 'gray' : \"#0066d3\"} />\n          <div style={{ marginLeft: 12 }}>\n            <div style={{ ...styleCenter, fontSize: 9, fontWeight: 'normal' }}>SNS</div>\n            <div style={{ ...styleCenter, fontSize: 13, fontWeight: 'normal', marginTop: -1 }}></div>\n          </div>\n        </div>\n        <div style={{ flex: 1, ...styleCenter }}>\n\n          {/*    */}\n          <div style={{ ...fontStyle, ...styleCenter, }}>\n            <FcReading size={32} />\n            <div style={{ marginLeft: 2 }}>\n              <div style={{ ...styleCenter, fontSize: 9, fontWeight: 'normal' }}></div>\n              <div style={{ ...styleCenter, fontSize: 13, fontWeight: 'normal', marginTop: 0 }}>\n                {course ? (course?.views ?? 0) : '1.1k'}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style={{ flex: 1, ...styleCenter }}>\n\n          {/* URL   */}\n          <CopyToClipboard text={location.href} onCopy={disable ? () => { } : onCopy}>\n            <div style={{ ...fontStyle, ...styleCenter, }}>\n              <GoLinkExternal style={{ ...styleCenter }} size={32} color={GRAY7} />\n              <div style={{ marginLeft: 2 }}>\n                <div style={{ ...styleCenter, fontSize: 11, fontWeight: 'normal' }}>URL</div>\n                <div style={{ ...styleCenter, fontSize: 9, fontWeight: 'normal', marginTop: -4 }}>copy</div>\n              </div>\n            </div>\n          </CopyToClipboard>\n        </div>\n      </div>\n    </>\n  );\n};","import { useState } from \"react\";\nimport { CropState, FilePathInit, FilePathState } from \"../recoil\";\nimport { useRecoilState } from \"recoil\";\nimport { Icon } from \"../common/Icon\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\n\ntype Props = {\n  isEdit?: boolean;\n  imgUrl?: string;\n}\nexport const CourseImage = ({ isEdit = false, imgUrl }: Props) => {\n  const [filepath, setFilepath] = useRecoilState(FilePathState);\n  const { height, width } = useWindowDimensions();\n  // const [isCrop, setIsCrop] = useState(false);\n\n  return (\n    <div>\n      <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\n        {/*      */}\n        <div\n          style={{\n            width: width,\n            backgroundImage: !isEdit\n              ? `linear-gradient(to bottom,rgba(0,0,0,0),rgba(255,255,255, 0),rgba(255,255,255, 0),rgba(255,255,255, 0),rgba(255,255,255, 0),rgba(255,255,255, 1)),url(${imgUrl ?? filepath.previewURL\n              })`\n              : filepath.previewURL != \"\"\n                ? `linear-gradient(to bottom,rgba(0,0,0,0),rgba(255,255,255, 1)),url(${imgUrl ?? filepath.previewURL})`\n                : `linear-gradient(to bottom,rgba(200,200,200,1),rgba(200,200,200, 1),rgba(200,200,200, 1),rgba(255,255,255, 0.2))`,\n            backgroundSize: \"cover\",\n            backgroundRepeat: \"no-repeat\",\n            height: (width * 200) / 200,\n          }}\n        />\n        {/*  */}\n        {isEdit ? (\n          <div style={{ position: \"relative\", top: -125 }}>\n            {filepath.previewURL != \"\" ? (\n              <div style={{ display: \"flex\" }}>\n                <div style={inputFileCSSNone}>\n                  <Icon name={\"faEdit\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\n                </div>\n                <div style={{ ...inputFileCSSNone, marginLeft: 5 }} onClick={() => setFilepath(FilePathInit)}>\n                  <Icon name={\"faTrash\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\n                </div>\n              </div>\n            ) : (\n              <label style={inputFileCSS} />\n            )}\n          </div>\n        ) : (\n          false\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst inputFileCSSNone = {\n  padding: \"6px 12px\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  display: \"flex\",\n  backgroundColor: \"rgba(255,255,255,0.8)\",\n  borderRadius: \"20px\",\n  color: \"white\",\n  cursor: \"pointer\",\n};\nconst inputFileCSS = {\n  fontSize: 13,\n  padding: \"6px 25px\",\n  backgroundColor: \"transparent\",\n  borderRadius: \"4px\",\n  color: \"white\",\n  cursor: \"pointer\",\n};\n","import { Icon } from \"./common/Icon\";\nimport { GRAY1, GRAY8, GRAY9 } from \"./../style/index\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const BackHeader = ({color=GRAY9}) => {\n  const history = useHistory();\n  const goBack = () => history.goBack();\n\n  return (\n    <div\n      onClick={goBack}\n      style={{\n        position: \"absolute\",\n        margin: 16,\n        backgroundColor: 'white',\n        borderRadius: 100,\n        width: 20,\n        height: 20,\n        boxShadow: `0 0 4px 4px ${GRAY1}`,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent:'center'\n      }}\n    >\n      <Icon name={\"faChevronLeft\"} color={color} type={\"light\"} />\n    </div>\n  );\n};\n","import { PositionCard } from './../../card/PositionCard';\n\nexport const CPlace = ({index, data}) => {\n  return (\n      <PositionCard\n        key={index.toString()}\n        address={data.content.address_name}\n        title={data.content.place_name}\n        desc={data.content.category_name}\n        url={data.content.place_url}\n        img={\"https://picsum.photos/200\"}\n        imgWidth={70}\n        // onClick={() => onClick(data.content)}\n      />\n  );\n}","import { GRAY6, GRAY7, GRAY8 } from \"../../../style\";\nimport { useState, useCallback, useRef, useEffect } from \"react\";\nimport TextareaAutosize from \"react-autosize-textarea\";\nimport { offset, position } from \"caret-pos\";\nimport { useRecoilState } from \"recoil\";\nimport { commandInputListState, commandWindowState } from \"../../recoil\";\nimport { getPlatform } from \"../../common/function/getPlatform\";\nimport _ from \"lodash\";\nimport useWindowDimensions from \"../../../hook/useWindowDimensions\";\nimport { ContentItemType } from \"../../../types/Command\";\nexport const platform = getPlatform();\n\ntype Props = {\n  style?: any;\n  maxrows?: number;\n  index: number;\n  data: ContentItemType;\n  disable?: boolean;\n}\nexport const CTextarea = ({ style, maxrows, index, data, disable = false }: Props) => {\n  const [placeholder, setPlaceHolder] = useState(\"\");\n  const [rowIndex, setRowIndex] = useState({ height: 0, index: 0 });\n  const [commandWindow, setCommandWindow] = useRecoilState(commandWindowState);\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  const { height, width } = useWindowDimensions();\n  const ref = useRef<any>();\n  //    \n  const beforeInput = useRef(\"\");\n\n  //#region   \n  useEffect(() => {\n    if (ref && ref.current && data && typeof data.content === \"string\") {\n      ref.current.innerHTML = data.content\n    }\n  }, [ref.current])\n  //#endregion\n  //#region   \n  let codes = \"\";\n  useEffect(() => {\n    if (!!commandWindow.color && commandWindow.index === index) {\n      let color = GRAY8;\n      let backgroundColor = \"white\";\n      switch (commandWindow.color) {\n        case \"red\":\n          color = \"#FF003D\";\n          break;\n        case \"blue\":\n          color = \"#0057FF\";\n          break;\n        case \"brown\":\n          color = \"#91624A\";\n          break;\n        case \"purple\":\n          color = \"#8F00FF\";\n          break;\n        case \"yellow\":\n          backgroundColor = \"#FFF500\";\n          break;\n        case \"orange\":\n          backgroundColor = \"#FF7D3A\";\n          break;\n        case \"gray\":\n          backgroundColor = \"#E8ECEF\";\n          break;\n        default:\n          break;\n      }\n      if (ref)\n        if (ref.current && ref.current.innerHTML) {\n          const origin = ref.current.innerHTML;\n          const left = origin.slice(0, commandWindow.pos);\n          const right = origin.slice(commandWindow.pos, origin.length);\n          ref.current.innerHTML = `${left}<span style='color:${color};background-color:${backgroundColor}'>${commandWindow.color}</span>${right}`;\n        }\n    }\n  }, [commandWindow.color]);\n  //#endregion\n  const onInput = useCallback((e: any) => {\n    //#region placeholer \n    if (placeholder !== \"\" && e.target.innerHTML !== \"\") setPlaceHolder(\"\");\n    //#endregion\n    //#region     (pos)\n    let pos;\n    const len =\n      beforeInput.current.length > e.target.innerHTML.length ? beforeInput.current.length : e.target.innerHTML.length;\n    for (pos = 0; pos < len; pos++) {\n      if (beforeInput.current[pos] !== e.target.innerHTML[pos]) break;\n    }\n    //#endregion\n    //#region #   ||  ( )\n    if (\n      e.nativeEvent.data == \"#\" ||\n      (platform === \"android\" && !!e.nativeEvent.data && e.nativeEvent.data[e.nativeEvent.data.length - 1] === \"#\")\n    ) {\n      let { left, top, height } = offset(ref.current);\n      //#region   & height    \n      // \n      if (left + 260 > width && left < 260) {\n        left = commandWindow.left;\n      } else if (width - left < 260 && left > 260) left -= 280;\n      // \n      let heightCommand = 448;\n      top -= heightCommand;\n      if (top < 0) {\n        heightCommand += top - height;\n        top = 0;\n      }\n      //#endregion\n      setCommandWindow({\n        ...commandWindow,\n        beforeInnerHTML: e.target.innerHTML,\n        visible: true,\n        top: top,\n        left: left,\n        index: index,\n        height: heightCommand,\n        pos: pos,\n      });\n    } else {\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n    }\n    //#region \n      beforeInput.current = e.target.innerHTML;\n      setCommandInputList([\n        ...commandInputList.slice(0, index),\n        { ...commandInputList[index], content: e.target.innerHTML },\n        ...commandInputList.slice(index + 1, 999),\n      ]);\n    //#endregion\n    //#endregion #  \n    //#region    \n    if (!!maxrows) {\n      if (rowIndex.index < maxrows && rowIndex.height < e.target.scrollHeight)\n        setRowIndex({ index: rowIndex.index + 1, height: e.target.scrollHeight });\n      else if (rowIndex.height < e.target.scrollHeight) e.target.value = e.target.value.slice(0, -1);\n      e.target.style.maxHeight = rowIndex.height - 4 + \"px\";\n      e.target.style.height = rowIndex.height - 4 + \"px\";\n    }\n    //#endregion    \n  }, [rowIndex, beforeInput.current, commandWindow, index]);\n  const onBlur = useCallback(() => {\n    setPlaceHolder(\"\");\n  },[]);\n  const onFocus = useCallback(() => {\n    setCommandWindow({\n      ...commandWindow,\n      visible: false,\n      top: 0,\n      left: 0,\n      index: index,\n      height: 0,\n      pos: 0,\n    });\n    if (ref.current.innerHTML === \"\") setPlaceHolder('  \"#\" .');\n  }, [commandWindow, ref]);\n\n  return (\n    <>\n      <div\n        ref={ref}\n        onFocus={onFocus}\n        onInput={onInput}\n        onBlur={onBlur}\n        dangerouslySetInnerHTML={{ __html: codes }}\n        contentEditable={!disable}\n        suppressContentEditableWarning\n        spellCheck={false}\n        style={{ width: width - 60, color: GRAY7, outline: \"none\" }}\n      />\n      <div style={{ color: GRAY6, fontSize: 15, position: \"relative\", height: 0, top: \"-1.4em\", zIndex: -1 }}>{index === 0 && (!data || data.content === \"\") ? '  !' : placeholder}</div>\n    </>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { commandInputListState, CropInit, CropState } from \"./../../recoil\";\nimport { useRecoilState } from \"recoil\";\nimport { Icon } from \"./../../common/Icon\";\nimport useWindowDimensions from \"../../../hook/useWindowDimensions\";\n\nexport const loadXHR = (url)=>{\n  return new Promise((resolve, reject) => {\n    try {\n      const xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", url);\n      xhr.responseType = \"blob\";\n      xhr.onerror = () => {\n        // reject(`Network error: ${event}`);\n        reject();\n      };\n      xhr.onload = () => {\n        if (xhr.status === 200) {\n          resolve(xhr.response);\n        } else {\n          // reject(`XHR load error: ${xhr.statusText}`);\n          reject(\"\");\n        }\n      };\n      xhr.send();\n    } catch (err) {\n      // reject(err.message);\n      reject(\"\");\n    }\n  });\n}\n\nexport const CImage = ({ index, data }) => {\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  const [crop, setCrop] = useRecoilState(CropState);\n  // const [filepath, setFilepath] = useState({ file: \"\", previewURL: \"\" });\n  const [isCrop, setIsCrop] = useState(false);\n  const filepath = commandInputList[index].content;\n  const { height, width } = useWindowDimensions();\n  //#region         \n  useEffect(() => {\n    loadXHR(filepath.file)\n      .then((f) => {\n        try {\n          // if (typeof f.type === \"string\") console.debug(f.type.includes(\"image\"), f);\n        } catch (e) {}\n      })\n      .catch(() => {\n        setCommandInputList([\n          ...commandInputList.slice(0, index),\n          { ...commandInputList[index], content: { file: \"\", previewURL: \"\" } },\n          ...commandInputList.slice(index + 1, 999),\n        ]);\n      });\n  }, []);\n  //#endregion\n  //#region   \n  useEffect(() => {\n    if (!crop.visible && isCrop) {\n      setCommandInputList([\n        ...commandInputList.slice(0, index),\n        { ...commandInputList[index], content: { file: crop.file, previewURL: crop.previewURL, type: crop.type } },\n        ...commandInputList.slice(index + 1, 999),\n      ]);\n      // setFilepath({ file: crop.file, previewURL: crop.previewURL });\n      setIsCrop(false);\n      setCrop(CropInit);\n    }\n  }, [crop.visible]);\n  //#endregion\n  const onDeletePhoto = () => {\n    setCommandInputList([\n      ...commandInputList.slice(0, index),\n      { ...commandInputList[index], content: { file: \"\", previewURL: \"\" } },\n      ...commandInputList.slice(index + 1, 999),\n    ]);\n  };\n\n  const onChangeInput = (e) => {\n    try {\n      e.preventDefault();\n      let reader = new FileReader();\n      let file = e.target.files[0];\n      reader.onloadend = () => {\n        setIsCrop(true);\n        setCrop({ visible: true, file: file, previewURL: reader.result, type: file.type });\n      };\n      reader.readAsDataURL(file);\n    } catch (e) {\n      setIsCrop(false);\n      setCrop(CropInit);\n    }\n  };\n\n  const style =\n    filepath.previewURL !== \"\"\n      ? {\n          backgroundImage: `url(${filepath.previewURL})`,\n          backgroundColor: \"transparent\",\n        }\n      : {\n          backgroundColor: \"rgba(0,0,0,0.1)\", //transparent\n        };\n  return (\n    <div>\n      <div>\n        {/*      */}\n        <div\n          style={{\n            ...style,\n            height: ((width - 64) * 200) / 415,\n            width: width - 64,\n            backgroundSize: \"cover\",\n            backgroundRepeat: \"no-repeat\",\n          }}\n        />\n        {/*   */}\n        <div\n          style={{\n            position: \"relative\",\n            height: 0,\n            left: filepath.previewURL == \"\" ? (width - 175 - 64) / 2 : (width - 100 - 64) / 2,\n            top: -(((width - 64) * 200) / 415 / 2 + 15),\n          }}\n        >\n          {filepath.previewURL !== \"\" ? (\n            <div style={{ display: \"flex\" }}>\n              <div\n                style={inputFileCSSNone}\n                onClick={() => {\n                  setCrop({ visible: true, file: filepath.file, previewURL: filepath.previewURL });\n                  setIsCrop(true);\n                }}\n              >\n                <Icon name={\"faEdit\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\n              </div>\n              <div style={{ ...inputFileCSSNone, marginLeft: 5 }} onClick={onDeletePhoto}>\n                <Icon name={\"faTrash\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\n              </div>\n            </div>\n          ) : (\n            <label style={inputFileCSS} htmlFor={\"input-file\" + index}>\n               .\n            </label>\n          )}\n        </div>\n        <input\n          type=\"file\"\n          id={\"input-file\" + index}\n          value={\"\"}\n          style={{ display: \"none\" }}\n          accept=\"image/*\"\n          onChange={onChangeInput}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst inputFileCSSNone = {\n  padding: \"6px 12px\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  display: \"flex\",\n  backgroundColor: \"rgba(255,255,255,0.8)\",\n  borderRadius: \"20px\",\n  color: \"white\",\n  cursor: \"pointer\",\n};\nconst inputFileCSS = {\n  fontSize: 13,\n  padding: \"6px 25px\",\n  backgroundColor: \"#FF6600\",\n  borderRadius: \"4px\",\n  color: \"white\",\n  cursor: \"pointer\",\n};\n","import { GRAY6, GRAY7, GRAY8 } from \"../../../style\";\nimport { useState, useCallback, useRef, useEffect, useMemo } from \"react\";\nimport TextareaAutosize from \"react-autosize-textarea\";\nimport { offset, position } from \"caret-pos\";\nimport { useRecoilState } from \"recoil\";\nimport { commandInputListState, commandWindowState } from \"../../recoil\";\nimport { platform } from \"./CTextarea\";\nimport useWindowDimensions from \"../../../hook/useWindowDimensions\";\nimport { ContentItemType } from \"../../../types/Command\";\n\ntype Props = {\n  type: string;\n  maxrows?: number;\n  index: number;\n  data: ContentItemType;\n  disable?: boolean;\n}\nexport const CH = ({ index, type = \"h1\", data, disable }: Props) => {\n  const { height, width } = useWindowDimensions();\n  const [placeholder, setPlaceHolder] = useState( \"\");\n  const [rowIndex, setRowIndex] = useState({ height: 0, index: 0 });\n  const [commandWindow, setCommandWindow] = useRecoilState(commandWindowState);\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  //    \n  const beforeInput = useRef(\"\");\n  const ref = useRef<any>();\n\n  //#region   \n  useEffect(() => {\n    if (ref && ref.current && data && typeof data.content === \"string\") {\n      ref.current.innerHTML = data.content\n    }\n  }, [ref.current])\n  //#endregion\n  //#region   \n  let codes = \"\";\n  useEffect(() => {\n    if (!!commandWindow.color && commandWindow.index === index) {\n      let color = GRAY8;\n      let backgroundColor = \"white\";\n      switch (commandWindow.color) {\n        case \"red\":\n          color = \"#FF003D\";\n          break;\n        case \"blue\":\n          color = \"#0057FF\";\n          break;\n        case \"brown\":\n          color = \"#91624A\";\n          break;\n        case \"purple\":\n          color = \"#8F00FF\";\n          break;\n        case \"yellow\":\n          backgroundColor = \"#FFF500\";\n          break;\n        case \"orange\":\n          backgroundColor = \"#FF7D3A\";\n          break;\n        case \"gray\":\n          backgroundColor = \"#E8ECEF\";\n          break;\n        default:\n          break;\n      }\n      if (ref)\n        if (ref.current && ref.current.innerHTML) {\n          const origin = ref.current.innerHTML;\n          const left = origin.slice(0, commandWindow.pos);\n          const right = origin.slice(commandWindow.pos, origin.length);\n          ref.current.innerHTML = `${left}<span style='color:${color};background-color:${backgroundColor}'>${commandWindow.color}</span>${right}`;\n        }\n    }\n  }, [commandWindow.color]);\n  //#endregion\n\n  const onInput = useCallback(\n    (e) => {\n      //#region placeholer \n      if (placeholder !== \"\" && e.target.innerHTML !== \"\") setPlaceHolder(\"\");\n      //#endregion\n      //#region     (pos)\n      let pos;\n      const len =\n        beforeInput.current.length > e.target.innerHTML.length ? beforeInput.current.length : e.target.innerHTML.length;\n      for (pos = 0; pos < len; pos++) {\n        if (beforeInput.current[pos] !== e.target.innerHTML[pos]) break;\n      }\n      //#endregion\n      //#region #   ||  ( )\n      if (\n        e.nativeEvent.data == \"#\" ||\n        (platform === \"android\" && !!e.nativeEvent.data && e.nativeEvent.data[e.nativeEvent.data.length - 1] === \"#\")\n      ) {\n        let { left, top, height } = offset(ref.current);\n        //#region   & height    \n        // \n        if (left + 260 > width && left < 260) {\n          left = commandWindow.left;\n        } else if (width - left < 260 && left > 260) left -= 280;\n        // \n        let heightCommand = 448;\n        top -= heightCommand;\n        if (top < 0) {\n          heightCommand += top - height;\n          top = 0;\n        }\n        //#endregion\n        setCommandWindow({\n          ...commandWindow,\n          visible: true,\n          top: top - 25,\n          left: left,\n          index: index,\n          height: heightCommand,\n          pos: pos,\n        });\n      } else {\n        setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n      }\n      //#region \n      beforeInput.current = e.target.innerHTML;\n      setCommandInputList([\n        ...commandInputList.slice(0, index),\n        { ...commandInputList[index], content: e.target.innerHTML },\n        ...commandInputList.slice(index + 1, 999),\n      ]);\n      //#endregion\n      //#endregion #  \n    },\n    [rowIndex, beforeInput.current, commandWindow, index]\n  );\n  const onBlur = useCallback(() => {\n    setPlaceHolder(\"\");\n  },[]);\n  const onFocus = useCallback(()=>{\n    setCommandWindow({\n      ...commandWindow,\n      visible: false,\n      top: 0,\n      left: 0,\n      index: index,\n      height: 0,\n      pos: 0,\n    });\n\n    if (ref.current.innerHTML === \"\") setPlaceHolder('  \"#\" .');\n  }, [commandWindow, ref]);\n\n  const style: any = useMemo(\n    () => (type == \"h1\" ? { fontSize: 21, fontWeight: \"bold\" } : type == \"h2\" ? { fontSize: 18 } : { fontSize: 16 }),\n    []\n  );\n\n  return (\n    <>\n      <div\n        ref={ref}\n        onFocus={onFocus}\n        onInput={onInput}\n        onBlur={onBlur}\n        dangerouslySetInnerHTML={{ __html: codes }}\n        contentEditable={!disable}\n        suppressContentEditableWarning\n        spellCheck={false}\n        style={{ width: width - 60, color: GRAY7, outline: \"none\", ...style }}\n      />\n      <div style={{ color: GRAY6, fontSize: 15, position: \"relative\", height: 0, top: \"-1.4em\",zIndex:-1 }}>{placeholder}</div>\n    </>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport { commandInputListState } from \"../../recoil\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\n\nimport \"../../../App.css\";\nimport { ContentItemType } from \"../../../types/Command\";\n\nconst KeyCodes = {\n  comma: 188,\n  space: 32,\n  enter: [10, 13],\n};\n\nconst delimiters = [...KeyCodes.enter, KeyCodes.comma, KeyCodes.space];\n\n// tagList:[], inputValue:\"\"\ntype Props = {\n  index: number;\n  data: ContentItemType;\n  disable?: boolean;\n}\nexport const CTag = ({ index, disable, data }: Props) => {\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  const tagList = disable ? data.content.tagList  : commandInputList[index].content.tagList;\n  const inputValue = disable ? data.content.inputValue :commandInputList[index].content.inputValue;\n \n  //#region \n  // \n  const handleDelete = (i: number) => {\n    setCommandInputList([\n      ...commandInputList.slice(0, index),\n      {\n        ...commandInputList[index],\n        content: { inputValue: inputValue, tagList: tagList.filter((tag: string, index: number) => index !== i) },\n      },\n      ...commandInputList.slice(index + 1, 999),\n    ]);\n  };\n  // \n  const handleAddition = (tag: any) => {\n    setCommandInputList([\n      ...commandInputList.slice(0, index),\n      { ...commandInputList[index], content: { inputValue: \"\", tagList: [...tagList, tag] } },\n      ...commandInputList.slice(index + 1, 999),\n    ]);\n  };\n  //#endregion\n  return (\n    <>\n      <ReactTags\n        classNames={disable ? { tags : \"disableTag\"} : undefined}\n        placeholder={\", ,   .\"}\n        maxLength={30}\n        allowDeleteFromEmptyInput={false}\n        inline\n        tags={tagList}\n        readOnly={disable}\n        // inputValue={inputValue}\n        // suggestions={suggestionList}\n        handleDelete={handleDelete}\n        handleAddition={handleAddition}\n        // handleInputChange={handleInputChange}\n        delimiters={delimiters}\n      // renderSuggestion={({ text }, query) => (\n      //   <div style={{ fontSize: 11 }}>\n      //     {text}\n      //     {/* ({query}) */}\n      //   </div>\n      // )}\n      />\n    </>\n  );\n};\n","import useWindowDimensions from '../../../hook/useWindowDimensions';\n\nexport const CContour = ({ index, data }) => {\n  const { height, width } = useWindowDimensions();\n  return <div style={{ width: width  - 32, height: 2, backgroundColor: \"black\", marginTop: 11,marginBottom:11, borderRadius: 10 }} />;\n};","import { BottomSheet } from \"react-spring-bottom-sheet\";\nimport \"react-spring-bottom-sheet/dist/style.css\";\nimport { GRAY7 } from \"../../style\";\nimport { GRAY6 } from \"../../style/index\";\nimport { useRecoilState } from \"recoil\";\nimport { commandInputListState, commandWindowState, CourseProductModalState } from \"../recoil\";\nimport { createRef, useRef, useState } from \"react\";\nimport { InputSearch } from \"../Input/index\";\nimport { PositionCard } from \"../card/PositionCard\";\nimport { getItems } from \"../Input/CommandInput/dndFunc\";\nimport { CreateRouteBottomModalState } from '../recoil';\n\n//#region  :  3  \nexport const numberWithCommas = (x) => {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\nexport const noTags = (x) => {\n  return x.toString().replace(/(<([^>]+)>)/gi, \"\");\n};\n//#endregion\nexport const productInit = {\n  brand: \"\",\n  category1: \"\",\n  category2: \"\",\n  category3: \"\",\n  category4: \"\",\n  // hprice: \"\",\n  image: \"\",\n  link: \"\",\n  lprice: \"\",\n  maker: \"\",\n  mallName: \"\",\n  productId: \"\",\n  productType: \"\",\n  title: \"\",\n};\nconst procductInfoInit = {\n  items: [productInit],\n  display: 80,\n  start: 1,\n  total: 0,\n  lastBuildDate: \"\",\n};\nexport const CourseProductModal = () => {\n  const [, setVisibleRoute] = useRecoilState(CreateRouteBottomModalState);\n  const [visibleRouteProduct, setVisibleRouteProduct] = useRecoilState(CourseProductModalState);\n  const [commandWindow] = useRecoilState(commandWindowState);\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  const [procductInfo, setProcductInfo] = useState(procductInfoInit);\n  const filterSearchTxt = useRef(\"\");\n  const bottomRef = useRef();\n\n  //#region  \n  const onChangeFilterSearchTxt = async (t) => {\n    if (t.length === 0) {\n      setProcductInfo(procductInfoInit);\n    } else {\n      // https://openapi.naver.com/v1/search/shop.json?query=\n      fetch(`/v1/search/shop.json?query=${t}&display=${procductInfoInit.display}`, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"X-Naver-Client-Id\": \"yeoXdUtxPpcjkxR4G932\",\n          \"X-Naver-Client-Secret\": \"TChrYL1rxH\",\n        },\n      })\n        .then((d) => d.json())\n        .then((d) => setProcductInfo(d));\n    }\n  };\n  //#endregion\n\n  //#region  \n  const onClickClose = () => {\n    setVisibleRouteProduct(false);\n    setVisibleRoute(true);\n  };\n  //#endregion\n  const LIST = procductInfo.items;\n  return (\n    <>\n      <BottomSheet\n        ref={bottomRef}\n        blocking={false}\n        open={visibleRouteProduct}\n        onDismiss={() => setVisibleRouteProduct(false)}\n        snapPoints={({ minHeight, maxHeight }) => [maxHeight * 0.5, maxHeight * 0.99]}\n        defaultSnap={({ lastSnap, snapPoints }) => [snapPoints[1]]}\n        header={\n          <div>\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY7, float: \"left\" }}>\n                !\n            </div>\n            <div\n              style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY6, float: \"right\" }}\n              onClick={onClickClose}\n            >\n              \n            </div>\n          </div>\n        }\n        expandOnContentDrag={true}\n      >\n        <div style={{ padding: \"0 10px 80px 10px\" }}>\n          <div style={{ display: \"flex\", justifyContent: \"center\", marginTop: 16 }}>\n            <InputSearch\n              value={filterSearchTxt}\n              placeholder={\" .\"}\n              onChange={onChangeFilterSearchTxt}\n            />\n          </div>\n          {LIST[0].brand !== \"\" &&\n            LIST.map((product, i) => {\n              const ref = createRef();\n              const onClick = () => {\n                const index = commandWindow.index + 1;\n                setCommandInputList([\n                  ...commandInputList.slice(0, index),\n                  ...getItems(1, commandInputList.length, \"product\", product),\n                  ...commandInputList.slice(index + 1, 999),\n                ]);\n                setVisibleRouteProduct(false);\n                setVisibleRoute(true);\n              };\n              return (\n                <div key={i.toString()} ref={ref}>\n                  <PositionCard\n                    address={`${product.category1} > ${product.category2} > ${product.category3} > ${product.category4}`}\n                    title={noTags(product.title)}\n                    desc={` ${numberWithCommas(product.lprice)}`}\n                    url={\"\"}\n                    img={product.image}\n                    onClick={onClick}\n                  />\n                </div>\n              );\n            })}\n        </div>\n      </BottomSheet>\n    </>\n  );\n};\n","import { noTags } from \"../../modal/CourseProductModal\";\nimport { PositionCard } from \"./../../card/PositionCard\";\nimport { numberWithCommas } from \"./../../modal/CourseProductModal\";\n\nexport const CProduct = ({ index, data }) => {\n  const product = data.content;\n  return (\n    <PositionCard\n      address={`${product.category1} > ${product.category2} > ${product.category3} > ${product.category4}`}\n      title={noTags(product.title)}\n      desc={` ${numberWithCommas(product.lprice)}`}\n      url={\"\"}\n      imgWidth={70}\n      img={product.image}\n      onClick={() => {}}\n    />\n  );\n};\n","import { CPlace } from \"./CPlace\";\nimport { CTextarea } from \"./CTextarea\";\nimport { CImage } from './CImage';\nimport { CH } from './CH';\nimport { CTag } from './CTag';\nimport { CContour } from './CContour';\nimport { CProduct } from \"./CProduct\";\nimport { ContentItemType } from \"../../../types/Command\";\nimport { memo } from \"react\";\nimport _ from \"lodash\";\n\ntype Props = {\n  index: number;\n  data: ContentItemType;\n  disable: boolean;\n}\nexport const CItem = ({ index, data, disable = false }: Props) => {\n  switch (data.type) {\n    case \"text\":\n      return <CTextarea index={index} data={data} disable={disable} />;\n    case \"place\":\n      return <CPlace index={index} data={data} />;\n    case \"product\":\n      return <CProduct index={index} data={data} />;\n    case \"image\":\n      return <CImage index={index} data={data} />;\n    case \"h1\":\n      return <CH index={index} data={data} type={'h1'} disable={disable} />;\n    case \"h2\":\n      return <CH index={index} data={data} type={\"h2\"} disable={disable} />;\n    case \"h3\":\n      return <CH index={index} data={data} type={\"h3\"} disable={disable} />;\n    case \"tag\":\n      return <CTag disable={disable} index={index} data={data} />;\n    case \"contour\":\n      return <CContour index={index} data={data} />;\n    default:\n      return <></>;\n  }\n};\nexport const MCItem = memo(CItem, isEqual);\nfunction isEqual(prevProps: any, nextProps: any) {\n  let checkProps = ['index', 'data', 'disable'];\n  return _.isMatch(_.pick(prevProps, checkProps), _.pick(nextProps, checkProps));\n}\n","import { useEffect } from \"react\";\nimport { Textarea } from \"../components/Input\";\nimport { CourseActionField } from \"../components/Btn/CourseActionField\";\nimport { ProfileCard } from \"../components/card/ProfileCard\";\nimport { CourseImage } from \"../components/Input/CourseImage\";\nimport { BackHeader } from \"../components/BackHeader\";\nimport useSWR from \"swr\";\nimport { useHistory, useParams } from \"react-router\";\nimport { API_URL, postfetch } from \"../components/common\";\nimport fetcher, { fetcherBlob } from \"../hook/useSWR/fetcher\";\nimport { useRecoilState } from \"recoil\";\nimport { loadingState, shareModalState } from \"../components/recoil\";\nimport { CourseType } from \"../types/Course\";\nimport { BottomSheet } from \"react-spring-bottom-sheet\";\nimport { GRAY6, GRAY7, GRAY8, SCREEN_HEIGHT, styleCenter } from \"../style\";\n//#region react-share\nimport {\n  EmailShareButton,\n  FacebookShareButton,\n  HatenaShareButton,\n  InstapaperShareButton,\n  LineShareButton,\n  LinkedinShareButton,\n  LivejournalShareButton,\n  MailruShareButton,\n  OKShareButton,\n  PinterestShareButton,\n  PocketShareButton,\n  RedditShareButton,\n  TelegramShareButton,\n  TumblrShareButton,\n  TwitterShareButton,\n  ViberShareButton,\n  VKShareButton,\n  WhatsappShareButton,\n  WorkplaceShareButton,\n  EmailIcon,\n  FacebookIcon,\n  HatenaIcon,\n  InstapaperIcon,\n  LineIcon,\n  LinkedinIcon,\n  LivejournalIcon,\n  MailruIcon,\n  OKIcon,\n  PinterestIcon,\n  PocketIcon,\n  RedditIcon,\n  TelegramIcon,\n  TumblrIcon,\n  TwitterIcon,\n  ViberIcon,\n  VKIcon,\n  WhatsappIcon,\n  WorkplaceIcon,\n} from \"react-share\";\nimport { CItem, MCItem } from \"../components/Input/CommandInput/CItem\";\nimport { ContentItemType } from \"../types/Command\";\n//#endregion\n\nconst CourseDetailScreen = () => {\n  const [loading, setLoading] = useRecoilState(loadingState);\n  //#region  \n  useEffect(() => {\n    //  \n    const body = document.getElementsByTagName(\"body\")[0];\n    body.setAttribute(\"style\", \"overflow: scroll;\");\n    return () => {\n      body.setAttribute(\"style\", \"overflow: hidden;\");\n      setLoading(false);\n    };\n  }, []);\n  //#endregion\n  //#region  \n  const { id }: { id: string | undefined } = useParams();\n  const { data, error, mutate } = useSWR(`${API_URL}/courses?id=${id}`, fetcher);\n  if ((error || !data) && !loading) setLoading(true);\n  const course: CourseType = data ? data[0] : null;\n  //#region  \n  useEffect(() => {\n    if (course)\n      postfetch(`/courses/${id}`, JSON.stringify({ views: course.views ? Number(course.views) + 1 : 1 }), true, \"PUT\").then((d) => mutate());\n  }, []);\n  //#endregion\n  if (error)\n    return (\n      <div>\n        <BackHeader />\n        failed to load\n      </div>\n    );\n  if (!data)\n    return (\n      <div>\n        <BackHeader />\n        {/* loading... */}\n      </div>\n    );\n  if (loading) setLoading(false);\n\n  //#endregion\n\n  return (\n    <>\n      <div style={{ position: \"fixed\" }}>\n        <BackHeader />\n      </div>\n      <CourseArea mutate={mutate} course={course} />\n      <ShareModal url={location.href} course={course} />\n    </>\n  );\n};\n//#region ShareModal\nconst BtnStyle = { width: 64, height: 90, marginRight: 8, marginTop: 2 };\nconst IconStyle = { borderRadius: 10, ...styleCenter };\nconst ShareModal = ({ url = \"\", course }: { url: string; course: CourseType }) => {\n  const [modalInfo, setModalInfo] = useRecoilState(shareModalState);\n  return (\n    <BottomSheet\n      // ref={bottomRef}\n      blocking={false}\n      open={modalInfo.visible}\n      onDismiss={() => setModalInfo({ ...modalInfo, visible: false })}\n      snapPoints={({ minHeight, maxHeight }) => [\n        maxHeight * 0.4 + 30,\n        maxHeight * 0.5,\n        maxHeight * 0.7,\n        maxHeight * 0.9,\n      ]}\n      defaultSnap={({ lastSnap, snapPoints }) => SCREEN_HEIGHT * 0.4}\n      header={\n        <div>\n          <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY7, float: \"left\" }}>\n             !\n          </div>\n          <div\n            style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY6, float: \"right\" }}\n            onClick={() => setModalInfo({ ...modalInfo, visible: false })}\n          >\n            \n          </div>\n        </div>\n      }\n      expandOnContentDrag={false}\n    >\n      <div style={{ ...styleCenter, display: \"flex\", flexFlow: \"wrap\", color: GRAY7, fontSize: 15 }}>\n        <EmailShareButton subject={\"subject\"} body={\"body\"} url={url} style={BtnStyle}>\n          <EmailIcon style={IconStyle} />\n          Email\n        </EmailShareButton>\n        <TwitterShareButton url={url} style={BtnStyle}>\n          <TwitterIcon style={IconStyle} />\n          Twitter\n        </TwitterShareButton>\n        <LineShareButton url={url} style={BtnStyle}>\n          <LineIcon style={IconStyle} />\n          \n        </LineShareButton>\n        <FacebookShareButton url={url} style={BtnStyle} hashtag={\"campustaxi\"}>\n          <FacebookIcon style={IconStyle} />\n          Facebook\n        </FacebookShareButton>\n        <HatenaShareButton url={url} style={BtnStyle} title={\"campustaxi\"}>\n          <HatenaIcon style={IconStyle} />\n          Hatena\n        </HatenaShareButton>\n        <InstapaperShareButton url={url} style={BtnStyle}>\n          <InstapaperIcon style={IconStyle} />\n          Instapaper\n        </InstapaperShareButton>\n        <LinkedinShareButton url={url} style={BtnStyle}>\n          <LinkedinIcon style={IconStyle} />\n          Linkedin\n        </LinkedinShareButton>\n        <LivejournalShareButton url={url} style={BtnStyle}>\n          <LivejournalIcon style={IconStyle} />\n          Livejournal\n        </LivejournalShareButton>\n        <MailruShareButton url={url} style={BtnStyle}>\n          <MailruIcon style={IconStyle} />\n          Mailru\n        </MailruShareButton>\n        <OKShareButton url={url} style={BtnStyle}>\n          <OKIcon style={IconStyle} />\n          OK\n        </OKShareButton>\n        <PinterestShareButton url={url} style={BtnStyle} media={url}>\n          <PinterestIcon style={IconStyle} />\n          Pinterest\n        </PinterestShareButton>\n        <PocketShareButton url={url} style={BtnStyle}>\n          <PocketIcon style={IconStyle} />\n          Pocket\n        </PocketShareButton>\n        <RedditShareButton url={url} style={BtnStyle}>\n          <RedditIcon style={IconStyle} />\n          \n        </RedditShareButton>\n        <TelegramShareButton url={url} style={BtnStyle}>\n          <TelegramIcon style={IconStyle} />\n          \n        </TelegramShareButton>\n        <TumblrShareButton url={url} style={BtnStyle}>\n          <TumblrIcon style={IconStyle} />\n          \n        </TumblrShareButton>\n        <ViberShareButton url={url} style={BtnStyle}>\n          <ViberIcon style={IconStyle} />\n          Viber\n        </ViberShareButton>\n        <VKShareButton url={url} style={BtnStyle}>\n          <VKIcon style={IconStyle} />\n          VK\n        </VKShareButton>\n        <WhatsappShareButton url={url} style={BtnStyle}>\n          <WhatsappIcon style={IconStyle} />\n          Whatsapp\n        </WhatsappShareButton>\n        <WorkplaceShareButton url={url} style={BtnStyle}>\n          <WorkplaceIcon style={IconStyle} />\n          Workplace\n        </WorkplaceShareButton>\n      </div>\n    </BottomSheet>\n  );\n};\n//#endregion\n\nconst CourseArea = ({ mutate, course }: { course: CourseType, mutate: any }) => {\n  //#region main image\n  const history = useHistory();\n  const { data: image, error } = useSWR(\n    course && course.images && course.images.length > 0 ? course.images[0].url : null,\n    fetcherBlob\n  );\n  //#endregion\n  //#region let content\n  let content: ContentItemType[] = [];\n  try {\n    content = JSON.parse(course.content);\n  } catch (error) { }\n  //#endregion\n\n  return (\n    <>\n      <CourseImage imgUrl={image} />\n      <div style={{ padding: \"0 16px 80px 16px\" }}>\n        <div style={{ marginTop: 16 }}>\n          <Textarea\n            disabled\n            defaultValue={course ? course.title ?? \"\" : \"\"}\n            style={{\n              border: \"none\",\n              width: \"100%\",\n              fontSize: 19,\n              paddingRight: 6,\n              padding: 2,\n              fontFamily: \"AppleSDGothic\",\n              backgroundColor: \"transparent\",\n              resize: \"none\",\n              outline: \"none\",\n            }}\n          />\n          <div style={{ marginTop: 12 }}>\n            <Textarea\n              disabled\n              defaultValue={course && (course.description ?? \"\")}\n              style={{\n                border: \"none\",\n                width: \"100%\",\n                fontSize: 15,\n                paddingRight: 6,\n                fontFamily: \"AppleSDGothic\",\n                backgroundColor: \"transparent\",\n                resize: \"none\",\n                overflow: \"hidden\",\n                outline: \"none\",\n              }}\n            />\n          </div>\n          <CourseActionField mutate={mutate} course={course} />\n          {course && course.creator_id && <ProfileCard\n            userId={course && course.creator_id ? course.creator_id.id : -1}\n            onClick={course && course.creator_id ? () => history.push(`/user/${course.creator_id.id}`) : () => alert(\"/ .\")}\n            address={course && course.creator_id ? course.creator_id.nickname : \"\"}\n            title={course && course.creator_id ? course.creator_id.greeting === \"\" ? \" .\" : course.creator_id.greeting : \"\"}\n            // desc={` ${u.follower ?? 0}`}\n            img={course && course.creator_id ? (course.creator_id.profile_image != undefined ? course.creator_id.profile_image : undefined) : undefined}\n          />}\n          <CommandArea content={content} />\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst CommandArea = ({ content }: { content: ContentItemType[] }) => {\n  return (\n    <div>\n      {content.map((item, i: number) => {\n        return (\n          <div key={i.toString()}>\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"flex-start\",\n                justifyItems: \"center\",\n                marginTop: 8,\n              }}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyItems: \"center\",\n                  height: 10,\n                }}\n              ></div>\n              <div style={{ padding: 1.5 }}>\n                <MCItem index={i} data={item} disable />\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\nexport default CourseDetailScreen;\n","import React from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport { GRAY7 } from \"../../style\";\nimport { CreateRouteBottomModalState } from \"../recoil\";\nimport { Icon } from './../common/Icon';\nimport { GRAY8 } from './../../style/index';\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\n\nexport const CreateBtnCourse = () => {\n  const [, setVisibleRoute] = useRecoilState(CreateRouteBottomModalState); //visibleRoute\n  const { height, width } = useWindowDimensions();\n  const onClick = () => {\n    setVisibleRoute(true);\n  };\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        width: 60,\n        height: 60,\n        borderRadius: 200,\n        backgroundColor: \"white\",\n        bottom: 96 + 18,\n        right: width * 0.125,\n        boxShadow: \"0.2px 0.2px 0 0 gray\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n      onClick={onClick}\n    >\n      <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\" }}>\n        <Icon name={\"faIcons\"} size={\"lg\"} color={GRAY8} />\n        <div style={{ fontSize: 8, color: GRAY7 }}>Create</div>\n      </div>\n    </div>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport { CropInit, CropState, FilePathInit, FilePathState } from \"../recoil\";\nimport { useRecoilState } from \"recoil\";\nimport { Icon } from \"../common/Icon\";\nimport { loadXHR } from \"./CommandInput/CImage\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\n\nexport const InputImage = ({ placeholder }) => {\n  const [crop, setCrop] = useRecoilState(CropState);\n  const [filepath, setFilepath] = useRecoilState(FilePathState);\n  const [isCrop, setIsCrop] = useState(false);\nconst { height, width } = useWindowDimensions();\n  //#region         \n  useEffect(() => {\n    loadXHR(filepath.file)\n      .then((f) => {\n        try {\n          // if (typeof f.type === \"string\") console.debug(f.type.includes(\"image\"), f);\n        } catch (e) {}\n      })\n      .catch(() => setFilepath(FilePathInit));\n  }, []);\n  //#endregion\n\n  //#region   \n  useEffect(() => {\n    if (!crop.visible && isCrop) {\n      setFilepath({ file: crop.file, previewURL: crop.previewURL, type: crop.type });\n      setIsCrop(false);\n      setCrop(CropInit);\n    }\n  }, [crop.visible]);\n  //#endregion\n  const onChangeInput = (e) => {\n    try {\n      e.preventDefault();\n      let reader = new FileReader();\n      let file = e.target.files[0];\n      reader.onloadend = () => {\n        setIsCrop(true);\n        setCrop({ visible: true, file: file, previewURL: reader.result, type: file.type });\n      };\n      reader.readAsDataURL(file);\n    } catch (e) {\n      setIsCrop(false);\n      setCrop(CropInit);\n    }\n  };\n  return (\n    <div>\n      <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\n        {/*      */}\n        <div\n          style={{\n            width: width,\n            backgroundImage:\n              filepath.previewURL != \"\"\n                ? `linear-gradient(to bottom,rgba(0,0,0,0),rgba(255,255,255, 1)),url(${filepath.previewURL})`\n                : `linear-gradient(to bottom,rgba(200,200,200,1),rgba(200,200,200, 1),rgba(200,200,200, 1),rgba(255,255,255, 0.2))`,\n            backgroundSize: \"cover\",\n            backgroundRepeat: \"no-repeat\",\n            height: (width * 200) / 200,\n          }}\n        />\n        {/*   */}\n        <div style={{ position: \"relative\", top: -225 }}>\n          {filepath.previewURL != \"\" ? (\n            <div style={{ display: \"flex\" }}>\n              <div\n                style={inputFileCSSNone}\n                onClick={() => {\n                  setCrop({ visible: true, file: filepath.file, previewURL: filepath.previewURL });\n                  setIsCrop(true);\n                }}\n              >\n                <Icon name={\"faEdit\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\n              </div>\n              <div style={{ ...inputFileCSSNone, marginLeft: 5 }} onClick={() => setFilepath(FilePathInit)}>\n                <Icon name={\"faTrash\"} size={\"lg\"} color={\"rgba(73,80,87,0.5)\"} />\n              </div>\n            </div>\n          ) : (\n            <label style={inputFileCSS} htmlFor=\"input-file\">\n              {placeholder}\n            </label>\n          )}\n        </div>\n        <input\n          value={\"\"}\n          type=\"file\"\n          id=\"input-file\"\n          style={{ display: \"none\" }}\n          accept=\"image/*\"\n          onChange={onChangeInput}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst inputFileCSSNone = {\n  padding: \"6px 12px\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  display: \"flex\",\n  backgroundColor: \"rgba(255,255,255,0.8)\",\n  borderRadius: \"20px\",\n  color: \"white\",\n  cursor: \"pointer\",\n};\nconst inputFileCSS = {\n  fontSize: 13,\n  padding: \"6px 25px\",\n  backgroundColor: \"#FF6600\",\n  borderRadius: \"4px\",\n  color: \"white\",\n  cursor: \"pointer\",\n};\n","import { useState, useEffect } from \"react\";\nimport { GRAY6, GRAY1, GRAY2 } from \"./../../style/index\";\nimport { useRecoilState } from 'recoil';\nimport { commandWindowState } from \"../recoil\";\n\nconst box_active = {\n  border: `1px solid ${GRAY2}`,\n  borderRadius: 4,\n  padding: 8,\n  background: `white`,\n  opacity: \"1\",\n  transition: \"opacity 200ms\",\n};\n\nconst box_hidden = {\n  border: `1px solid ${GRAY2}`,\n  borderRadius: 4,\n  padding: 8,\n  background: `white`,\n  opacity: \"0\",\n  transition: \"opacity 100ms\",\n};\n\nexport const FadeDiv = ({ visible, children, style }) => {\n  const [select, setSelect] = useState(false);\n  const [disable, setDisable] = useState(true);\n  const [commandWindow, ] = useRecoilState(commandWindowState);\n  useEffect(() => {\n    handleClick(visible);\n    if (visible) setDisable(false);\n    else setTimeout(() => setDisable(true), 100);\n  }, [visible, commandWindow]);\n  const handleClick = (visible) => {\n    setSelect(visible);\n  };\n  if (disable) return <></>;\n  return <div style={select ? { ...box_active, ...style } : { ...box_hidden, ...style }}>{children}</div>;\n};\n","import { GRAY6, GRAY8, SCREEN_HEIGHT } from \"../../../style\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  commandWindowState,\n  commandInputListState,\n  SearchPositionState,\n  CreateBottomModalState,\n  CourseProductModalState,\n  CreateRouteBottomModalState,\n} from \"../../recoil\";\nimport { getItems } from \"./dndFunc\";\nimport { homeTabIndexState } from \"./../../recoil\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const CommandListRenderItem = ({ img, title, desc }) => {\n  const [commandWindow, setCommandWindow] = useRecoilState(commandWindowState);\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  const [, setHomeTabIndex] = useRecoilState(homeTabIndexState); //homeTabIndex\n  const [, setVisibleSearch] = useRecoilState(SearchPositionState); //visibleSearch\n  const [, setVisibleCreate] = useRecoilState(CreateBottomModalState); //visibleCreate\n  const [, setVisibleRouteProduct] = useRecoilState(CourseProductModalState); //visibleRouteProduct\n  const [, setVisibleRoute] = useRecoilState(CreateRouteBottomModalState); //visibleRoute\n\n  const history = useHistory();\n\n  const onClick = () => {\n    let i = commandWindow.index;\n    if (img === \"text\") {\n      setCommandInputList([\n        ...commandInputList.slice(0, i + 1),\n        ...getItems(1, commandInputList.length, \"text\"),\n        ...commandInputList.slice(i + 1, 999),\n      ]);\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n    } else if (img === \"place\") {\n      setHomeTabIndex(1);\n      setVisibleSearch({ visible: true, position: \"place\" });\n      setVisibleCreate(false);\n      history.push(\"/\");\n      setCommandWindow({ ...commandWindow, visible: false });\n    } else if (img === \"product\") {\n      setVisibleRoute(false);\n      setVisibleRouteProduct(true);\n      setCommandWindow({ ...commandWindow, visible: false });\n    } else if (img === \"image\") {\n      setCommandInputList([\n        ...commandInputList.slice(0, i + 1),\n        ...getItems(1, commandInputList.length, \"image\", { file: \"\", previewURL: \"\" }),\n        ...commandInputList.slice(i + 1, 999),\n      ]);\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n    } else if (img === \"h1\") {\n      setCommandInputList([\n        ...commandInputList.slice(0, i + 1),\n        ...getItems(1, commandInputList.length, \"h1\"),\n        ...commandInputList.slice(i + 1, 999),\n      ]);\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n    } else if (img === \"h2\") {\n      setCommandInputList([\n        ...commandInputList.slice(0, i + 1),\n        ...getItems(1, commandInputList.length, \"h2\"),\n        ...commandInputList.slice(i + 1, 999),\n      ]);\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n    } else if (img === \"h3\") {\n      setCommandInputList([\n        ...commandInputList.slice(0, i + 1),\n        ...getItems(1, commandInputList.length, \"h3\"),\n        ...commandInputList.slice(i + 1, 999),\n      ]);\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n    } else if (img === \"tag\") {\n      setCommandInputList([\n        ...commandInputList.slice(0, i + 1),\n        ...getItems(1, commandInputList.length + 1, \"tag\", { tagList: [], inputValue: \"\" }),\n        ...commandInputList.slice(i + 1, 999),\n      ]);\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n    } else if (img === \"contour\") {\n      setCommandInputList([\n        ...commandInputList.slice(0, i + 1),\n        ...getItems(1, commandInputList.length, \"contour\"),\n        ...commandInputList.slice(i + 1, 999),\n      ]);\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n    } else if (img === \"emoji\") {\n      // setCommandInputList([\n      //   ...commandInputList.slice(0, i + 1),\n      //   ...getItems(1, commandInputList.length, \"h1\"),\n      //   ...commandInputList.slice(i + 1, 999),\n      // ]);\n      setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n    } else if ([\"red\", \"blue\", \"brown\", \"purple\", \"yellow\", \"orange\", \"gray\"].includes(img)) {\n      setCommandWindow({ ...commandWindow, visible: false, color: img });\n    }\n  };\n  return (\n    <div style={{ display: \"flex\", marginBottom: 6 }} onClick={onClick}>\n      <img alt={\" \"} src={`./images/CommandInput/asset/${img}.png`} height={SCREEN_HEIGHT * 0.045} />\n      <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", marginLeft: 8 }}>\n        <div style={{ color: GRAY8, fontSize: 13 }}>{title}</div>\n        <div style={{ color: GRAY6, fontSize: 11 }}>{desc}</div>\n      </div>\n    </div>\n  );\n};\n","import { Icon } from \"./../common/Icon\";\nimport { GRAY6 } from \"./../../style/index\";\n\nexport const Rowdot = () => {\n  return (\n    <>\n      <Icon name={\"faEllipsisV\"} type={\"solid\"} size={\"xs\"} color={GRAY6} />\n      <Icon name={\"faEllipsisV\"} type={\"solid\"} size={\"xs\"} color={GRAY6} />\n    </>\n  );\n};\n","import { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { Icon } from \"../common/Icon\";\nimport { useRecoilState } from \"recoil\";\nimport { alertDialogInit, alertDialogState, commandInputListState, commandWindowState, placePosState } from \"../recoil\";\nimport { FadeDiv } from \"../FadeDiv\";\nimport { CommandListRenderItem } from \"./CommandInput/CommandListRenderItem\";\nimport { getItems, getItemStyle, getListStyle, onDragEnd } from \"./CommandInput/dndFunc\";\nimport { useCallback, useEffect } from \"react\";\nimport { CItem, MCItem } from \"./CommandInput/CItem\";\nimport { deleteModePosState } from \"./../recoil\";\nimport Button from \"@mui/material/Button\";\nimport { Rowdot } from \"./../Icon/Rowdot\";\nimport { posInit } from \"../../types/ChatRoom\";\n\nexport const CommandArea = ({ }) => {\n  const [deleteMode, setDeleteMode] = useRecoilState(deleteModePosState);\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  const [alertDialogInfo, setAlertDialogInfo] = useRecoilState(alertDialogState);\n  const [commandWindow] = useRecoilState(commandWindowState);\n  const [placePos, setPlacePos] = useRecoilState(placePosState);\n\n  //#region    (text,h1,h2,h3)\n  useEffect(() => {\n    const type = commandInputList[commandInputList.length - 1].type;\n    if (type !== \"text\" && type !== \"h1\" && type !== \"h2\" && type !== \"h3\") {\n      setCommandInputList([...commandInputList, ...getItems(1, commandInputList.length + 1, \"text\")]);\n    }\n  }, [commandInputList.length]);\n  //#endregion\n  //#region     \n  useEffect(() => {\n    if (placePos.id !== -1) {\n      let i = commandWindow.index;\n      setCommandInputList([\n        ...commandInputList.slice(0, i + 1),\n        ...getItems(1, commandInputList.length, \"place\", placePos),\n        ...commandInputList.slice(i + 1, 999),\n      ]);\n      setPlacePos(posInit);\n    }\n  }, []);\n  //#endregion\n  //#region  UI\n  const CommandRect = useCallback(() => {\n    return (\n      <FadeDiv\n        visible={commandWindow.visible}\n        style={{ position: \"absolute\", top: commandWindow.top, left: commandWindow.left, zIndex: 9999 }}\n      >\n        <div style={{ height: commandWindow.height, width: 260, overflow: \"scroll\" }}>\n          <CommandListRenderItem img={\"text\"} title={\" \"} desc={\"   .\"} />\n          <CommandListRenderItem img={\"place\"} title={\"\"} desc={\"  .\"} />\n          <CommandListRenderItem img={\"product\"} title={\"\"} desc={\"  .\"} />\n          <CommandListRenderItem img={\"image\"} title={\"\"} desc={\" .\"} />\n          <CommandListRenderItem img={\"h1\"} title={\" , h1\"} desc={\"   .\"} />\n          <CommandListRenderItem img={\"h2\"} title={\", h2\"} desc={\"  .\"} />\n          <CommandListRenderItem img={\"h3\"} title={\", h3\"} desc={\"  .\"} />\n          <CommandListRenderItem img={\"tag\"} title={\"\"} desc={\"    .\"} />\n          <CommandListRenderItem img={\"contour\"} title={\"\"} desc={\"  .\"} />\n          {/* <CommandListRenderItem img={\"emoji\"} title={\"#, #emoji\"} desc={\"   .\"} /> */}\n          \n          {/* <CommandListRenderItem img={\"red\"} title={\" \"} desc={\"  .\"} />\n          <CommandListRenderItem img={\"blue\"} title={\" \"} desc={\"  .\"} />\n          <CommandListRenderItem img={\"brown\"} title={\" \"} desc={\"  .\"} />\n          <CommandListRenderItem img={\"purple\"} title={\" \"} desc={\"  .\"} />\n          <CommandListRenderItem img={\"yellow\"} title={\" \"} desc={\"   .\"} />\n          <CommandListRenderItem img={\"orange\"} title={\" \"} desc={\"   .\"} />\n          <CommandListRenderItem img={\"gray\"} title={\" \"} desc={\"   .\"} /> */}\n        </div>\n        {/* <div>#</div> */}\n        {/* <div>#</div> */}\n        {/* <div># </div> */}\n        {/* <div>#</div> */}\n        {/* <div>#</div> */}\n        {/* <div>#</div> */}\n        {/* <div>#</div> */}\n      </FadeDiv>\n    );\n  }, [commandWindow.visible, commandWindow.left, commandWindow.top]);\n  //#endregion\n  //#region   \n  const onClickDelete = (i, item) => {\n    if (!alertDialogInfo.visible) {\n      setAlertDialogInfo({\n        visible: true,\n        title: \"\",\n        text: \" ?\",\n        handleConfirm: () => {\n          const list = [...commandInputList.slice(0, i), ...commandInputList.slice(i + 1, 999)];\n          setCommandInputList(list.length > 0 ? list : [...getItems(1, 1, \"text\", \"\")]);\n          setAlertDialogInfo(alertDialogInit);\n        },\n      });\n      setDeleteMode({ ...deleteMode, index: i });\n    }\n  };\n\n  //#endregion\n  return (\n    <div style={{ paddingBottom: 300 }}>\n      <CommandRect />\n      <DragDropContext onDragEnd={(r) => onDragEnd(r, commandInputList, setCommandInputList)}>\n        <Droppable droppableId=\"droppable\">\n          {(provided, snapshot) => (\n            <div ref={provided.innerRef} style={getListStyle(snapshot.isDraggingOver)}>\n              {commandInputList.map((item, index) => (\n                <Draggable key={item.id} draggableId={item.id} index={index}>\n                  {(provided, snapshot) => {\n                    return (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\n                      >\n                        <div\n                          style={{\n                            display: \"flex\",\n                            alignItems: \"flex-start\",\n                            justifyItems: \"center\",\n                            marginTop: 8,\n                          }}\n                        >\n                          <div\n                            style={{\n                              display: \"flex\",\n                              alignItems: \"center\",\n                              justifyItems: \"center\",\n                              marginRight: 8,\n                              marginTop: 7,\n                              height: 10,\n                            }}\n                          >\n                            {deleteMode.visible ? (\n                              <div onClick={() => onClickDelete(index, item)}>\n                                <Icon name={\"faTrash\"} type={\"light\"} />\n                              </div>\n                            ) : (\n                              <Rowdot />\n                            )}\n                          </div>\n                          <div\n                            style={\n                              alertDialogInfo.visible && deleteMode.index === index\n                                ? {\n                                    borderStyle: \"solid\",\n                                    borderWidth: 2,\n                                    borderRadius: 3,\n                                    borderColor: \"#d32f2f\",\n                                  }\n                                : { padding: 1.5 }\n                            }\n                          >\n                            <MCItem index={index} data={item} />\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  }}\n                </Draggable>\n              ))}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      </DragDropContext>\n      <DeleteBlock />\n    </div>\n  );\n};\n\nconst DeleteBlock = ({ }) => {\n  const [deleteMode, setDeleteMode] = useRecoilState(deleteModePosState);\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: \"8%\",\n        left: \"4%\",\n      }}\n      onClick={() => setDeleteMode({ visible: !deleteMode.visible, index: -1 })}\n    >\n      <Button\n        style={{ textTransform: \"none\", width: 110 }}\n        variant={deleteMode.visible ? \"contained\" : \"outlined\"}\n        color=\"error\"\n      >\n        <Icon name={\"faTrash\"} color={deleteMode.visible ? \"white\" : \"#d32f2f\"} />\n        <div style={{ marginLeft: 6, fontFamily: \"roboto\", color: deleteMode.visible ? \"white\" : \"#d32f2f\" }}>\n          \n        </div>\n      </Button>\n    </div>\n  );\n};\n","import { BottomSheet } from \"react-spring-bottom-sheet\";\nimport \"react-spring-bottom-sheet/dist/style.css\";\nimport { GRAY7, SCREEN_HEIGHT, styleCenter } from \"../../style\";\nimport { GRAY6 } from \"../../style/index\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport {\n  commandInputListState,\n  commandWindowState,\n  CreateRouteBottomModalState,\n  EndPosImageState,\n  FilePathInit,\n  loadingState,\n  StartPosImageState,\n  userDataState,\n} from \"../recoil\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Textarea } from \"../Input/index\";\nimport { InputImage } from \"../Input/InputImage\";\nimport { CourseActionField } from \"../Btn/CourseActionField\";\nimport { ProfileCard } from \"../card/ProfileCard\";\nimport { CommandArea } from \"../Input/CommandArea\";\nimport { FilePathState } from \"./../recoil\";\nimport { ORANGE } from \"./../../style/index\";\nimport { getItems } from \"./../Input/CommandInput/dndFunc\";\nimport { API_URL, API_URL_NO_Proxy, postfetch } from \"../common\";\nimport axios from \"axios\";\nimport { KaKaoLoginBtn } from \"../Btn/LoginBtn\";\nimport { isIOSPublishing } from \"../../App\";\n\n//#region  Blob to File\nexport const dataURLtoFile = (dataurl, fileName) => {\n  var arr = dataurl.split(\",\"),\n    mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n\n  return new File([u8arr], fileName, { type: mime });\n};\n//#endregion\n\nexport const CourseCreateModal = () => {\n  const [userData] = useRecoilState(userDataState);\n  const [loading, setLoading] = useRecoilState(loadingState);\n  const [visibleRoute, setVisibleRoute] = useRecoilState(CreateRouteBottomModalState);\n  const [commandWindow, setCommandWindow] = useRecoilState(commandWindowState);\n  const [filepath, setFilepath] = useRecoilState(FilePathState);\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  const [CloseData, setCloseData] = useState({ text: \"\", BtnColor: GRAY6, type: 0 });\n  const bottomRef = useRef();\n  const titleRef = useRef(\"\");\n  const descRef = useRef(\"\");\n\n  //#region  /     \n  useEffect(() => {\n    //     (\"text\" and content) or others  \"\" \n    if (\n      (filepath.file !== \"\" && filepath.type === \"CourseCreateMainImg\") ||\n      commandInputList[0].content !== \"\" ||\n      commandInputList[0].type !== \"text\"\n    ) {\n      if (filepath.file === \"\" && filepath.type === \"\") setCloseData({ text: \"\", BtnColor: GRAY6, type: 1 });\n      else if (commandInputList[0].content === \"\" && commandInputList[0].type === \"text\")\n        setCloseData({ text: \"\", BtnColor: GRAY6, type: 2 });\n      else setCloseData({ text: \"\", BtnColor: ORANGE, type: 3 });\n    } else if (CloseData.type !== 0) setCloseData({ text: \"\", BtnColor: GRAY6, type: 0 });\n  }, [filepath.file, CloseData.type, commandInputList, filepath.type]);\n  //#endregion\n  //#region        \n  const onScrollCapture = (e) => {\n    if (e.nativeEvent.target.outerText[0] === \"\") setCommandWindow({ ...commandWindow, visible: false, index: -1 });\n  };\n  //#endregion\n  //#region   or  onPress\n  const onClickClose = async () => {\n    switch (CloseData.type) {\n      case 0:\n        setVisibleRoute(false);\n        break;\n      case 1:\n        alert(\"[]   .\");\n        break;\n      case 2:\n        alert(\"[]  .\");\n        break;\n      default:\n        if (titleRef.current === \"\") {\n          alert(\"  .\");\n          break;\n        } else if (descRef.current === \"\") {\n          alert(\"  .\");\n          break;\n        } else if (loading) {\n          alert(\"  .  .\");\n          break;\n        } else {\n          setLoading(true);\n          //#region      .\n          const tagCommand = commandInputList.filter((t) => t.type === \"tag\");\n          const tagList = _.flatten(tagCommand.map((t) => t.content.tagList));\n          async function postTagList() {\n            if (tagCommand.length > 0) {\n              let tagIdList = [];\n              return new Promise((resolve) => {\n                let count = 0;\n                tagList.map((v, i) => {\n                  axios.get(`${API_URL_NO_Proxy}/tags?name=${v.text}`).then((d) => {\n                    //     id \n                    if (d.data.length === 0) {\n                      axios.post(`${API_URL_NO_Proxy}/tags`, { name: v.text }).then((d) => {\n                        tagIdList.push(Number(d.data.id));\n                        count++;\n                        if (count === tagList.length) resolve(tagIdList);\n                      });\n                      //   id \n                    } else {\n                      tagIdList.push(Number(d.data[0].id));\n                      count++;\n                      if (count === tagList.length) resolve(tagIdList);\n                    }\n                  });\n                });\n              });\n            }\n          }\n          const tagIdList = await postTagList();\n          //#endregion\n          //#region \n\n          const data = new FormData();\n\n          // \n          const split = filepath && filepath.type ? filepath.type.split(\"/\") : [];\n          const filename = new Date().getTime().toString() + \".\" + split.length > 0 ? split[1] : split[0];\n          data.append(\"files\", dataURLtoFile(filepath.file, filename));\n\n          // \n          await commandInputList\n            .filter((item) => item.type === \"image\")\n            .map((item, i) => {\n              data.append(\"files\", dataURLtoFile(item.content.file, filename + i));\n            });\n          //#endregion\n          //#region => 1. \n          axios.post(`${API_URL_NO_Proxy}/upload`, data).then(async (d) => {\n            const imgId = d.data[0].id;\n            const dataCourse = {\n              title: titleRef.current,\n              description: descRef.current,\n              creator_id: String(userData ? userData.id : 0),\n              images: [imgId],\n              content: JSON.stringify(commandInputList),\n              tags: tagIdList,\n            };\n            // 2.  \n            postfetch(\"/courses\", JSON.stringify(dataCourse), true)\n              .then((d) => {\n                setLoading(false);\n                titleRef.current = \"\";\n                descRef.current = \"\";\n                setFilepath(FilePathInit);\n                setCommandInputList(getItems(1));\n                setVisibleRoute(false);\n              })\n              .catch((e) => {\n                console.error(e);\n                setLoading(false);\n                setVisibleRoute(false);\n              });\n          });\n          //#endregion\n        }\n        break;\n    }\n  };\n  //#endregion\n  return (\n    <>\n      <BottomSheet\n        ref={bottomRef}\n        blocking={false}\n        open={visibleRoute}\n        onDismiss={() => setVisibleRoute(false)}\n        snapPoints={({ minHeight, maxHeight }) => [maxHeight * 0.995]}\n        defaultSnap={({ lastSnap, snapPoints }) => [snapPoints[1]]}\n        onScrollCapture={onScrollCapture}\n        header={\n          <div>\n            <div style={{ fontFamily: \"roboto\", fontWeight: \"bold\", fontSize: 15, color: GRAY7, float: \"left\" }}>\n                !\n            </div>\n            <div\n              style={{\n                fontFamily: \"roboto\",\n                fontWeight: \"bold\",\n                fontSize: 15,\n                color: CloseData.BtnColor,\n                float: \"right\",\n              }}\n              onClick={onClickClose}\n            >\n              {CloseData.text}\n            </div>\n          </div>\n        }\n        expandOnContentDrag={false}\n      >\n        <div>\n          <BlockLogin />\n          <InputImage placeholder={\"  !\"} />\n          <div style={{ padding: \"0 16px 80px 16px\" }}>\n            <div>\n              <Textarea\n                onChange={(e) => (titleRef.current = e)}\n                placeholder={\"  .\"}\n                style={{\n                  border: \"none\",\n                  width: \"100%\",\n                  fontSize: 19,\n                  paddingRight: 6,\n                  padding: 2,\n                  fontFamily: \"AppleSDGothic\",\n                  backgroundColor: \"transparent\",\n                  resize: \"none\",\n                  outline: \"none\",\n                }}\n                maxrows={2}\n              />\n              <div style={{ marginTop: 12 }}>\n                <Textarea\n                  onChange={(e) => {\n                    descRef.current = e;\n                  }}\n                  style={{\n                    border: \"none\",\n                    width: \"100%\",\n                    fontSize: 15,\n                    paddingRight: 6,\n                    fontFamily: \"AppleSDGothic\",\n                    backgroundColor: \"transparent\",\n                    resize: \"none\",\n                    overflow: \"hidden\",\n                    outline: \"none\",\n                  }}\n                  maxrows={3}\n                  placeholder={\"  ( 3)\"}\n                />\n              </div>\n              <CourseActionField disable />\n              <ProfileCard address={\"\"} title={\" \"} desc={\" 3,456\"} img={\"img\"} disable />\n              <div style={{ marginTop: 6 }}>\n                <CommandArea />\n              </div>\n            </div>\n          </div>\n        </div>\n      </BottomSheet>\n    </>\n  );\n};\n\nconst BlockLogin = () => {\n  const [userData] = useRecoilState(userDataState);\n\n  return (\n    <>\n      {(!userData && !isIOSPublishing) ? (\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            position: \"absolute\",\n            backgroundColor: \"rgba(255,255,255,0.6)\",\n            ...styleCenter,\n            zIndex: 3,\n            flexDirection: \"column\",\n          }}\n        >\n          <KaKaoLoginBtn width={256} />\n          <div style={{ marginTop: 8, marginBottom: 60 }}>  .</div>\n        </div>\n      ) : (\n        false\n      )}\n    </>\n  );\n};\n","const createImage = (url) =>\n  new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener(\"load\", () => resolve(image));\n    image.addEventListener(\"error\", (error) => reject(error));\n    image.setAttribute(\"crossOrigin\", \"anonymous\"); // needed to avoid cross-origin issues on CodeSandbox\n    image.src = url;\n  });\n\nfunction getRadianAngle(degreeValue) {\n  return (degreeValue * Math.PI) / 180;\n}\n\n/**\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\n * @param {File} image - Image File url\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\n * @param {number} rotation - optional rotation parameter\n */\nexport async function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\n  const image = await createImage(imageSrc);\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  const maxSize = Math.max(image.width, image.height);\n  const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\n\n  // set each dimensions to double largest dimension to allow for a safe area for the\n  // image to rotate in without being clipped by canvas context\n  canvas.width = safeArea;\n  canvas.height = safeArea;\n\n  // translate canvas context to a central location on image to allow rotating around the center.\n  ctx.translate(safeArea / 2, safeArea / 2);\n  ctx.rotate(getRadianAngle(rotation));\n  ctx.translate(-safeArea / 2, -safeArea / 2);\n\n  // draw rotated image and store data.\n  ctx.drawImage(image, safeArea / 2 - image.width * 0.5, safeArea / 2 - image.height * 0.5);\n  const data = ctx.getImageData(0, 0, safeArea, safeArea);\n\n  // set canvas width to final desired crop size - this will clear existing context\n  canvas.width = pixelCrop.width;\n  canvas.height = pixelCrop.height;\n\n  // paste generated rotate image with correct offsets for x,y crop values.\n  ctx.putImageData(\n    data,\n    Math.round(0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x),\n    Math.round(0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y)\n  );\n\n  // As Base64 string\n  return canvas.toDataURL('image/jpeg');\n\n  // As a blob\n  // return new Promise((resolve) => {\n  //   canvas.toBlob((file) => {\n  //     resolve(URL.createObjectURL(file));\n  //   }, \"image/jpeg\");\n    \n  // });\n}","import { useRecoilState } from \"recoil\";\nimport { CropState } from \"./../recoil\";\nimport { useState, useCallback } from \"react\";\nimport { GRAY6, ORANGE, SCREEN_HEIGHT,  } from \"./../../style/index\";\nimport Cropper from \"react-easy-crop\";\nimport { getCroppedImg } from \"../common/function/getCroppedImg\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\n\nexport const CropScreen = () => {\n  const [crop, setCrop] = useRecoilState(CropState);\n  const { height, width } = useWindowDimensions();\n\n  const [cropXY, setCropXY] = useState({ x: 0, y: 0 });\n  const [rotation] = useState(0); //setRotation\n  const [zoom, setZoom] = useState(1);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState();\n  const [, setCroppedImage] = useState(); //croppedImage\n\n  const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n    setCroppedAreaPixels(croppedAreaPixels);\n  }, []);\n  \n  const showCroppedImage = useCallback(async () => {\n    try {\n      const croppedImage = await getCroppedImg(crop.previewURL, croppedAreaPixels, rotation);\n      setCroppedImage(croppedImage);\n      setCrop({ visible: false, file: croppedImage, previewURL: croppedImage, type:crop.type });\n    } catch (e) {\n      console.error(e);\n    }\n  }, [croppedAreaPixels, rotation, crop.previewURL, setCrop]);\n\n  return (\n    <div>\n      {/*    */}\n      {crop.visible ? (\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            width: width,\n            height: SCREEN_HEIGHT,\n            zIndex: 4,\n            backgroundColor: \"white\",\n          }}\n        >\n          <div\n            onClick={onCropComplete}\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              padding: \"12px 0px\",\n              color: ORANGE,\n              position: \"relative\",\n              zIndex: 20,\n              backgroundColor: \"white\",\n            }}\n          >\n            <div style={{ paddingLeft: 16, color: GRAY6 }} onClick={() => setCrop({ ...crop, visible: false })}>\n              \n            </div>\n            <div style={{ paddingRight: 16 }} onClick={showCroppedImage}>\n              \n            </div>\n          </div>\n          <Cropper\n            image={crop.previewURL}\n            crop={cropXY}\n            zoom={zoom}\n            aspect={200 / 200}\n            onCropChange={setCropXY}\n            onCropComplete={onCropComplete}\n            onZoomChange={setZoom}\n          />\n        </div>\n      ) : (\n        false\n      )}\n    </div>\n  );\n};\n","import * as React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport { useRecoilState } from \"recoil\";\nimport { alertDialogInit, alertDialogState } from \"./../recoil\";\nimport { GRAY6 } from './../../style/index';\n\nexport const AlertDialog = () => {\n  const [alertDialogInfo, setAlertDialogInfo] = useRecoilState(alertDialogState);\n\n  const handleClose = () => {\n    setAlertDialogInfo({ ...alertDialogInfo, visible:false});\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={alertDialogInfo.visible}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\"> {alertDialogInfo.title}</DialogTitle>\n        <DialogContent>\n          <DialogContentText style={{ whiteSpace: \"pre-wrap\" }} id=\"alert-dialog-description\">\n            {alertDialogInfo.text}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} style={{ color: GRAY6 }}>\n            \n          </Button>\n          <Button onClick={alertDialogInfo.handleConfirm} style={{ color: \"#d32f2f\" }}>\n            {alertDialogInfo.confirmText ?? \"\"}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import { BottomHeader } from \"../components/BottomHeader\";\nimport { BottomTabBar } from \"../components/BottomTabBar\";\n// import { SearchBar } from \"../components/Input/SearchBar\";\nimport { CourseArea } from \"../components/CourseArea\";\nimport { CreateBtnCourse } from \"../components/Btn/CreateBtnCourse\";\nimport { CourseCreateModal } from \"./../components/modal/CourseCreateModal\";\nimport { CropScreen } from \"./../components/modal/CropScreen\";\nimport { CourseProductModal } from \"../components/modal/CourseProductModal\";\nimport { AlertDialog } from \"./../components/Dialog/AlertDialog\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\nconst CourseScreen = () => {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  return (\n    <>\n      <BottomHeader />\n      <CourseArea />\n      <CreateBtnCourse />\n      <CourseProductModal />\n      <CourseCreateModal />\n      <CropScreen />\n      <BottomTabBar />\n      <AlertDialog />\n    </>\n  );\n};\n\nexport default CourseScreen;\n","import { BottomTabBar } from \"../components/BottomTabBar\";\nimport { BottomModal } from \"./../components/BottomModal\";\nimport { FaFilter, FaSearch } from \"react-icons/fa\";\nimport useWindowDimensions from \"../hook/useWindowDimensions\";\nimport { GRAY1, GRAY2, GRAY8, GRAY9 } from \"../style\";\n\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Typography from \"@mui/material/Typography\";\nimport { CardActionArea } from \"@mui/material\";\nimport { useEffect } from \"react\";\nimport { loadingState } from \"../components/recoil\";\nimport { useRecoilState } from \"recoil\";\nimport { BottomHeader } from \"../components/BottomHeader\";\n\nconst ShopScreen = () => {\n  // #region  \n  const [, setLoading] = useRecoilState(loadingState); //loading\n  const body = document.getElementsByTagName(\"body\")[0];\n  useEffect(() => {\n    body.removeAttribute(\"style\");\n    return () => setLoading(false);\n  }, [body]);\n  // #endregion\n  return (\n    <>\n      <div style={{ position: \"sticky\", height: 64 + 8, top: 0, background: GRAY2, zIndex: 2 }}>\n        <BottomHeader title=\"SHOP\" noProfile />\n      </div>\n      <ShopCard />\n      <BottomTabBar />\n    </>\n  );\n};;\nconst ShopCard = () => {\n  const { height, width } = useWindowDimensions();\n  return (\n    <>\n      <div\n        style={{\n          backgroundColor: GRAY1,\n          height: height - 64 - 8,\n          width: width,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          display: \"flex\",\n        }}\n        \n        onClick={() => open(\"https://smartstore.naver.com/campustaxi/products/5976589929\")}\n      >\n        <Card sx={{ borderRadius: 12, marginBottom: 8 }}>\n          <CardActionArea sx={{ width: 300, height: 540, display: \"flex\", flexDirection: \"column\" }}>\n            <CardMedia component=\"img\" height=\"440\" image=\"/images/shopItem.png\" alt=\"green iguana\" />\n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"div\">\n                <span style={{ fontSize: 21 }}>  LED    </span>\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                <s>15,000</s> <span style={{ fontSize: 25, color: GRAY9 }}>10,000</span>\n              </Typography>\n            </CardContent>\n          </CardActionArea>\n        </Card>\n      </div>\n    </>\n  );\n};\nexport default ShopScreen;\n","import { BottomTabBar } from \"../components/BottomTabBar\";\nimport useSWR from \"swr\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { loadingState, userDataState } from \"../components/recoil\";\nimport { useEffect } from \"react\";\nimport fetcher from \"../hook/useSWR/fetcher\";\nimport { ChatRoomType } from \"../types/ChatRoom\";\nimport { API_URL } from \"../components/common\";\nimport { RoomCard } from \"../components/card/RoomCard\";\nimport { BottomHeader } from \"../components/BottomHeader\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport \"swiper/swiper-bundle.min.css\";\nimport \"swiper/swiper.min.css\";\n\nconst MyChatScreen = () => {\n  const [loading, setLoading] = useRecoilState(loadingState);\n  const userData = useRecoilValue(userDataState);\n  // #region  \n  const body = document.getElementsByTagName(\"body\")[0];\n  useEffect(() => {\n    body.setAttribute(\"style\", \"overflow: scroll;\");\n    return () => {\n      body.removeAttribute(\"style\");\n      setLoading(false);\n    };\n  }, []); //body\n  // #endregion\n  //#region  \n  const { data, error } = useSWR(`${API_URL}/chat-rooms?_where[0][enter_users.username_contains]=${userData?.username}`, fetcher);\n  if ((error || !data) && !loading) setLoading(true);\n  if (error)\n    return (\n      <div>\n        <div\n          style={{\n            position: \"sticky\",\n            top: 0,\n            zIndex: 2,\n            height: 56,\n            backgroundColor: \"white\",\n          }}\n        >\n          <BottomHeader title=\" \" />\n        </div>\n        failed to load\n        <BottomTabBar />\n      </div>\n    );\n  if (!data)\n    return (\n      <div>\n        <div\n          style={{\n            position: \"sticky\",\n            top: 0,\n            zIndex: 2,\n            height: 56,\n            backgroundColor: \"white\",\n          }}\n        >\n          <BottomHeader title=\" \" />\n        </div>\n        <BottomTabBar />\n      </div>\n    );\n  if (loading) setLoading(false);\n  //#endregion\n\n  const chatRooms: ChatRoomType[] = data;\n\n  return (\n    <>\n      <div\n        style={{\n          position: \"sticky\",\n          top: 0,\n          backgroundColor: \"white\",\n          zIndex: 3,\n        }}\n      >\n        <BottomHeader title=\" \" />\n      </div>\n      <ChatRoomArea chatRooms={chatRooms} />\n      <BottomTabBar />\n    </>\n  );\n};\n\nconst ChatRoomArea = ({ chatRooms }: { chatRooms: ChatRoomType[] }) => {\n  return (\n    <div\n      style={{ padding: \"0 16px 96px 16px\", zIndex: 0, position: \"relative\" }}\n    >\n      <Swiper slidesPerView={1} direction={\"vertical\"} speed={500} height={260}>\n        {chatRooms.map((room, i: number) => (\n          <SwiperSlide key={room.id}>\n            <RoomCard room={room} noClick />\n          </SwiperSlide>\n        ))}\n      </Swiper>\n    </div>\n  );\n};\n\nexport default MyChatScreen;\n","import Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\nimport { editProfileDialogState, loadingState, userDataState } from \"./../recoil\";\nimport { GRAY4, GRAY5, GRAY6, GRAY8 } from \"./../../style/index\";\nimport { Avatar, Badge, Input, TextField } from \"@mui/material\";\nimport { deepOrange } from \"@mui/material/colors\";\nimport { Icon } from \"../common/Icon\";\nimport { useRef, useState } from \"react\";\nimport { API_URL_NO_Proxy, postfetch } from \"../common\";\nimport { useParams } from \"react-router\";\nimport axios from \"axios\";\nimport { dataURLtoFile } from \"../modal/CourseCreateModal\";\n\nexport const EditProfileDialog = () => {\n\tconst [userData, setUserData] = useRecoilState(userDataState);\n\tconst [editProfileDialogInfo, setEditProfileDialogInfo] = useRecoilState(editProfileDialogState);\n\tconst setLoading = useSetRecoilState(loadingState);\n\tconst p: any = useParams();\n\tconst id = p.id;\n\tconst nickname = useRef<string | null>(userData?.nickname ?? null);\n\tconst email = useRef<string | null>(userData?.email ?? null);\n\tconst greeting = useRef<string | null>(userData?.greeting ?? null);\n\tconst imgFile = useRef<File>();\n\tconst [imgUrl, setImgUrl] = useState(userData?.profile_image);\n\tconst handleClose = () => {\n\t\tsetEditProfileDialogInfo({ ...editProfileDialogInfo, visible: false });\n\t};\n\tconst handleProfileImg = (event: any) => {\n\t\tif (!event.target.files) return;\n\t\tconst file: File = event.target.files[0];\n\t\tconst limitSize = 10; //10MB .\n\t\tif (file.size > 1024 * 1024 * limitSize) {\n\t\t\t//       \n\t\t\tconst currentFileSize = Math.round((file.size / 1024 / 1024) * 100) / 100 + \"MB\";\n\t\t\talert(`${limitSize}MB     .\\n\\n` + \"  : \" + currentFileSize);\n\t\t\treturn;\n\t\t}\n\t\tevent.target.value = \"\";\n\t\tconst url = URL.createObjectURL(file);\n\t\tsetImgUrl(url)\n\t\timgFile.current = file;\n\t};\n\tconst hanedleSubmit = async () => {\n\n\n\t\tsetLoading(true);\n\t\t//imgFile.current\n\t\t// if (imgFile.current) { alert('    .'); imgFile.current = undefined; }\n\t\tif (imgFile.current) {\n\t\t\t//   \n\t\t\tconst data = new FormData();\n\t\t\tdata.append(\"files\", imgFile.current);\n\t\t\tawait axios.post(`${API_URL_NO_Proxy}/upload`, data).then(async (d: any) => {\n\t\t\t\t// FIXME    \n\t\t\t\tconst url = d.data[0].url;\n\t\t\t\tconst params = { nickname: nickname.current, email: email.current, profile_image: url, greeting: greeting.current };\n\t\t\t\tpostfetch(`/users/${id}`, JSON.stringify(params), true, \"PUT\").then((d: any) => {\n\t\t\t\t\tif (typeof d.id === \"number\") setUserData((prev: any) => { console.log({ ...prev, ...d }); return { ...prev, ...d } })\n\t\t\t\t});\n\t\t\t})\n\t\t} else {\n\t\t\tconst params = { nickname: nickname.current, email: email.current, greeting: greeting.current };\n\t\t\tawait postfetch(`/users/${id}`, JSON.stringify(params), true, \"PUT\").then((d: any) => {\n\t\t\t\tif (typeof d.id === \"number\") setUserData((prev: any) => { console.log({ ...prev, ...d }); return { ...prev, ...d } })\n\t\t\t});\n\t\t}\n\n\n\n\t\thandleClose();\n\t\tsetLoading(false);\n\t};\n\treturn (\n\t\t<div>\n\t\t\t<Dialog\n\t\t\t\topen={editProfileDialogInfo.visible}\n\t\t\t\tonClose={handleClose}\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\"> </DialogTitle>\n\t\t\t\t<DialogContent style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", paddingBottom:0 }}>\n\t\t\t\t\t<input accept=\"image/*\" style={{ display: \"none\" }} id=\"file-picker\" type=\"file\" onInput={handleProfileImg} />\n\t\t\t\t\t<label htmlFor=\"file-picker\">\n\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\toverlap=\"circular\"\n\t\t\t\t\t\t\tanchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\n\t\t\t\t\t\t\tbadgeContent={\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: GRAY6,\n\t\t\t\t\t\t\t\t\t\tborderRadius: 100,\n\t\t\t\t\t\t\t\t\t\tpadding: 4,\n\t\t\t\t\t\t\t\t\t\tborderStyle: \"solid\",\n\t\t\t\t\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\t\t\t\t\tborderColor: \"white\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon name={\"faHammer\"} color={\"white\"} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Avatar sx={{ border: \"1px solid gray\" }}\n\t\t\t\t\t\t\t\tsrc={imgUrl ?? undefined}\n\t\t\t\t\t\t\t\tstyle={{ width: 56, height: 56 }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{userData?.nickname.slice(0, 1)}\n\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t</label>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tnickname.current = e.target.value;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\t\tlabel=\"Nickname\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\tdefaultValue={nickname.current}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\temail.current = e.target.value;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tdefaultValue={email.current}\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</DialogContent>\n\t\t\t\t<div style={{padding:\"0 24px\", }}>\n\t\t\t\t<TextField\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tgreeting.current = e.target.value;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\tmultiline\n\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\tlabel=\"\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tdefaultValue={greeting.current}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tmaxRows={7}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleClose} style={{ color: GRAY6 }}>\n\t\t\t\t\t\t\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={hanedleSubmit} style={{ color: \"#d32f2f\" }}>\n\t\t\t\t\t\t\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\n\n","import { useHistory, useParams } from \"react-router\";\nimport { Key, useEffect, useState } from \"react\";\nimport { Avatar, Button, Tab, Tabs } from \"@mui/material\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { BackHeader } from \"../components/BackHeader\";\nimport { CourseCard } from \"../components/card/CourseCard\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport useWindowDimensions from \"../hook/useWindowDimensions\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport { editProfileDialogState, loadingState, userDataState } from \"../components/recoil\";\nimport { GRAY2, GRAY4, GRAY6, GRAY7, GRAY8 } from \"../style\";\nimport fetcher from \"../hook/useSWR/fetcher\";\nimport useSWR from \"swr\";\nimport { API_URL } from \"../components/common\";\nimport { BackHeaderRight } from \"../components/BackHeaderRight\";\nimport { CourseType } from \"../types/Course\";\nimport { UserType } from \"../types/User\";\nimport { deepOrange } from \"@mui/material/colors\";\nimport { EditProfileDialog } from \"../components/Dialog/EditProfileDialog\";\n\nconst MyScreen = () => {\n  const history = useHistory();\n  const setEditProfileDialogInfo = useSetRecoilState(editProfileDialogState);\n\n  //#region \n  const [loading, setLoading] = useRecoilState(loadingState);\n  const p: any = useParams();\n  const id = p.id;\n  const userDataLocal = useRecoilValue(userDataState);\n  const { data, error, mutate } = useSWR(`${API_URL}/users?id=${id}`, fetcher);\n  const { height, width } = useWindowDimensions();\n\n  const isMe = id == userDataLocal?.id;\n  const userData: UserType = isMe? userDataLocal : data ? data[0] : null;\n  if ((error || !userData) && !loading) setLoading(true);\n  //#endregion\n  //#region  \n  useEffect(() => {\n    const body = document.getElementsByTagName(\"body\")[0];\n    body.setAttribute(\"style\", \"overflow: scroll;\");\n    return () => {\n      body.setAttribute(\"style\", \"overflow: hidden;\");\n    };\n  }, []);\n  //#endregion\n  //#region \n  useEffect(() => {\n    return () => setLoading(false);\n  }, []);\n  if (error)\n    return (\n      <div>\n        <BackHeader />\n        failed to load\n      </div>\n    );\n  if (!userData)\n    return (\n      <div>\n        <BackHeader />\n        {/* loading... */}\n      </div>\n    );\n  if (loading) setLoading(false);\n  //#endregion\n  \n  const editProfile = () => setEditProfileDialogInfo({visible:true})\n  return (\n    <>\n      <div style={{ height: 56, position: \"fixed\" }}>\n        <BackHeader color={\"black\"} />\n      </div>\n      <div style={{ padding: 16, paddingTop: 56 }}>\n        <div>\n          <div style={{ fontSize: 17, paddingTop: 8, flexDirection: \"row\", display: \"flex\", width: \"100%\" }}>\n            <div style={{width:\"20%\"}}>\n              <Avatar sx={{ border:\"1px solid gray\" }} src={userData.profile_image ?? undefined}\n                style={{ width: width * 0.14, height: width*0.14}}>\n              {userData.nickname.slice(0, 1)}\n              </Avatar>\n            </div>\n            <div style={{ width: \"60%\", display: \"flex\", flexDirection: \"column\", paddingLeft: 16, paddingRight: 16 }}>\n              <div style={{ display: 'flex', flexDirection: 'column',height:\"100%\" }}>\n                <div style={{flex:1, marginTop:4}}>\n                  {userData.nickname ?? \" \"}\n                </div>\n                <div style={{ flex: 1, marginBottom: 4 }}>\n                  <div style={{ color: GRAY7, fontSize: 15, paddingTop: 2, overflowWrap: 'anywhere' }}>{userData.email ?? \" \"}</div>\n                </div>\n              </div>\n            </div>\n            \n            {isMe ? <div style={{ width: \"20%\",display: 'flex', alignItems: 'center', justifyContent: 'center', minWidth:\"6em\"}}>\n              <Button variant=\"outlined\" size=\"small\" style={{ height:32, }} onClick={editProfile}> </Button>\n            </div> : false}\n            \n          </div>\n          <div style={{ padding:\"8px 16px 0 16px\", overflowWrap:'break-word',color:GRAY8 }}>\n            {userData.greeting ?? \" .\"}\n          </div>\n          {/* <FaPenAlt style={{ color: \"343A40\", marginLeft: 5, height: 15 }} /> */}\n          {/* <div className=\"points\">{points} </div> */}\n          {/* <Button variant=\"text\">Text</Button>\n              <Button variant=\"contained\">Contained</Button>\n              <Button variant=\"outlined\">Outlined</Button> */}\n          {/* <div className=\"points\"> </div> */}\n        </div>\n\n        {/*  {courseNum} */}\n        {/* <div style={{ color: GRAY7, fontSize: 15 }}>\n             {userData.following && (userData.following.length ?? 0)}  {\"userData.follower\" ?? 0}\n          </div> */}\n      </div>\n      <ResultTabs />\n      <EditProfileDialog/>\n    </>\n  );\n};\n\nconst ResultTabs = () => {\n  const [index, setIndex] = useState(0);\n  const handleChange = (e: any, i: number) => setIndex(i);\n  const handleChangeIndex = (i: number) => setIndex(i);\n  const {  width } = useWindowDimensions();\n  return (\n    <>\n      <Tabs\n        value={index}\n        onChange={handleChange}\n        style={{\n          position: \"sticky\",\n          top: 0,\n          backgroundColor: \"white\",\n          width: width,\n          zIndex: 10,\n          paddingTop: 0,\n          margin:\"0 24px\"\n        }}\n      >\n        {/* <Tab label=\" \" style={{ width: \"50%\", fontSize: 15 }} /> */}\n        {/* <Tab label=\" \" style={{ width: \"50%\", fontSize: 15 }} /> */}\n        <Tab label=\" \" style={{width:\"100%\",  fontSize: 15 }}/>\n      </Tabs>\n      <SwipeableViews index={index} onChangeIndex={handleChangeIndex}>\n        {/* <div>\n          <LogList />\n        </div> */}\n        <div>\n          <CourseList />\n        </div>\n      </SwipeableViews>\n    </>\n  );\n};\n\nconst LogList = () => {\n  const sampleLog = [\n    {\n      content: \"  .\",\n      user_id: 5, // \n      img: \"\", //    \n    },\n    {\n      content: '\"...\"  .',\n      user_id: 5, // \n      img: \"\", //    \n    },\n    {\n      content: \" .\",\n      user_id: 5, // \n      img: \"\", //    \n    },\n    {\n      content: \"  .\",\n      user_id: 5, // \n      img: \"\", //    \n    },\n  ];\n  const sampleLogList = [...sampleLog, ...sampleLog, ...sampleLog];\n\n  return (\n    <>\n      <Swiper slidesPerView={1} direction={\"vertical\"} speed={500} height={90}>\n        {sampleLogList.map((item, i) => (\n          // item.content\n          // item.user_id\n          // item.img\n          <SwiperSlide key={i.toString()}>\n            <div\n              style={{\n                margin: \"16px 16px\",\n                padding: \"16px 16px\",\n                borderColor: GRAY4,\n                borderWidth: 1,\n                borderStyle: \"solid\",\n                borderRadius: 16,\n                backgroundColor: GRAY2,\n              }}\n            >\n              <div>{item.content}</div>\n              <div>{item.user_id}</div>\n              <div>{item.img}</div>\n            </div>\n          </SwiperSlide>\n        ))}\n      </Swiper>\n    </>\n  );\n};\n\nconst CourseList = () => {\n  const p: any = useParams();\n  const id = p.id;\n  const { height, width } = useWindowDimensions();\n  const { data: list, error, mutate } = useSWR(`${API_URL}/courses?creator_id=${id}`, fetcher);\n\n  return (\n    <>\n      <Swiper slidesPerView={1} direction={\"vertical\"} speed={500} height={260}>\n        {list\n          ? list.map((course: CourseType | undefined) => (\n              <SwiperSlide key={course?.id}>\n                <CourseCard width={width} course={course} />\n              </SwiperSlide>\n            ))\n          : false}\n      </Swiper>\n    </>\n  );\n};\nexport default MyScreen;\n\n/*\n<To-Do-List>\n-      style,\n-  ,\n-       \n- Menu  (, , ),\n-  \n-   \n*/\n","import { Avatar, AvatarGroup } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useSetRecoilState } from \"recoil\";\nimport useSWR from \"swr\";\nimport fetcher from \"../hook/useSWR/fetcher\";\nimport { GRAY6, GRAY8 } from \"../style\";\nimport { ChatRoomType } from \"../types/ChatRoom\";\nimport { API_URL } from \"./common\";\nimport { Icon } from \"./common/Icon\";\nimport { MenuModalState } from \"./recoil\";\n\n\ntype PropType = {\n\troomData: ChatRoomType | null;\n};\nexport const BackHeaderRight = ({ roomData }: PropType) => {\n\tconst history = useHistory();\n\tconst setMenu = useSetRecoilState(MenuModalState)\n\n\tif (!roomData) return <></>;\n\tconst onMenu = () => setMenu({visible:true})\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: \"space-evenly\",\n\t\t\t\tposition: \"sticky\",\n\t\t\t\tbackgroundColor: \"white\",\n\t\t\t\ttop: 0,\n\t\t\t\tzIndex: 5,\n\t\t\t}}\n\t\t\tclassName={\"topNotchHeader\"}\n\t\t>\n\t\t\t<div style={{ flex: 1, padding: 16 }}>\n\t\t\t\t<div style={{ width: 30 }} onClick={() => history.goBack()}>\n\t\t\t\t\t<Icon name={\"faChevronLeft\"} color={GRAY8} type={\"light\"} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div style={{ flex: 1, display: \"flex\", justifyContent: \"center\", padding: 8, fontWeight: \"bold\" }}>\n\t\t\t\t<AvatarGroup max={4}>\n\t\t\t\t\t{roomData.enter_users.map((u) =>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Avatar sx={{ border: \"1px solid gray\" }}\n\t\t\t\t\t\t\talt={u.nickname}\n\t\t\t\t\t\t\tsrc={u.profile_image}\n\t\t\t\t\t\t\tstyle={{ width: 32, height: 32 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{u.nickname.slice(0, 1)}\n\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t)}\n\t\t\t\t</AvatarGroup>\n\t\t\t</div>\n\t\t\t{/*  :    */}\n\t\t\t<div style={{ flex: 1, display: \"flex\", justifyContent: \"flex-end\", margin: \"8px 16px 8px 8px\" }}onClick={onMenu}>\n\t\t\t\t<div style={{ padding: 8 }}>\n\t\t\t\t\t<Icon name={\"faBars\"} color={GRAY8} size={16} type=\"light\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};","import { CircularProgress } from \"@mui/material\";\nimport { useRecoilState } from \"recoil\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\nimport { MessageChatType } from \"../../screen/ChatScreen\";\nimport { GRAY2, GRAY5, GRAY7 } from \"../../style\";\nimport { lastMessageMarginBottomState, userDataState } from \"../recoil\";\n\nexport const MessageChatCard = ({\n\tdata,\n\tmref,\n\tisLast = false,\n}: {\n\tdata: MessageChatType;\n\tmref?: any;\n\tisLast?: boolean;\n\t}) => {\n\tswitch (typeof data.media) {\n\t\t//  / \n\t\t// case 'string':\n\t\t// \treturn <DefaultChat data={data} mref={mref} isLast={isLast} />;\n\t\tdefault:\n\t\t\treturn <DefaultChat data={data} mref={mref} isLast={isLast} />;\n\t}\n};\n\nconst DefaultChat = ({ data, mref, isLast = false }: { data: MessageChatType; mref?: any; isLast?: boolean }) => {\n\n\tconst [userData] = useRecoilState(userDataState);\n\tconst { height, width } = useWindowDimensions();\n\tconst [lastMessageMarginBottom] = useRecoilState(lastMessageMarginBottomState); //setLastMessageMarginBottom\n\tconst isMy = data.user_id ? data.user_id.nickname === userData?.nickname : true;\n\n\tconst year = data.created_at ? Number(data.created_at.slice(0, 4)) : \"\";\n\tconst month = data.created_at ? Number(data.created_at.slice(5, 7)): \"\";\n\tconst day = data.created_at ? Number(data.created_at.slice(8, 10)) : \"\";\n\tconst date = data.created_at ? `${year} ${month} ${day}` : \"\"\n\n\tconst hour = data.created_at ? Number(data.created_at.slice(11, 13)) : 0;\n\tconst min = data.created_at ? data.created_at.slice(13, 16) : \"\";\n\tconst AMPM = hour < 12;\n\tconst time = AMPM ? ` ${hour}${min}` : ` ${hour === 12 ? 12 : hour - 12}${min}`;\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: isMy ? \"flex-end\" : \"flex-start\",\n\t\t\t\twidth: width - 32,\n\t\t\t\tpadding: \"2px 16px\",\n\t\t\t}}\n\t\t>\n\t\t\t<div style={{ display: \"flex\", flexDirection: \"column\", alignItems: isMy ? \"flex-end\" : \"flex-start\" }}>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: isMy ? GRAY7 : GRAY2,\n\t\t\t\t\t\tpadding: \"12px 16px\",\n\t\t\t\t\t\tborderRadius: isMy ? \"16px 16px 0 16px \" : \"16px 16px 16px 0 \",\n\t\t\t\t\t\tcolor: isMy ? \"white\" : GRAY7,\n\t\t\t\t\t\tfontWeight: \"normal\",\n\t\t\t\t\t\tfontSize: 14,\n\t\t\t\t\t\tmaxWidth: width - 80,\n\t\t\t\t\t\twordBreak: \"break-all\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{data.message}\n\t\t\t\t</div>\n\t\t\t\t{data.created_at ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={mref}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: GRAY5,\n\t\t\t\t\t\t\tfontWeight: \"normal\",\n\t\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t\t\tmarginTop: 4,\n\t\t\t\t\t\t\tpaddingBottom: isLast ? lastMessageMarginBottom : 0,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{date+\" \"+time}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={mref}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: GRAY5,\n\t\t\t\t\t\t\tfontWeight: \"normal\",\n\t\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t\t\tmarginTop: 4,\n\t\t\t\t\t\t\tpaddingBottom: isLast ? lastMessageMarginBottom : 0,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={12} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};","import { Divider, Drawer } from \"@mui/material\";\nimport { useParams } from \"react-router-dom\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport useSWR from \"swr\";\nimport fetcher from \"../../hook/useSWR/fetcher\";\nimport { ChatRoomType } from \"../../types/ChatRoom\";\nimport { RoomCard } from \"../card/RoomCard\";\nimport { API_URL, postfetch } from \"../common\";\nimport { alertDialogInit, alertDialogState, loadingState, MenuModalState, userDataState } from \"../recoil\";\nimport Typography from \"@mui/material/Typography\";\nimport { CSSProperties } from \"react\";\nimport { GRAY2 } from \"../../style/index\";\nimport { ProfileCard } from \"../card/ProfileCard\";\nimport Button from \"@mui/material/Button\";\nimport { useHistory } from \"react-router\";\nimport useWindowDimensions from \"../../hook/useWindowDimensions\";\n\nexport const ChatMenuModal = () => {\n  const [menu, setMenu] = useRecoilState(MenuModalState);\n  const { id }: { id: string | undefined } = useParams();\n  const { data: dataR, error: errorR, mutate: mutateR } = useSWR(`${API_URL}/chat-rooms?id=${id}`, fetcher);\n  const userData = useRecoilValue(userDataState);\n  const history = useHistory();\n  const setAlertDialogInfo = useSetRecoilState(alertDialogState);\n  const setLoading = useSetRecoilState(loadingState); //loading\n\n  const onClose = () => setMenu({ visible: false });\n  const onExit = () => {\n    setAlertDialogInfo({\n      visible: true,\n      title: \" \",\n      text: \"   \\n    .\\n\\n ?\",\n      confirmText: \"\",\n      handleConfirm: () => {\n        const enter_users_filtered = room.enter_users.map((u) => u.id).filter((id) => id !== userData?.id);\n        setLoading(true);\n        postfetch(\n          `/chat-rooms/${id}`,\n          JSON.stringify({\n            enter_users: enter_users_filtered,\n          }),\n          true,\n          \"PUT\"\n        ).then((d) => {\n          setLoading(false);\n          setAlertDialogInfo(alertDialogInit);\n          onClose();\n          history.push('/mychat');\n        });\n      },\n    });\n  };\n\n  const room: ChatRoomType = dataR[0];\n  return (\n    <>\n      <Drawer anchor={\"right\"} open={menu.visible} onClose={onClose}>\n        <div style={roomStyle.header}> </div>\n        <RoomCard\n          room={room}\n          noClick={false}\n          onClick={() => {\n            return;\n          }}\n          style={{ padding: 16 }}\n          showEnterBtn={false}\n        />\n        <Divider light />\n        {room.enter_users.map((u) => (\n          <ProfileCard\n            onClick={()=>history.push(`/user/${u.id}`)}\n            address={u.nickname}\n            title={u.greeting === \"\" ? \" .\" : u.greeting}\n            // desc={` ${u.follower ?? 0}`}\n            img={u.profile_image ?? null}\n            icon={\"faUser\"}\n            userId={u.id}\n          />\n        ))}\n        <Divider light sx={{ marginTop: 1 }} />\n        <div style={roomStyle.exitBtn} onClick={onExit}>\n          <Button fullWidth color=\"error\">\n            \n          </Button>\n        </div>\n      </Drawer>\n    </>\n  );\n};\nconst roomStyle: { [key: string]: CSSProperties } = {\n  header: { backgroundColor: GRAY2, padding: 16, fontWeight: \"bold\", justifyContent: \"center\", display: \"flex\" },\n  exitBtn: {\n    position: \"absolute\",\n    bottom: 0,\n    width: 313 - 32,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 16,\n  },\n};\n","import { forwardRef, useEffect, useRef, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\nimport { lastMessageMarginBottomState, loadingState, MenuModalState, userDataState } from \"../components/recoil\";\nimport useSWR from \"swr\";\nimport { API_URL, postfetch } from \"../components/common\";\nimport fetcher from \"../hook/useSWR/fetcher\";\nimport { BackHeaderRight } from \"../components/BackHeaderRight\";\nimport { MessageChatCard } from \"../components/card/MessageChatCard\";\nimport { GRAY1, GRAY6, ORANGE } from \"../style\";\nimport { TextareaAutosize } from \"@mui/base\";\nimport { UserType } from \"../types/User\";\nimport useWindowDimensions from \"../hook/useWindowDimensions\";\nimport { CreatorType } from \"../types/Course\";\nimport { ChatRoomType } from \"../types/ChatRoom\";\nimport {ChatMenuModal} from \"../components/modal/ChatMenuModal\";\nimport { AlertDialog } from \"../components/Dialog/AlertDialog\";\n\n//    \n\nlet msgloading = false;\n\nexport const ChatScreen = ({ }) => {\n  const history = useHistory();\n  const textareaRef = useRef(\"\");\n  const isInit = useRef(true);\n  const messageareaRef = useRef<HTMLDivElement>(null);\n  \n\n  //#region  \n  const body = document.getElementsByTagName('body')[0];\n  useEffect(() => {\n    body.setAttribute(\"style\", \"overflow: scroll;\");\n    body.setAttribute(\"style\", \"overflow-x: hidden;\");\n    return () => {\n      // body.removeAttribute(\"style\");\n      setLoading(false);\n    }\n  }, [])\n  //#endregion\n  //#region \n  const { id }: { id: string | undefined } = useParams();\n  const [loading, setLoading] = useRecoilState(loadingState);\n  const { data, error, mutate } = useSWR(`${API_URL}/chats?chat_room_id=${id}`, fetcher, { refreshInterval: 1000 });\n  const { data: dataR, error: errorR, mutate: mutateR } = useSWR(`${API_URL}/chat-rooms?id=${id}`, fetcher, { refreshInterval: 1000 });\n  const { data: dataU, error: errorU } = useSWR(`${API_URL}/users?id=${1}`, fetcher);\n  if ((!data || !dataU || !dataR || error || errorU || errorR ) && !loading) setLoading(true);\n  useEffect(() => {\n    return () => setLoading(false);\n  }, []);\n  if (error || errorU || errorR)\n    return (\n      <div>\n        <BackHeaderRight roomData={null} />\n        failed to load\n      </div>\n    );\n  if (!data || !dataU || !dataR)\n    return (\n      <div>\n        <BackHeaderRight roomData={null} />\n        {/* loading... */}\n      </div>\n    );\n  if (loading) setLoading(false);\n  //#endregion\n\n\n  const userData: UserType = dataU[0];\n  const chatRoomData: ChatRoomType = dataR[0];\n\n  return (\n    <>\n      <BackHeaderRight roomData={chatRoomData} />\n      <MessageArea list={data} isInit={isInit} messageareaRef={messageareaRef} />\n      <Input ref={textareaRef} list={data} mutate={mutate} />\n      <ChatMenuModal />\n      <AlertDialog/>\n    </>\n  );\n};\n\nconst MessageArea = ({\n  list,\n  isInit,\n  messageareaRef,\n}: {\n  list: MessageChatType[];\n  isInit: any;\n  messageareaRef?: any;\n}) => {\n  return (\n    <div ref={messageareaRef} className={\"MessageArea\"} style={{ display: \"flex\", flexDirection: \"column-reverse\" }}>\n      <MessageList list={list} isInit={isInit} />\n    </div>\n  );\n};\nconst MessageList = ({ list, isInit }: { list: MessageChatType[]; isInit: any }) => {\n  const isLast = true;\n  const [lastMessageMarginBottom] = useRecoilState(lastMessageMarginBottomState); //setLastMessageMarginBottom\n  const parentRef = useRef<HTMLDivElement | null>(null);\n  const ref = useRef<HTMLDivElement | null>(null);\n\n  //#region         \n  useEffect(() => {\n    if (parentRef && parentRef.current && ref && ref.current) {\n      if (window.pageYOffset > parentRef.current?.scrollHeight - window.innerHeight) {\n        //    \n        ref.current.scrollIntoView();\n      }\n    }\n  }, [lastMessageMarginBottom]);\n  //#endregion\n  //#region        /        .\n  useEffect(() => {\n    const MessageArea = document.getElementsByClassName('MessageArea')[0];\n    if (ref && ref.current && isInit.current && isLast && list.length > 0) {\n      setTimeout(() => {\n        window.scroll(0, 9999999);\n      }, 100);\n      isInit.current = false;\n    } else if (Math.abs(window.scrollY + 375 + 375 - MessageArea.scrollHeight) < 100) {\n      setTimeout(() => {\n        window.scroll(0, 9999999);\n      }, 100);\n    } \n  }, [list.length]);\n\n\n  //#endregion\n\n  return (\n    <div ref={parentRef} style={{ display: \"flex\", flexDirection: \"column\" }}>\n      {list && list.length > 0\n        ? list.map((m, i) =>\n          isLast && i === list.length - 1 ? (\n            <MessageChatCard mref={ref} isLast data={m} key={i.toString()} />\n          ) : (\n            <MessageChatCard data={m} key={i.toString()} />\n          )\n        )\n        : false}\n    </div>\n  );\n};\n\nconst Input = forwardRef(({ mutate, list }: { mutate: any; list: MessageChatType[] }, ref?: any) => {\n  const { id: roomId }: any = useParams();\n  const [userData] = useRecoilState(userDataState);\n  const [lastMessageMarginBottom, setLastMessageMarginBottom] = useRecoilState(lastMessageMarginBottomState);\n  const { height, width } = useWindowDimensions();\n  const [text, setText] = useState(\"\");\n  const textRef = useRef<HTMLTextAreaElement | null>(null);\n  const [isConfirm, setIsConfirm] = useState(false);\n  //#region  \n  const history = useHistory();\n  //#endregion\n\n  //#region         \n  // ->      50ms \n  useEffect(() => {\n    setTimeout(() => {\n      if (Math.abs(ref.current.scrollHeight - lastMessageMarginBottom) > 10)\n        setLastMessageMarginBottom(ref.current.scrollHeight + 10);\n    }, 50);\n  }, [text]);\n  //#endregion\n  const onInput = (e: any) => {\n    if (e.target.value !== \"\" && !isConfirm) setIsConfirm(true);\n    else if (e.target.value === \"\" && isConfirm) setIsConfirm(false);\n    setText(e.target.value);\n  };\n  const onClickSend = async () => {\n    if (text === \"\") return;\n    setText(\"\");\n    setIsConfirm(false);\n    //#region  local mutation\n    mutate([...list, MessageChatInit(text)], false);\n    //#endregion\n    setTimeout(() => {\n      window.scroll(0, 9999999);\n    }, 30);\n    await postfetch(\"/chats\", JSON.stringify({ message: text, chat_room_id: roomId, user_id: String(userData?.id) }), true);\n    mutate();\n  };\n  return (\n    <div\n      ref={ref}\n      style={{\n        position: \"fixed\",\n        bottom: 0,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        width: width - 32,\n        padding: 16,\n        backgroundColor: \"white\",\n        alignItems: \"center\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          flex: 1,\n          backgroundColor: GRAY1,\n          padding: 8,\n          marginRight: 16,\n          borderRadius: 10,\n          alignItems: \"center\",\n        }}\n      >\n        {/*  */}\n        {/* <Icon name={\"camera\"} size={12} /> */}\n        <div style={{ flex: 1, display: \"flex\" }}>\n          <TextareaAutosize\n            ref={textRef}\n            value={text}\n            onInput={onInput}\n            placeholder={\"  !\"}\n            style={{\n              marginTop: 4,\n              paddingLeft: 16,\n              width: \"100%\",\n              outline: \"none\",\n              border: \"none\",\n              backgroundColor: GRAY1,\n              fontSize: 15,\n              caretColor: ORANGE,\n              resize: \"none\",\n            }}\n          />\n        </div>\n      </div>\n      <div onClick={onClickSend} style={{ display: \"flex\", color: isConfirm ? ORANGE : GRAY6 }}>\n        \n      </div>\n    </div>\n  );\n});\n//#region Types\nexport const MessageChatInit = (message: string) => {\n  return {\n    id: -1,\n    chat_room_id: null, //start_route => id  .\n    message: message,\n    deleted_at: null,\n    user_id: null,\n    published_at: null,\n    created_at: null,\n    updated_at: null,\n    media: null,\n  };\n};\nexport type MessageChatType = {\n  id: number;\n  chat_room_id: ChatRoomType; //start_route => id  .\n  message: string; //\" !\",\n  deleted_at: string | null;\n  user_id: CreatorType;\n  published_at: string; // \"2021-11-20T14:06:20.000Z\",\n  created_at: string; //\"2021-11-20T14:06:17.000Z\",\n  updated_at: string; //\"2021-11-20T14:06:20.000Z\"\n  media: string | null;\n};\n\n//#endregion\n\nexport default ChatScreen;\n","import { useEffect } from \"react\"\nimport { useHistory } from \"react-router-dom\"\n\nimport * as D from 'react-device-detect'\nexport const Redirect = () => {\n\tconst history = useHistory();\n\n\tuseEffect(() => { \n\t\tif (D.isIOS || D.isSafari) {\n\t\t\tvar url = \"campustaxi://media\";\n\t\t\tsetTimeout(function () {\n\t\t\t\twindow.open(\"https://itunes.apple.com/kr/app/campustaxi/id1534509768?mt=8\");\n\t\t\t}, 2500);\n\t\t\tlocation.href = url;\n\t\t\talert(\"I\")\n\t\t} else if(D.isAndroid){\n\t\t\twindow.open(\"intent://campustaxi.campustaxi.com/#Intent;package=com.campustaxi.campustaxi;scheme=https;end\")\n\t\t\talert(\"A\")\n\t\t} else {\n\t\t\thistory.replace(\"/\")\n\t\t\talert(\"WEB\")\n\t\t}\n\t},[])\n\treturn <></>\n}","import { RecoilRoot, useRecoilState, useRecoilValue } from \"recoil\";\nimport HomeScreen from \"./screen/HomeScreen\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\n\nimport SearchScreen from \"./screen/SearchScreen\";\nimport CourseDetailScreen from \"./screen/CourseDetailScreen\";\nimport CourseScreen from \"./screen/CourseScreen\";\nimport ShopScreen from \"./screen/ShopScreen\";\nimport MyChatScreen from \"./screen/MyChatScreen\";\nimport UserScreen from \"./screen/UserScreen\";\nimport { resetServerContext } from \"react-beautiful-dnd\";\nimport { LinearProgress } from \"@mui/material\";\nimport { loadingState } from \"./components/recoil\";\nimport ChatScreen from \"./screen/ChatScreen\";\nimport moment from \"moment\";\nimport \"moment/locale/ko\";\nimport { Redirect } from \"./screen/Redirect\";\n/* eslint-disable */\n\nexport const isIOSPublishing = true; //iOS  .\nresetServerContext();\n\nconst App = () => {\n  return (\n    <RecoilRoot>\n      <BrowserRouter>\n        <LoadingPage />\n        <Switch>\n          <Route exact path=\"/\">\n            {/* <HomeScreenPre /> */}\n            <HomeScreen />\n          </Route>\n          <Route exact path=\"/home\">\n            <HomeScreen />\n          </Route>\n          <Route exact path=\"/course/detail/:id\">\n            <CourseDetailScreen />\n          </Route>\n          <Route exact path=\"/course\">\n            <CourseScreen />\n          </Route>\n          <Route path=\"/search\">\n            <SearchScreen />\n          </Route>\n          {/* jeong */}\n          <Route path=\"/shop\">\n            <ShopScreen />\n          </Route>\n          {/* seo */}\n          <Route exact path=\"/mychat\">\n            <MyChatScreen />\n          </Route>\n          <Route exact path=\"/chat/:id\">\n            <ChatScreen />\n          </Route>\n          <Route exact path=\"/user/:id\">\n            <UserScreen />\n          </Route>\n          <Route exact path=\"/redirect\">\n            <Redirect/>\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </RecoilRoot>\n  );\n};\n\nconst LoadingPage = () => {\n  const loading = useRecoilValue(loadingState);\n  return (\n    <div>{loading ? <LinearProgress style={{ zIndex: 99 }} variant={\"indeterminate\"} color={\"info\"} /> : false}</div>\n  );\n};\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\nreportWebVitals();\n"],"sourceRoot":""}