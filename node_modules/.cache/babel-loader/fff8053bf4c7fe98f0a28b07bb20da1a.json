{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nimport { useCallback, useState } from 'react';\nimport { State } from 'xstate';\nimport { ReactEffectType } from './types';\nimport { useInterpret } from './useInterpret';\n\nfunction createReactActionFunction(exec, tag) {\n  var effectExec = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    } // don't execute; just return\n\n\n    return function () {\n      return exec.apply(void 0, __spreadArray([], __read(args)));\n    };\n  };\n\n  Object.defineProperties(effectExec, {\n    name: {\n      value: \"effect:\" + exec.name\n    },\n    __effect: {\n      value: tag\n    }\n  });\n  return effectExec;\n}\n\nexport function asEffect(exec) {\n  return createReactActionFunction(exec, ReactEffectType.Effect);\n}\nexport function asLayoutEffect(exec) {\n  return createReactActionFunction(exec, ReactEffectType.LayoutEffect);\n}\nexport function useMachine(getMachine, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var listener = useCallback(function (nextState) {\n    // Only change the current state if:\n    // - the incoming state is the \"live\" initial state (since it might have new actors)\n    // - OR the incoming state actually changed.\n    //\n    // The \"live\" initial state will have .changed === undefined.\n    var initialStateChanged = nextState.changed === undefined && Object.keys(nextState.children).length;\n\n    if (nextState.changed || initialStateChanged) {\n      setState(nextState);\n    }\n  }, []);\n  var service = useInterpret(getMachine, options, listener);\n\n  var _a = __read(useState(function () {\n    var initialState = service.machine.initialState;\n    return options.state ? State.create(options.state) : initialState;\n  }), 2),\n      state = _a[0],\n      setState = _a[1];\n\n  return [state, service.send, service];\n}","map":{"version":3,"sources":["/Users/macbook/_myProject/campustaxi-2-webview/node_modules/@xstate/react/es/useMachine.js"],"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","__spreadArray","to","from","il","length","j","useCallback","useState","State","ReactEffectType","useInterpret","createReactActionFunction","exec","tag","effectExec","args","_i","arguments","apply","Object","defineProperties","name","__effect","asEffect","Effect","asLayoutEffect","LayoutEffect","useMachine","getMachine","options","listener","nextState","initialStateChanged","changed","undefined","keys","children","setState","service","_a","initialState","machine","state","create","send"],"mappings":"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","sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport { useCallback, useState } from 'react';\nimport { State } from 'xstate';\nimport { ReactEffectType } from './types';\nimport { useInterpret } from './useInterpret';\nfunction createReactActionFunction(exec, tag) {\n    var effectExec = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // don't execute; just return\n        return function () {\n            return exec.apply(void 0, __spreadArray([], __read(args)));\n        };\n    };\n    Object.defineProperties(effectExec, {\n        name: { value: \"effect:\" + exec.name },\n        __effect: { value: tag }\n    });\n    return effectExec;\n}\nexport function asEffect(exec) {\n    return createReactActionFunction(exec, ReactEffectType.Effect);\n}\nexport function asLayoutEffect(exec) {\n    return createReactActionFunction(exec, ReactEffectType.LayoutEffect);\n}\nexport function useMachine(getMachine, options) {\n    if (options === void 0) { options = {}; }\n    var listener = useCallback(function (nextState) {\n        // Only change the current state if:\n        // - the incoming state is the \"live\" initial state (since it might have new actors)\n        // - OR the incoming state actually changed.\n        //\n        // The \"live\" initial state will have .changed === undefined.\n        var initialStateChanged = nextState.changed === undefined &&\n            Object.keys(nextState.children).length;\n        if (nextState.changed || initialStateChanged) {\n            setState(nextState);\n        }\n    }, []);\n    var service = useInterpret(getMachine, options, listener);\n    var _a = __read(useState(function () {\n        var initialState = service.machine.initialState;\n        return (options.state\n            ? State.create(options.state)\n            : initialState);\n    }), 2), state = _a[0], setState = _a[1];\n    return [state, service.send, service];\n}\n"]},"metadata":{},"sourceType":"module"}