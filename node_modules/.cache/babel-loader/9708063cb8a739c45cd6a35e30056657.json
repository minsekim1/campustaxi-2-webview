{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/_myProject/campustaxi-2-webview/src/components/Input/CommandArea.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { Icon } from \"../common/Icon\";\nimport { useRecoilState } from \"recoil\";\nimport { alertDialogInit, alertDialogState, commandInputListState, commandWindowState, placePosState } from \"../recoil\";\nimport { FadeDiv } from \"../FadeDiv\";\nimport { CommandListRenderItem } from \"./CommandInput/CommandListRenderItem\";\nimport { getItems, getItemStyle, getListStyle, onDragEnd } from \"./CommandInput/dndFunc\";\nimport { useCallback, useEffect } from \"react\";\nimport { posInit } from \"../common\";\nimport { CItem } from \"./CommandInput/CItem\";\nimport { deleteModePosState } from \"./../recoil\";\nimport Button from \"@mui/material/Button\";\nimport { Rowdot } from \"./../Icon/Rowdot\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CommandArea = ({}) => {\n  _s();\n\n  const [deleteMode, setDeleteMode] = useRecoilState(deleteModePosState);\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  const [alertDialogInfo, setAlertDialogInfo] = useRecoilState(alertDialogState);\n  const [commandWindow] = useRecoilState(commandWindowState);\n  const [placePos, setPlacePos] = useRecoilState(placePosState); //#region 명령어입력창 마지막는 무조건 텍스트(text,h1,h2,h3)로\n\n  useEffect(() => {\n    const type = commandInputList[commandInputList.length - 1].type;\n\n    if (type !== \"text\" && type !== \"h1\" && type !== \"h2\" && type !== \"h3\") {\n      setCommandInputList([...commandInputList, ...getItems(1, commandInputList.length + 1, \"text\")]);\n    }\n  }, [commandInputList.length]); //#endregion\n  //#region 장소 선택 후 돌아올떄 반영\n\n  useEffect(() => {\n    if (placePos.id !== -1) {\n      let i = commandWindow.index;\n      setCommandInputList([...commandInputList.slice(0, i + 1), ...getItems(1, commandInputList.length, \"place\", placePos), ...commandInputList.slice(i + 1, 999)]);\n      setPlacePos(posInit);\n    }\n  }, []); //#endregion\n  //#region 명령어창 UI\n\n  const CommandRect = useCallback(() => {\n    return /*#__PURE__*/_jsxDEV(FadeDiv, {\n      visible: commandWindow.visible,\n      style: {\n        position: \"absolute\",\n        top: commandWindow.top,\n        left: commandWindow.left,\n        zIndex: 9999\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: commandWindow.height,\n          width: 260,\n          overflow: \"scroll\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"text\",\n          title: \"#텍스트, #text\",\n          desc: \"일반 텍스트로 글을 작성하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"place\",\n          title: \"#장소, #place\",\n          desc: \"지도에서 장소를 선택하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"product\",\n          title: \"#상품, #product\",\n          desc: \"네이버샵의 상품을 선택하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"image\",\n          title: \"#이미지, #image\",\n          desc: \"이미지를 업로드해보세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"h1\",\n          title: \"#큰 제목, h1\",\n          desc: \"큰 제목으로 글을 시작하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"h2\",\n          title: \"#부제목, #h2\",\n          desc: \"부제목으로 글을 시작하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"h3\",\n          title: \"#소제목 #h3\",\n          desc: \"소주제로 글을 시작하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"tag\",\n          title: \"#태그, #tag\",\n          desc: \"태그를 걸어 다른 사용자와 공유하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"contour\",\n          title: \"#구분선, #contour\",\n          desc: \"블록을 구분선으로 나눕니다.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"red\",\n          title: \"#빨간색 글씨, #red\",\n          desc: \"빨간색으로 글을 작성하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"blue\",\n          title: \"#파란색 글씨, #blue\",\n          desc: \"파란색으로 글을 작성하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"brown\",\n          title: \"#갈색 글씨, #yellow\",\n          desc: \"갈색으로 글을 작성하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"purple\",\n          title: \"#보라색 글씨, #purple\",\n          desc: \"보라색으로 글을 작성하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"yellow\",\n          title: \"#노란색 배경, #yellow-background\",\n          desc: \"노란색 배경으로 글을 작성하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"orange\",\n          title: \"#주황색 배경, #orange-background\",\n          desc: \"주황색 배경으로 글을 작성하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommandListRenderItem, {\n          img: \"gray\",\n          title: \"#회색 배경, #gray-background\",\n          desc: \"회색 배경으로 글을 작성하세요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }, [commandWindow.visible, commandWindow.left, commandWindow.top]); //#endregion\n  //#region 블록 하나 삭제\n\n  const onClickDelete = (i, item) => {\n    if (!alertDialogInfo.visible) {\n      setAlertDialogInfo({\n        visible: true,\n        title: \"\",\n        text: \"정말 삭제하시겠습니까?\",\n        handleConfirm: () => {\n          const list = [...commandInputList.slice(0, i), ...commandInputList.slice(i + 1, 999)];\n          setCommandInputList(list.length > 0 ? list : [...getItems(1, 1, \"text\", \"\")]);\n          setAlertDialogInfo(alertDialogInit);\n        }\n      });\n      setDeleteMode({ ...deleteMode,\n        index: i\n      });\n    }\n  }; //#endregion\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      paddingBottom: 300\n    },\n    children: [/*#__PURE__*/_jsxDEV(CommandRect, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DragDropContext, {\n      onDragEnd: r => onDragEnd(r, commandInputList, setCommandInputList),\n      children: /*#__PURE__*/_jsxDEV(Droppable, {\n        droppableId: \"droppable\",\n        children: (provided, snapshot) => /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: provided.innerRef,\n          style: getListStyle(snapshot.isDraggingOver),\n          children: [commandInputList.map((item, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n            draggableId: item.id,\n            index: index,\n            children: (provided, snapshot) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: provided.innerRef,\n                ...provided.draggableProps,\n                ...provided.dragHandleProps,\n                style: getItemStyle(snapshot.isDragging, provided.draggableProps.style),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    alignItems: \"flex-start\",\n                    justifyItems: \"center\",\n                    marginTop: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyItems: \"center\",\n                      marginRight: 8,\n                      marginTop: 7,\n                      height: 10\n                    },\n                    children: deleteMode.visible ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: () => onClickDelete(index, item),\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        name: \"faTrash\",\n                        type: \"light\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(Rowdot, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: alertDialogInfo.visible && deleteMode.index === index ? {\n                      borderStyle: \"solid\",\n                      borderWidth: 2,\n                      borderRadius: 3,\n                      borderColor: \"#d32f2f\"\n                    } : {\n                      padding: 1.5\n                    },\n                    children: /*#__PURE__*/_jsxDEV(CItem, {\n                      index: index,\n                      data: item\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 23\n              }, this);\n            }\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this)), provided.placeholder]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteBlock, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CommandArea, \"8k1IPM2+jzf6ltudVwDSdFDs/Rg=\", false, function () {\n  return [useRecoilState, useRecoilState, useRecoilState, useRecoilState, useRecoilState];\n});\n\n_c = CommandArea;\n\nconst DeleteBlock = ({}) => {\n  _s2();\n\n  const [deleteMode, setDeleteMode] = useRecoilState(deleteModePosState);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"8%\",\n      left: \"4%\"\n    },\n    onClick: () => setDeleteMode({\n      visible: !deleteMode.visible,\n      index: -1\n    }),\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      style: {\n        textTransform: \"none\"\n      },\n      variant: deleteMode.visible ? \"contained\" : \"outlined\",\n      color: \"error\",\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        name: \"faTrash\",\n        color: deleteMode.visible ? \"white\" : \"#d32f2f\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: 6,\n          fontFamily: \"roboto\"\n        },\n        children: \"\\uC0AD\\uC81C\\uBAA8\\uB4DC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(DeleteBlock, \"e1eWZe9hA+DHKP0jR5O10MQwgLA=\", false, function () {\n  return [useRecoilState];\n});\n\n_c2 = DeleteBlock;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CommandArea\");\n$RefreshReg$(_c2, \"DeleteBlock\");","map":{"version":3,"sources":["/Users/macbook/_myProject/campustaxi-2-webview/src/components/Input/CommandArea.js"],"names":["DragDropContext","Droppable","Draggable","Icon","useRecoilState","alertDialogInit","alertDialogState","commandInputListState","commandWindowState","placePosState","FadeDiv","CommandListRenderItem","getItems","getItemStyle","getListStyle","onDragEnd","useCallback","useEffect","posInit","CItem","deleteModePosState","Button","Rowdot","CommandArea","deleteMode","setDeleteMode","commandInputList","setCommandInputList","alertDialogInfo","setAlertDialogInfo","commandWindow","placePos","setPlacePos","type","length","id","i","index","slice","CommandRect","visible","position","top","left","zIndex","height","width","overflow","onClickDelete","item","title","text","handleConfirm","list","paddingBottom","r","provided","snapshot","innerRef","isDraggingOver","map","draggableProps","dragHandleProps","isDragging","style","display","alignItems","justifyItems","marginTop","marginRight","borderStyle","borderWidth","borderRadius","borderColor","padding","placeholder","DeleteBlock","textTransform","marginLeft","fontFamily"],"mappings":"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","sourcesContent":["import { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { Icon } from \"../common/Icon\";\nimport { useRecoilState } from \"recoil\";\nimport { alertDialogInit, alertDialogState, commandInputListState, commandWindowState, placePosState } from \"../recoil\";\nimport { FadeDiv } from \"../FadeDiv\";\nimport { CommandListRenderItem } from \"./CommandInput/CommandListRenderItem\";\nimport { getItems, getItemStyle, getListStyle, onDragEnd } from \"./CommandInput/dndFunc\";\nimport { useCallback, useEffect } from \"react\";\nimport { posInit } from \"../common\";\nimport { CItem } from \"./CommandInput/CItem\";\nimport { deleteModePosState } from \"./../recoil\";\nimport Button from \"@mui/material/Button\";\nimport { Rowdot } from \"./../Icon/Rowdot\";\n\nexport const CommandArea = ({}) => {\n  const [deleteMode, setDeleteMode] = useRecoilState(deleteModePosState);\n  const [commandInputList, setCommandInputList] = useRecoilState(commandInputListState);\n  const [alertDialogInfo, setAlertDialogInfo] = useRecoilState(alertDialogState);\n  const [commandWindow] = useRecoilState(commandWindowState);\n  const [placePos, setPlacePos] = useRecoilState(placePosState);\n\n  //#region 명령어입력창 마지막는 무조건 텍스트(text,h1,h2,h3)로\n  useEffect(() => {\n    const type = commandInputList[commandInputList.length - 1].type;\n    if (type !== \"text\" && type !== \"h1\" && type !== \"h2\" && type !== \"h3\") {\n      setCommandInputList([...commandInputList, ...getItems(1, commandInputList.length + 1, \"text\")]);\n    }\n  }, [commandInputList.length]);\n  //#endregion\n  //#region 장소 선택 후 돌아올떄 반영\n  useEffect(() => {\n    if (placePos.id !== -1) {\n      let i = commandWindow.index;\n      setCommandInputList([\n        ...commandInputList.slice(0, i + 1),\n        ...getItems(1, commandInputList.length, \"place\", placePos),\n        ...commandInputList.slice(i + 1, 999),\n      ]);\n      setPlacePos(posInit);\n    }\n  }, []);\n  //#endregion\n  //#region 명령어창 UI\n  const CommandRect = useCallback(() => {\n    return (\n      <FadeDiv\n        visible={commandWindow.visible}\n        style={{ position: \"absolute\", top: commandWindow.top, left: commandWindow.left, zIndex: 9999 }}\n      >\n        <div style={{ height: commandWindow.height, width: 260, overflow: \"scroll\" }}>\n          <CommandListRenderItem img={\"text\"} title={\"#텍스트, #text\"} desc={\"일반 텍스트로 글을 작성하세요.\"} />\n          <CommandListRenderItem img={\"place\"} title={\"#장소, #place\"} desc={\"지도에서 장소를 선택하세요.\"} />\n          <CommandListRenderItem img={\"product\"} title={\"#상품, #product\"} desc={\"네이버샵의 상품을 선택하세요.\"} />\n          <CommandListRenderItem img={\"image\"} title={\"#이미지, #image\"} desc={\"이미지를 업로드해보세요.\"} />\n          <CommandListRenderItem img={\"h1\"} title={\"#큰 제목, h1\"} desc={\"큰 제목으로 글을 시작하세요.\"} />\n          <CommandListRenderItem img={\"h2\"} title={\"#부제목, #h2\"} desc={\"부제목으로 글을 시작하세요.\"} />\n          <CommandListRenderItem img={\"h3\"} title={\"#소제목 #h3\"} desc={\"소주제로 글을 시작하세요.\"} />\n          <CommandListRenderItem img={\"tag\"} title={\"#태그, #tag\"} desc={\"태그를 걸어 다른 사용자와 공유하세요.\"} />\n          <CommandListRenderItem img={\"contour\"} title={\"#구분선, #contour\"} desc={\"블록을 구분선으로 나눕니다.\"} />\n          {/* <CommandListRenderItem img={\"emoji\"} title={\"#이모지, #emoji\"} desc={\"텍스트로 넣을 이모지 선택하세요.\"} /> */}\n          <CommandListRenderItem img={\"red\"} title={\"#빨간색 글씨, #red\"} desc={\"빨간색으로 글을 작성하세요.\"} />\n          <CommandListRenderItem img={\"blue\"} title={\"#파란색 글씨, #blue\"} desc={\"파란색으로 글을 작성하세요.\"} />\n          <CommandListRenderItem img={\"brown\"} title={\"#갈색 글씨, #yellow\"} desc={\"갈색으로 글을 작성하세요.\"} />\n          <CommandListRenderItem img={\"purple\"} title={\"#보라색 글씨, #purple\"} desc={\"보라색으로 글을 작성하세요.\"} />\n          <CommandListRenderItem\n            img={\"yellow\"}\n            title={\"#노란색 배경, #yellow-background\"}\n            desc={\"노란색 배경으로 글을 작성하세요.\"}\n          />\n          <CommandListRenderItem\n            img={\"orange\"}\n            title={\"#주황색 배경, #orange-background\"}\n            desc={\"주황색 배경으로 글을 작성하세요.\"}\n          />\n          <CommandListRenderItem\n            img={\"gray\"}\n            title={\"#회색 배경, #gray-background\"}\n            desc={\"회색 배경으로 글을 작성하세요.\"}\n          />\n        </div>\n        {/* <div>#인용</div> */}\n        {/* <div>#콜아웃</div> */}\n        {/* <div>#사용자 멘션하기</div> */}\n        {/* <div>#동영상</div> */}\n        {/* <div>#코드</div> */}\n        {/* <div>#파일</div> */}\n        {/* <div>#북마크</div> */}\n      </FadeDiv>\n    );\n  }, [commandWindow.visible, commandWindow.left, commandWindow.top]);\n  //#endregion\n  //#region 블록 하나 삭제\n  const onClickDelete = (i, item) => {\n    if (!alertDialogInfo.visible) {\n      setAlertDialogInfo({\n        visible: true,\n        title: \"\",\n        text: \"정말 삭제하시겠습니까?\",\n        handleConfirm: () => {\n          const list = [...commandInputList.slice(0, i), ...commandInputList.slice(i + 1, 999)];\n          setCommandInputList(list.length > 0 ? list : [...getItems(1, 1, \"text\", \"\")]);\n          setAlertDialogInfo(alertDialogInit);\n        },\n      });\n      setDeleteMode({ ...deleteMode, index: i });\n    }\n  };\n\n  //#endregion\n  return (\n    <div style={{ paddingBottom: 300 }}>\n      <CommandRect />\n      <DragDropContext onDragEnd={(r) => onDragEnd(r, commandInputList, setCommandInputList)}>\n        <Droppable droppableId=\"droppable\">\n          {(provided, snapshot) => (\n            <div ref={provided.innerRef} style={getListStyle(snapshot.isDraggingOver)}>\n              {commandInputList.map((item, index) => (\n                <Draggable key={item.id} draggableId={item.id} index={index}>\n                  {(provided, snapshot) => {\n                    return (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\n                      >\n                        <div\n                          style={{\n                            display: \"flex\",\n                            alignItems: \"flex-start\",\n                            justifyItems: \"center\",\n                            marginTop: 8,\n                          }}\n                        >\n                          <div\n                            style={{\n                              display: \"flex\",\n                              alignItems: \"center\",\n                              justifyItems: \"center\",\n                              marginRight: 8,\n                              marginTop: 7,\n                              height: 10,\n                            }}\n                          >\n                            {deleteMode.visible ? (\n                              <div onClick={() => onClickDelete(index, item)}>\n                                <Icon name={\"faTrash\"} type={\"light\"} />\n                              </div>\n                            ) : (\n                              <Rowdot />\n                            )}\n                          </div>\n                          <div\n                            style={\n                              alertDialogInfo.visible && deleteMode.index === index\n                                ? {\n                                    borderStyle: \"solid\",\n                                    borderWidth: 2,\n                                    borderRadius: 3,\n                                    borderColor: \"#d32f2f\",\n                                  }\n                                : { padding: 1.5 }\n                            }\n                          >\n                            <CItem index={index} data={item} />\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  }}\n                </Draggable>\n              ))}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      </DragDropContext>\n      <DeleteBlock />\n    </div>\n  );\n};\n\nconst DeleteBlock = ({}) => {\n  const [deleteMode, setDeleteMode] = useRecoilState(deleteModePosState);\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: \"8%\",\n        left: \"4%\",\n      }}\n      onClick={() => setDeleteMode({ visible: !deleteMode.visible, index: -1 })}\n    >\n      <Button style={{ textTransform: \"none\" }} variant={deleteMode.visible ? \"contained\" : \"outlined\"} color=\"error\">\n        <Icon name={\"faTrash\"} color={deleteMode.visible ? \"white\" : \"#d32f2f\"} />\n        <div style={{ marginLeft: 6, fontFamily: \"roboto\" }}>삭제모드</div>\n      </Button>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}